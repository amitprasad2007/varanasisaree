import{K as W,r as S,j as e,$ as T,S as $,L as F}from"./app-qNBsVnUW.js";import{C as c,c as d,a as v,b,d as y}from"./card-DhW99ARI.js";import{B as w}from"./button-D4aiZzOM.js";import{I as B}from"./input-Dyp1Dvaq.js";import{L as P}from"./label-C4oF4q45.js";import{B as A}from"./badge-rR_sj3FN.js";import{T as H,U as M,F as Y,L as q,S as z,B as K,a as G,H as V,b as J,c as Q,d as X}from"./tooltip-GkyuhSBB.js";import{c as Z,a as C}from"./utils-7at7V7MA.js";import{S as ee}from"./sweetalert2.esm.all-1yHLk2J-.js";import{U as I}from"./users-DdPfALXl.js";import{C as se}from"./chart-pie-Cwz1Dam1.js";import{C as te}from"./credit-card-Dt07tg9p.js";import{T as ae}from"./trending-up-DdfO7Um2.js";import{D as O}from"./dollar-sign-HXOhxHbS.js";import{P as U}from"./package-DpHwgtlU.js";import{S as E}from"./shopping-cart-Dvkf-Dwc.js";import{U as re}from"./index-Cw5sr37V.js";import{C as le}from"./calendar-C1PZ9DF5.js";import{E as ne}from"./eye-D4tlc0eR.js";import"./index-JM0mbxjo.js";import"./index-D04qc_sK.js";import"./index-CkD3j4fZ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ie=Z("LayoutDashboard",ce),k={Home:V,Dashboard:ie,Barcode:G,Building:K,Settings:z,User:re,LogOutIcon:q,ShoppingCart:E,FileChartColumn:Y,Undo2:M,Package:U,DollarSign:O,TrendingUp:ae,Tags:H,CreditCard:te,PieChart:se,Users:I},de=()=>{var g,o,f;const{url:a,props:r}=W(),l=r==null?void 0:r.auth,_=r==null?void 0:r.vendor_menu,u=window.location.hostname.split(".")[0],x=_||{},[m,h]=S.useState({});S.useEffect(()=>{const s={};Object.entries(x).forEach(([t,n])=>{s[t]=n.some(j=>{var N;return a.startsWith(j.path)||((N=j.children)==null?void 0:N.some(R=>a.startsWith(R.path)))})}),h(t=>({...t,...s}))},[a,x]);const D=s=>{h(t=>({...t,[s]:!t[s]}))},p=s=>{s.preventDefault(),ee.fire({title:"Logout?",text:"You will be logged out of your account.",icon:"question",showCancelButton:!0,confirmButtonText:"Logout",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&$.post(route("vendor.logout",{domain:u}))})},L=s=>{var j;const t=k[s.icon]||V,n=a.startsWith(s.path)||((j=s.children)==null?void 0:j.some(i=>a.startsWith(i.path)));return s.is_logout?e.jsxs("button",{onClick:p,className:C("flex items-center gap-3 px-3 py-2 w-full rounded-md text-sm transition-colors","text-muted-foreground hover:text-foreground hover:bg-accent/20"),children:[e.jsx(t,{className:"h-4 w-4"}),e.jsx("span",{children:s.label})]}):e.jsxs("div",{children:[e.jsxs(T,{href:s.path,className:C("flex w-full items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",n?"text-foreground font-semibold bg-accent/20 border border-accent/30 shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-accent/10"),"aria-current":n?"page":void 0,children:[e.jsx(t,{className:"h-4 w-4"}),e.jsx("span",{children:s.label})]}),s.children&&s.children.length>0&&e.jsx("ul",{className:"ml-6 mt-1 space-y-1",children:s.children.map(i=>e.jsx("li",{children:e.jsxs(T,{href:i.path,className:C("flex w-full items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors",a.startsWith(i.path)?"text-foreground bg-accent/10 border border-accent/20 shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-accent/10"),"aria-current":a.startsWith(i.path)?"page":void 0,children:[(()=>{const N=k[i.icon]||V;return e.jsx(N,{className:"h-3.5 w-3.5"})})(),e.jsx("span",{children:i.label})]})},i.path))})]})};return e.jsx(c,{className:"fixed left-3 top-3 bottom-3 border-none rounded-lg w-68 bg-white text-foreground font-sans shadow-sm",children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx("div",{className:"px-5 pb-4 pt-5 bg-card",children:e.jsxs(T,{href:"/dashboard",className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-600 text-white flex items-center justify-center font-bold",children:"VS"}),e.jsxs("div",{className:"flex flex-col leading-tight",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Vendor"}),e.jsx("span",{className:"text-[11px] text-muted-foreground",children:"VaranasiSaree"})]})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto px-3 py-4 space-y-5",children:Object.entries(x).map(([s,t])=>e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>D(s),className:"w-full flex items-center justify-between px-3 py-2 text-xs uppercase tracking-wide text-muted-foreground hover:text-foreground",children:[e.jsx("span",{children:s}),e.jsx("span",{className:C("transition-transform",m[s]?"rotate-90":""),children:"›"})]}),m[s]&&e.jsx("ul",{className:"mt-2 space-y-2",children:t.map(n=>e.jsx("li",{children:L(n)},n.path))})]},s))}),e.jsx("div",{className:"mt-auto bg-card p-4 mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-emerald-600 text-white flex items-center justify-center text-base font-semibold",children:(g=l==null?void 0:l.user)!=null&&g.business_name?String(l.user.business_name).charAt(0).toUpperCase():"V"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"truncate text-base font-medium",children:((o=l==null?void 0:l.user)==null?void 0:o.business_name)??"Vendor"}),e.jsx("div",{className:"truncate text-xs text-muted-foreground",children:((f=l==null?void 0:l.user)==null?void 0:f.email)??""})]})]})})]})})};function oe({children:a,title:r}){return e.jsxs(e.Fragment,{children:[e.jsx(F,{title:r}),e.jsxs(J,{children:[e.jsx(Q,{}),e.jsx(X,{}),e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(de,{}),e.jsx("main",{className:"flex-1 ml-72 p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:a})})]})]})]})}function xe({vendor:a,stats:r,recent_orders:l,top_products:_,sales_chart:u,monthly_revenue:x,date_range:m}){const[h,D]=S.useState(m.start),[p,L]=S.useState(m.end),g=()=>{window.location.href=`/vendor/dashboard?start_date=${h}&end_date=${p}`};window.location.hostname.split(".")[0];const o=s=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(s),f=s=>{const t={pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},processing:{color:"bg-blue-100 text-blue-800",label:"Processing"},shipped:{color:"bg-purple-100 text-purple-800",label:"Shipped"},delivered:{color:"bg-green-100 text-green-800",label:"Delivered"},cancelled:{color:"bg-red-100 text-red-800",label:"Cancelled"}},n=t[s]||t.pending;return e.jsx(A,{className:n.color,children:n.label})};return e.jsxs(e.Fragment,{children:[e.jsx(F,{title:"Vendor Dashboard"}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mb-8 flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),e.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",a.business_name,"! Here's what's happening with your business."]})]})}),e.jsx(c,{className:"mb-8",children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{htmlFor:"start_date",children:"From:"}),e.jsx(B,{id:"start_date",type:"date",value:h,onChange:s=>D(s.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{htmlFor:"end_date",children:"To:"}),e.jsx(B,{id:"end_date",type:"date",value:p,onChange:s=>L(s.target.value)})]}),e.jsxs(w,{onClick:g,children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Apply Filter"]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(c,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(U,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_products})]})]})})}),e.jsx(c,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(E,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_orders})]})]})})}),e.jsx(c,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(O,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(r.total_revenue)})]})]})})}),e.jsx(c,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(I,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Commission Payable"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(r.commission_payable)})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs(c,{children:[e.jsxs(v,{children:[e.jsx(b,{children:"Sales Overview"}),e.jsx(y,{children:"Daily sales for the selected period"})]}),e.jsx(d,{children:e.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:u.map((s,t)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 bg-blue-500 rounded-t",style:{height:`${s.sales/Math.max(...u.map(n=>n.sales))*200}px`}}),e.jsx("span",{className:"text-xs text-gray-500 mt-2",children:s.date})]},t))})})]}),e.jsxs(c,{children:[e.jsxs(v,{children:[e.jsx(b,{children:"Monthly Revenue"}),e.jsx(y,{children:"Revenue trends over the last 12 months"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:x.slice(-6).map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s.month}),e.jsx("span",{className:"font-medium",children:o(s.revenue)})]},t))})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(c,{children:[e.jsxs(v,{children:[e.jsx(b,{children:"Recent Orders"}),e.jsx(y,{children:"Latest customer orders"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"space-y-4",children:l.map(s=>{var t;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Order #",s.order_id]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[((t=s.customer)==null?void 0:t.name)||"Customer"," • ",o(s.total_amount)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[f(s.status),e.jsx(w,{variant:"ghost",size:"sm",children:e.jsx(ne,{className:"h-4 w-4"})})]})]},s.id)})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(w,{variant:"outline",className:"w-full",children:"View All Orders"})})]})]}),e.jsxs(c,{children:[e.jsxs(v,{children:[e.jsx(b,{children:"Top Selling Products"}),e.jsx(y,{children:"Your best performing products"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"space-y-4",children:_.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.total_sold," units sold"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium",children:o(s.total_revenue||0)}),e.jsx("p",{className:"text-sm text-gray-600",children:"Revenue"})]})]},s.id))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(w,{variant:"outline",className:"w-full",children:"View All Products"})})]})]})]})]})})]})}xe.layout=a=>e.jsx(oe,{children:a,title:"Vendor Dashboard"});export{xe as default};
