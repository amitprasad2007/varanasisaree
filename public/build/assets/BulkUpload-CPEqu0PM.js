import{r as n,j as e,L as F,a as R}from"./app-qNBsVnUW.js";import{D as A,F as L}from"./DashboardLayout-D0BCeySr.js";import{C as m,a as x,b as h,d as y,c as u}from"./card-DhW99ARI.js";import{B as C}from"./button-D4aiZzOM.js";import{I}from"./input-Dyp1Dvaq.js";import{L as _}from"./label-C4oF4q45.js";import{a as w,b as q}from"./utils-7at7V7MA.js";import{P as K}from"./progress-BuEU0jPu.js";import{B as p}from"./badge-rR_sj3FN.js";import{U as z}from"./upload-c5L3j4IJ.js";import{D as S}from"./download-DXiXZC_O.js";import{C as U}from"./circle-check-big-AdAC6xUm.js";import{C as k}from"./circle-x-B7tHlIVM.js";import{T as E}from"./triangle-alert-DMlcZSBD.js";import"./tooltip-GkyuhSBB.js";import"./index-JM0mbxjo.js";import"./index-D04qc_sK.js";import"./index-Cw5sr37V.js";import"./index-CkD3j4fZ.js";import"./sweetalert2.esm.all-1yHLk2J-.js";import"./shopping-cart-Dvkf-Dwc.js";import"./star-isaTgVc7.js";const M=q("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),j=n.forwardRef(({className:a,variant:i,...r},f)=>e.jsx("div",{ref:f,role:"alert",className:w(M({variant:i}),a),...r}));j.displayName="Alert";const W=n.forwardRef(({className:a,...i},r)=>e.jsx("h5",{ref:r,className:w("mb-1 font-medium leading-none tracking-tight",a),...i}));W.displayName="AlertTitle";const g=n.forwardRef(({className:a,...i},r)=>e.jsx("div",{ref:r,className:w("text-sm [&_p]:leading-relaxed",a),...i}));g.displayName="AlertDescription";function ue(){const[a,i]=n.useState(!1),[r,f]=n.useState(null),[s,v]=n.useState(null),[b,c]=n.useState(0),P=t=>{var d;const l=(d=t.target.files)==null?void 0:d[0];l&&(f(l),v(null))},T=()=>{window.location.href="/products/bulkupload/template"},D=async()=>{var d;if(!r)return;i(!0),c(0);const t=new FormData;t.append("file",r);const l=setInterval(()=>{c(o=>Math.min(o+10,90))},200);try{const o=((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"))||"",B=(await R.post("/products/bulkupload",t,{headers:{"X-CSRF-TOKEN":o,"Content-Type":"multipart/form-data"},withCredentials:!0,onUploadProgress:N=>{if(N.total){const V=Math.round(N.loaded*100/N.total);c(Math.min(V,100))}}})).data;clearInterval(l),c(100),v(B)}catch{clearInterval(l),v({success:0,errors:["Upload failed. Please try again."],warnings:[]})}finally{i(!1),setTimeout(()=>c(0),1e3)}};return e.jsxs(A,{title:"Bulk Product Upload",children:[e.jsx(F,{title:"Bulk Product Upload"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Bulk Product Upload"}),e.jsx("p",{className:"text-muted-foreground",children:"Upload multiple products with their variants, specifications, images, and videos using CSV file"})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"}),"Upload Products"]}),e.jsx(y,{children:"Select a CSV file containing your product data to upload in bulk"})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{htmlFor:"file",children:"CSV File"}),e.jsx(I,{id:"file",type:"file",accept:".csv,.txt",onChange:P,disabled:a,className:"w-full cursor-pointer"})]}),r&&e.jsx("div",{className:"p-3 bg-muted rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:r.name}),e.jsxs(p,{variant:"secondary",children:[(r.size/1024).toFixed(1)," KB"]})]})}),a&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Uploading products..."}),e.jsxs("span",{children:[b,"%"]})]}),e.jsx(K,{value:b,className:"w-full"})]}),e.jsx(C,{onClick:D,disabled:!r||a,variant:"outline",className:"w-full cursor-pointer rounded-lg bg-primary text-primary-foreground hover:bg-gray-100 dark:hover:bg-gray-800",children:a?"Uploading...":"Upload Products"})]})]}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Download Template"]}),e.jsx(y,{children:"Download the CSV template with sample data and required format"})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Template includes:"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Basic product information"}),e.jsx("li",{children:"• Product variants (colors, sizes, SKUs)"}),e.jsx("li",{children:"• Product specifications"}),e.jsx("li",{children:"• Image URLs for automatic download"}),e.jsx("li",{children:"• Video information (YouTube, Vimeo)"}),e.jsx("li",{children:"• Sample data for reference"})]})]}),e.jsxs(C,{onClick:T,variant:"outline",className:"w-full cursor-pointer rounded-lg bg-primary text-primary-foreground hover:bg-gray-100 dark:hover:bg-gray-800",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Download CSV Template"]})]})]})]}),s&&e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[s.success>0?e.jsx(U,{className:"h-5 w-5 text-green-500"}):e.jsx(k,{className:"h-5 w-5 text-red-500"}),"Upload Results"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(p,{variant:"default",className:"bg-green-500",children:[s.success," Successful"]})}),s.errors.length>0&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(p,{variant:"destructive",children:[s.errors.length," Errors"]})}),s.warnings.length>0&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(p,{variant:"outline",className:"border-yellow-500 text-yellow-700",children:[s.warnings.length," Warnings"]})})]}),s.errors.length>0&&e.jsxs(j,{variant:"destructive",children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx(g,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Errors occurred during upload:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:s.errors.map((t,l)=>e.jsx("li",{className:"text-sm",children:t},l))})]})})]}),s.warnings.length>0&&e.jsxs(j,{children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx(g,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Warnings:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:s.warnings.map((t,l)=>e.jsx("li",{className:"text-sm",children:t},l))})]})})]}),s.success>0&&e.jsxs(j,{children:[e.jsx(U,{className:"h-4 w-4"}),e.jsxs(g,{children:["Successfully uploaded ",s.success," products with all their variants, specifications, images, and videos."]})]})]})]}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"CSV Format Guide"}),e.jsx(y,{children:"Understanding the CSV format for bulk product upload"})]}),e.jsx(u,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Basic Fields"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"name:"})," Product name"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"description:"})," Product description"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"category_name:"})," Category (will be created if not exists)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"subcategory_name:"})," Subcategory"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"brand_name:"})," Brand name"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"price:"})," Base price"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"discount:"})," Discount percentage"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"stock_quantity:"})," Stock quantity"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Advanced Fields"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"specifications:"})," Name:Value|Name:Value"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"variants:"})," Color-Size-SKU-Price-Discount-Stock"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"images:"})," URL1|URL2|URL3 (auto-downloaded)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"videos:"})," Provider-VideoID-Title"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"is_bestseller:"})," true/false"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"status:"})," active/inactive"]})]})]})]})})]})]})]})}export{ue as default};
