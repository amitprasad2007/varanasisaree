import{r as x,m as k,j as e,$ as j,S as f}from"./app-DgxAqZIh.js";import{D as E}from"./DashboardLayout-T__Wzna3.js";import{T as Y,a as $,b as h,c as i,d as z,e as n}from"./table-zCqAAXdz.js";import{B as p}from"./button-BdIkOZPE.js";import{B as c}from"./badge-C8hEx-7x.js";import{B as G}from"./breadcrumbs-ChDlXGWW.js";import{S as l}from"./sweetalert2.esm.all-DGhwgajj.js";import{P as H}from"./plus-Dmmdjp4Q.js";import{G as b}from"./grip-vertical-D9BamfYe.js";import{S as R}from"./square-pen-DH9LeScp.js";import{T as L}from"./trash-2-BgiGiMIN.js";import"./index-Ba_FneK2.js";import"./utils-DwYqQn47.js";import"./index-Ch4nA-VE.js";import"./card-BuoT8ScV.js";import"./shopping-cart-DLwSuZv_.js";import"./log-out-BHgaQSNh.js";function oe({faqs:v}){const[d,N]=x.useState(v.data),[a,u]=x.useState(null),[w,m]=x.useState(!1),y=[{title:"Dashboard",href:route("dashboard")},{title:"FAQs",href:route("faqs.index")}],{delete:S}=k(),D=s=>{l.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&S(route("faqs.destroy",s),{onSuccess:()=>{l.fire({title:"Deleted!",text:"Your FAQ has been deleted.",icon:"success",timer:3e3,showConfirmButton:!1})}})})},A=s=>{switch(s){case"active":return e.jsx(c,{className:"bg-green-100 text-green-800",children:"Active"});case"inactive":return e.jsx(c,{className:"bg-red-100 text-red-800",children:"Inactive"});case"pending":return e.jsx(c,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});default:return e.jsx(c,{className:"bg-gray-100 text-gray-800",children:s})}},B=(s,r)=>{u(r),m(!0),s.dataTransfer.effectAllowed="move"},I=s=>{s.preventDefault(),s.dataTransfer.dropEffect="move"},T=(s,r)=>{if(s.preventDefault(),!a||a.id===r.id){m(!1),u(null);return}const t=[...d],Q=t.findIndex(o=>o.id===a.id),P=t.findIndex(o=>o.id===r.id);t.splice(Q,1),t.splice(P,0,a);const g=t.map((o,O)=>({...o,order:O+1}));N(g),m(!1),u(null),C(g)},C=s=>{const r=s.map(t=>({id:t.id,order:t.order}));f.post(route("faqs.update-order"),{faqs:r},{preserveScroll:!0,onSuccess:()=>{l.fire({title:"Success!",text:"FAQ order updated successfully",icon:"success",timer:2e3,showConfirmButton:!1})}})},F=(s,r)=>{f.post(route("faqs.update-status",s),{status:r},{preserveScroll:!0,onSuccess:()=>{l.fire({title:"Success!",text:"FAQ status updated successfully",icon:"success",timer:2e3,showConfirmButton:!1})}})};return e.jsxs(E,{title:"FAQs",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"FAQs Management"}),e.jsx(j,{href:route("faqs.create"),children:e.jsxs(p,{className:"flex items-center gap-2 bg-primary cursor-pointer hover:bg-gray-100 text-black shadow-sm",children:[e.jsx(H,{className:"h-4 w-4"}),"Add FAQ"]})})]}),e.jsx(G,{breadcrumbs:y})]}),e.jsxs("div",{className:"bg-white rounded-md shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx(b,{className:"inline h-4 w-4 mr-1"}),"Drag and drop rows to reorder FAQs"]})}),e.jsxs(Y,{children:[e.jsx($,{children:e.jsxs(h,{children:[e.jsx(i,{width:"50"}),e.jsx(i,{children:"Order"}),e.jsx(i,{children:"Question"}),e.jsx(i,{children:"Answer"}),e.jsx(i,{children:"Status"}),e.jsx(i,{className:"text-right",children:"Actions"})]})}),e.jsx(z,{children:d.length>0?d.map(s=>e.jsxs(h,{draggable:!0,onDragStart:r=>B(r,s),onDragOver:I,onDrop:r=>T(r,s),className:`${w&&(a==null?void 0:a.id)===s.id?"opacity-50":""} cursor-move hover:bg-gray-50`,children:[e.jsx(n,{children:e.jsx(b,{className:"h-4 w-4 text-gray-400"})}),e.jsx(n,{children:e.jsx(c,{variant:"outline",className:"bg-blue-50 text-blue-700",children:s.order})}),e.jsx(n,{className:"font-medium max-w-xs",children:e.jsx("div",{className:"truncate",title:s.question,children:s.question})}),e.jsx(n,{className:"max-w-md",children:e.jsx("div",{className:"truncate text-gray-600",title:s.answer,children:s.answer})}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[A(s.status),e.jsxs("select",{value:s.status,onChange:r=>F(s.id,r.target.value),className:"text-xs border rounded px-2 py-1",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"})]})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(j,{href:route("faqs.edit",s.id),children:e.jsx(p,{variant:"outline",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",size:"sm",children:e.jsx(R,{className:"h-4 w-4"})})}),e.jsx(p,{variant:"outline",className:"cursor-pointer text-red-600 hover:bg-red-50",size:"sm",onClick:()=>D(s.id),children:e.jsx(L,{className:"h-4 w-4 cursor-pointer"})})]})})]},s.id)):e.jsx(h,{children:e.jsx(n,{colSpan:6,className:"text-center py-4",children:"No FAQs found"})})})]})]})]})}export{oe as default};
