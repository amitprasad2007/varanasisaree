import{r as k,m as B,j as e,L as S,$ as m,a as x}from"./app-Dt8SgsQa.js";import{D as C,I as D}from"./DashboardLayout-DEQKCvuo.js";import{B as n}from"./button-CinZz_E3.js";import{T as E,a as T,b as u,c,d as I,e as i}from"./table-CUqHF-5O.js";import{D as P,C as A,P as L}from"./react-beautiful-dnd.esm-BhqROvUV.js";import{B as _}from"./breadcrumbs-CrFOs0nJ.js";import{S as o}from"./sweetalert2.all-llSnEV2y.js";import{P as p}from"./plus-7gmreVpl.js";import{c as f}from"./utils-DwlY4Opt.js";import{E as z}from"./eye-CfKGy-Hd.js";import{S as F}from"./square-pen-BtKqBr6o.js";import{T as R}from"./trash-2-T0ZWfT11.js";import"./index-CpzvdnLv.js";import"./index-aEagMRCk.js";import"./tooltip-CtzGXkBW.js";import"./tiny-invariant-BaFNuDhB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],G=f("EyeOff",$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],M=f("GripVertical",H),ce=({banners:j})=>{const[l,h]=k.useState(j),{delete:g}=B(),y=s=>{confirm("Are you sure you want to delete this banner?")&&g(route("banners.destroy",s),{preserveScroll:!0,onSuccess:()=>{o.fire({title:"Success!",text:"Banner deleted successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})},b=s=>{x.post(route("banners.update-status",s)).then(()=>{h(l.map(r=>r.id===s?{...r,status:r.status==="active"?"inactive":"active"}:r)),o.fire({title:"Success!",text:"Banner status updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}).catch(r=>{o.fire({title:"Error!",text:"Failed to update banner status",icon:"error",timer:4e3,showConfirmButton:!1})})},N=s=>{if(!s.destination)return;const r=Array.from(l),[d]=r.splice(s.source.index,1);r.splice(s.destination.index,0,d);const t=r.map((a,v)=>({...a,order:v+1}));h(t),x.post(route("banners.update-order"),{banners:t.map(a=>({id:a.id,order:a.order}))}).then(()=>{o.fire({title:"Success!",text:"Banner order updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}).catch(a=>{console.error("Error updating order:",a),o.fire({title:"Error!",text:"Failed to update banner order",icon:"error",timer:4e3,showConfirmButton:!1})})},w=[{title:"Dashboard",href:route("dashboard")},{title:"Banner",href:route("banners.index")}];return e.jsxs(C,{title:"Banners",children:[e.jsx(S,{title:"Banners"}),e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Banners"}),e.jsx(m,{href:route("banners.create"),children:e.jsxs(n,{className:"flex items-center gap-2 bg-primary cursor-pointer hover:bg-gray-100 text-black shadow-sm",variant:"outline",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Add New Banner"]})})]}),e.jsx(_,{breadcrumbs:w})]}),l.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 text-center border border-gray-100",children:[e.jsx(D,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No banners found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating a new banner."}),e.jsx(m,{href:route("banners.create"),children:e.jsxs(n,{variant:"outline",className:"items-center gap-2 bg-primary cursor-pointer hover:bg-gray-100 text-black shadow-sm",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Add New Banner"]})})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsx(P,{onDragEnd:N,children:e.jsxs(E,{children:[e.jsx(T,{children:e.jsxs(u,{children:[e.jsx(c,{style:{width:"50px"}}),e.jsx(c,{children:"Image"}),e.jsx(c,{children:"Title"}),e.jsx(c,{children:"Link"}),e.jsx(c,{children:"Status"}),e.jsx(c,{children:"Actions"})]})}),e.jsx(A,{droppableId:"banners",children:s=>e.jsxs(I,{...s.droppableProps,ref:s.innerRef,children:[l.map((r,d)=>e.jsx(L,{draggableId:r.id.toString(),index:d,children:t=>e.jsxs(u,{ref:t.innerRef,...t.draggableProps,children:[e.jsx(i,{children:e.jsx("div",{...t.dragHandleProps,className:"cursor-move flex justify-center",children:e.jsx(M,{className:"h-5 w-5 text-gray-400"})})}),e.jsx(i,{children:e.jsx("img",{src:`/storage/${r.image}`,alt:r.title||"Banner",className:"h-12 w-20 object-cover rounded-md"})}),e.jsx(i,{children:r.title||"Untitled"}),e.jsx(i,{children:r.link?e.jsx("a",{href:"http://127.0.0.1:8080/"+r.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate block max-w-xs",children:r.link}):e.jsx("span",{className:"text-gray-400 italic",children:"No link"})}),e.jsx(i,{children:e.jsx(n,{variant:r.status==="active"?"default":"outline",size:"sm",onClick:()=>b(r.id),children:r.status==="active"?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"h-4 w-4 mr-1 cursor-pointer"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"h-4 w-4 mr-1 cursor-pointer"}),"Inactive"]})})}),e.jsx(i,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(m,{href:route("banners.edit",r.id),children:e.jsxs(n,{variant:"outline",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",size:"sm",children:[e.jsx(F,{className:"h-4 w-4 cursor-pointer"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>y(r.id),className:"text-red-600 hover:bg-red-50",children:[e.jsx(R,{className:"h-4 w-4 cursor-pointer"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]})},r.id)),s.placeholder]})})]})})})]})};export{ce as default};
