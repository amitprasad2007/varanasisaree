import{j as e,L as q}from"./app-CSGsXN2_.js";import{C as t,c as d,a as r,b as x}from"./card-BP32WA0n.js";import{B as i}from"./badge-yjkeAiUG.js";import{B as A}from"./button-CpHgoeej.js";import{D as z}from"./DashboardLayout-Cm7fWHDc.js";import{R as J}from"./refresh-cw-BzXYUFcw.js";import{D as Q}from"./download-ZE0nEj1W.js";import{A as H,a as W,R as V,L as $,X as ee,Y as se,T as ae,b as le}from"./LineChart-05smpod_.js";import{D as te}from"./dollar-sign-jwjgSRpK.js";import{S as de}from"./shopping-cart-C7Jx4JUS.js";import{U as ne}from"./users-Dj2qfCU9.js";import{T as X}from"./triangle-alert-toSOcadI.js";import{P as re}from"./package-i8_Er7pX.js";import{a as Y,C as xe}from"./chart-pie-IlM__aLI.js";import"./utils-CBONDciz.js";import"./index-CLPvigs0.js";import"./index-CtLLpabt.js";import"./sweetalert2.esm.all-DGhwgajj.js";import"./user-d7lXj7p_.js";import"./log-out-0xslMiQr.js";import"./tiny-invariant-BaFNuDhB.js";const Be=({metrics:s,salesChart:c,revenueChart:oe,topProducts:h,recentOrders:m,recentSales:j,customerInsights:ie,inventoryAlerts:n})=>{var p,N,f,b,u,w,v,y,_,k,S,L,C,R,D,T,B,G,M,O,P,U,E,F,I;const Z=new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"}),g=new Date(Z).getHours();let o;return g<12?o="Good Morning!":g<18?o="Good Afternoon!":o="Good Evening!",e.jsxs(z,{title:"Business Dashboard",children:[e.jsx(q,{title:"Dashboard"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[e.jsx("div",{className:"bg-white shadow-lg border-b-4 border-blue-500",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Business Dashboard"}),e.jsx("h1",{className:"text-2xl font-bold text-primary",children:o}),e.jsx("p",{className:"text-lg text-blue-600",children:"Real-time insights and analytics"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(A,{variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs(A,{className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(t,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white border-0 shadow-lg",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium uppercase tracking-wide",children:"Today's Sales"}),e.jsxs("p",{className:"text-3xl font-bold",children:["₹",((N=(p=s==null?void 0:s.sales)==null?void 0:p.today)==null?void 0:N.toLocaleString())||"0"]}),e.jsxs("div",{className:"flex items-center mt-2",children:[(((f=s==null?void 0:s.sales)==null?void 0:f.growth_daily)||0)>=0?e.jsx(H,{className:"w-4 h-4 text-green-300"}):e.jsx(W,{className:"w-4 h-4 text-red-300"}),e.jsxs("span",{className:"text-sm text-blue-100 ml-1",children:[Math.abs(((b=s==null?void 0:s.sales)==null?void 0:b.growth_daily)||0).toFixed(1),"% vs yesterday"]})]})]}),e.jsx(te,{className:"w-12 h-12 text-blue-200"})]})})}),e.jsx(t,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white border-0 shadow-lg",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm font-medium uppercase tracking-wide",children:"Today's Orders"}),e.jsx("p",{className:"text-3xl font-bold",children:((u=s==null?void 0:s.orders)==null?void 0:u.today)||0}),e.jsxs("div",{className:"flex items-center mt-2",children:[(((w=s==null?void 0:s.orders)==null?void 0:w.growth_daily)||0)>=0?e.jsx(H,{className:"w-4 h-4 text-green-300"}):e.jsx(W,{className:"w-4 h-4 text-red-300"}),e.jsxs("span",{className:"text-sm text-green-100 ml-1",children:[Math.abs(((v=s==null?void 0:s.orders)==null?void 0:v.growth_daily)||0).toFixed(1),"% vs yesterday"]})]})]}),e.jsx(de,{className:"w-12 h-12 text-green-200"})]})})}),e.jsx(t,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white border-0 shadow-lg",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium uppercase tracking-wide",children:"Total Customers"}),e.jsx("p",{className:"text-3xl font-bold",children:((_=(y=s==null?void 0:s.customers)==null?void 0:y.total)==null?void 0:_.toLocaleString())||"0"}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsxs("span",{className:"text-sm text-purple-100",children:["+",((k=s==null?void 0:s.customers)==null?void 0:k.new_today)||0," today"]})})]}),e.jsx(ne,{className:"w-12 h-12 text-purple-200"})]})})}),e.jsx(t,{className:"bg-gradient-to-br from-orange-500 to-red-500 text-white border-0 shadow-lg",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-sm font-medium uppercase tracking-wide",children:"Inventory Alerts"}),e.jsx("p",{className:"text-3xl font-bold",children:(((S=s==null?void 0:s.products)==null?void 0:S.low_stock)||0)+(((L=s==null?void 0:s.products)==null?void 0:L.out_of_stock)||0)}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(X,{className:"w-4 h-4 text-yellow-300 mr-1"}),e.jsxs("span",{className:"text-sm text-orange-100",children:[((C=s==null?void 0:s.products)==null?void 0:C.out_of_stock)||0," out of stock"]})]})]}),e.jsx(re,{className:"w-12 h-12 text-orange-200"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(t,{className:"shadow-lg",children:[e.jsx(r,{children:e.jsxs(x,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Sales Trend (Last 30 Days)"})]}),e.jsx(i,{variant:"secondary",children:"Live"})]})}),e.jsx(d,{children:e.jsx("div",{className:"h-80",children:c&&c.length>0?e.jsx(V,{width:"100%",height:"100%",children:e.jsxs($,{data:c,children:[e.jsx(ee,{dataKey:"date",stroke:"#6b7280"}),e.jsx(se,{stroke:"#6b7280"}),e.jsx(ae,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"white"}}),e.jsx(le,{type:"monotone",dataKey:"sales",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2}})]})}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Y,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No sales data available"})]})})})})]}),e.jsxs(t,{className:"shadow-lg",children:[e.jsx(r,{children:e.jsxs(x,{className:"flex items-center space-x-2",children:[e.jsx(xe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Revenue Overview"})]})}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 h-80",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["₹",((D=(R=s==null?void 0:s.revenue)==null?void 0:R.total)==null?void 0:D.toLocaleString())||"0"]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-yellow-800",children:"Pending Orders"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["₹",((B=(T=s==null?void 0:s.revenue)==null?void 0:T.pending)==null?void 0:B.toLocaleString())||"0"]})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-800",children:"Refunds"}),e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["₹",((M=(G=s==null?void 0:s.revenue)==null?void 0:G.refunds)==null?void 0:M.toLocaleString())||"0"]})]})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-6xl font-bold text-gray-700",children:[(O=s==null?void 0:s.sales)!=null&&O.this_month&&((P=s==null?void 0:s.sales)!=null&&P.last_month)?((s.sales.this_month-s.sales.last_month)/s.sales.last_month*100).toFixed(1):"0","%"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Monthly Growth"})]})})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(t,{className:"shadow-lg",children:[e.jsx(r,{children:e.jsx(x,{className:"text-lg",children:"Top Selling Products"})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:h&&h.length>0?h.map((a,l)=>{var K;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-white rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:a.sku}),e.jsxs("p",{className:"text-sm text-blue-600",children:[a.total_sold," sold"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-bold text-green-600",children:["₹",(K=a.total_revenue)==null?void 0:K.toLocaleString()]})})]},l)}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No product data available"})})})]}),e.jsxs(t,{className:"shadow-lg",children:[e.jsx(r,{children:e.jsx(x,{className:"text-lg",children:"Recent Orders"})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:m&&m.length>0?m.map(a=>{var l;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-white rounded-lg border",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900 text-sm",children:["#",a.id]}),e.jsx("p",{className:"text-xs text-gray-500",children:a.customer_name}),e.jsx("p",{className:"text-xs text-gray-400",children:a.created_at})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-gray-900",children:["₹",(l=a.total)==null?void 0:l.toLocaleString()]}),e.jsx(i,{variant:a.status==="completed"?"default":"secondary",className:"text-xs",children:a.status})]})]},a.id)}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent orders"})})})]}),e.jsxs(t,{className:"shadow-lg",children:[e.jsx(r,{children:e.jsx(x,{className:"text-lg",children:"Recent POS Sales"})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:j&&j.length>0?j.map(a=>{var l;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-white rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:a.invoice_number}),e.jsx("p",{className:"text-xs text-gray-500",children:a.customer_name}),e.jsx("p",{className:"text-xs text-gray-400",children:a.created_at})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-gray-900",children:["₹",(l=a.total)==null?void 0:l.toLocaleString()]}),e.jsx(i,{variant:"default",className:"text-xs",children:a.status})]})]},a.id)}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent sales"})})})]})]}),n&&(((U=n.low_stock)==null?void 0:U.length)>0||((E=n.out_of_stock)==null?void 0:E.length)>0)&&e.jsxs(t,{className:"shadow-lg border-l-4 border-l-red-500",children:[e.jsx(r,{children:e.jsxs(x,{className:"flex items-center space-x-2 text-red-600",children:[e.jsx(X,{className:"w-5 h-5"}),e.jsx("span",{children:"Inventory Alerts"})]})}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[((F=n.out_of_stock)==null?void 0:F.length)>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-red-800 mb-3",children:["Out of Stock (",n.out_of_stock.length,")"]}),e.jsx("div",{className:"space-y-2",children:n.out_of_stock.slice(0,5).map((a,l)=>e.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-medium text-red-900",children:a.name}),e.jsx("p",{className:"text-sm text-red-600",children:a.sku})]},l))})]}),((I=n.low_stock)==null?void 0:I.length)>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-orange-800 mb-3",children:["Low Stock (",n.low_stock.length,")"]}),e.jsx("div",{className:"space-y-2",children:n.low_stock.slice(0,5).map((a,l)=>e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-orange-900",children:a.name}),e.jsx("p",{className:"text-sm text-orange-600",children:a.sku})]}),e.jsxs(i,{variant:"outline",className:"text-orange-700",children:[a.stock," left"]})]},l))})]})]})})]})]})]})]})};export{Be as default};
