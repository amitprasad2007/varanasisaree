import{j as e,$ as k,S as V}from"./app-G5M6P28j.js";import{u as q,F,a as t,b as n,c as d,d as o,f as c}from"./form-BFuQFemk.js";import{s as P}from"./zod-CnZBUTGp.js";import{o as B,e as D,a as I,s as l}from"./index-B9ALDWfZ.js";import{D as T,C as z}from"./DashboardLayout-BI4DHHLB.js";import{B as $}from"./button-B6G8yOG5.js";import{I as m}from"./input-CeRzryjf.js";import{B as A}from"./breadcrumbs-CebJkgAd.js";import{S as K}from"./sweetalert2.all-DE8p1HBY.js";import{S as u,a as h,b as j,c as p,d as x}from"./select-CkAbneU4.js";import{A as L}from"./arrow-left-C77BDk2g.js";import"./utils-BlmioG6T.js";import"./label-XilLrB4Z.js";import"./index-VK-ak2lk.js";import"./index-DODRBDrS.js";import"./index-DUpcNtAY.js";import"./Combination-BIDKWmpC.js";import"./check-DZkAxYVk.js";const U=B({product_id:l(),color_id:l().min(1,"Color is required"),size_id:l().min(1,"Size is required"),sku:l().min(1,"SKU is required"),price:l().min(1,"Price is required"),discount:l(),stock_quantity:l().min(1,"Stock quantity is required"),image:I().optional(),status:D(["active","inactive"])});function de({product:a,colors:v,sizes:y}){const g=q({resolver:P(U),defaultValues:{product_id:a.id.toString(),color_id:"",size_id:"",sku:"",price:"",discount:"0",stock_quantity:"0",image:null,status:"active"}}),{control:i,handleSubmit:S,formState:{errors:E,isSubmitting:b}}=g,C=s=>{const r=new FormData;r.append("product_id",s.product_id),r.append("color_id",s.color_id),r.append("size_id",s.size_id),r.append("sku",s.sku),r.append("price",s.price),r.append("discount",s.discount),r.append("stock_quantity",s.stock_quantity),r.append("status",s.status),s.image&&r.append("image",s.image),V.post(route("product-variants.store",a.id),r,{onSuccess:()=>{K.fire({title:"Success!",text:"Variant created successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})},N=[{title:"Dashboard",href:route("dashboard")},{title:"Product Variants",href:route("product-variants.index",a.id)},{title:"Create Product Variant",href:route("product-variants.create",a.id)}];return e.jsxs(T,{title:`Create Product Variant - ${a.name}`,children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h1",{className:"text-2xl font-bold",children:["Create Product Variant - ",a.name]})}),e.jsx(A,{breadcrumbs:N})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(k,{href:route("product-variants.index",a.id),className:"flex w-48 items-center text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-md p-2 mb-2",children:[e.jsx(L,{className:"w-4 h-4 mr-1 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800"}),"Back to Variants"]}),e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Create Product Variant - ",a.name]}),e.jsx(z,{children:e.jsx("div",{className:"bg-white rounded-md shadow p-6",children:e.jsx(F,{...g,children:e.jsxs("form",{onSubmit:S(C),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(t,{control:i,name:"color_id",render:({field:s})=>e.jsxs(n,{children:[e.jsx(d,{children:"Color"}),e.jsx(o,{children:e.jsxs(u,{value:s.value,onValueChange:s.onChange,children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select a color"})}),e.jsx(p,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:v.map(r=>e.jsx(x,{value:r.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2 bg-white p-1 rounded",children:[r.hex_code&&e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:r.hex_code}}),r.name]})},r.id))})]})}),e.jsx(c,{})]})}),e.jsx(t,{control:i,name:"size_id",render:({field:s})=>e.jsxs(n,{children:[e.jsx(d,{children:"Size"}),e.jsx(o,{children:e.jsxs(u,{value:s.value,onValueChange:s.onChange,children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select a size"})}),e.jsx(p,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:y.map(r=>e.jsxs(x,{value:r.id.toString(),children:[r.name," ",r.code&&`(${r.code})`]},r.id))})]})}),e.jsx(c,{})]})})]}),e.jsx(t,{control:i,name:"sku",render:({field:s})=>e.jsxs(n,{children:[e.jsxs(d,{children:["SKU ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{children:e.jsx(m,{placeholder:"Product variant SKU",...s})}),e.jsx(c,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(t,{control:i,name:"price",render:({field:s})=>e.jsxs(n,{children:[e.jsxs(d,{children:["Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{children:e.jsx(m,{type:"number",placeholder:"0.00",step:"0.01",min:"0",...s})}),e.jsx(c,{})]})}),e.jsx(t,{control:i,name:"discount",render:({field:s})=>e.jsxs(n,{children:[e.jsx(d,{children:"Discount (%)"}),e.jsx(o,{children:e.jsx(m,{type:"number",placeholder:"0",min:"0",max:"100",...s})}),e.jsx(c,{})]})}),e.jsx(t,{control:i,name:"stock_quantity",render:({field:s})=>e.jsxs(n,{children:[e.jsxs(d,{children:["Stock Quantity ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{children:e.jsx(m,{type:"number",placeholder:"0",min:"0",...s})}),e.jsx(c,{})]})})]}),e.jsx(t,{control:i,name:"image",render:({field:{onChange:s,value:r,..._}})=>e.jsxs(n,{children:[e.jsx(d,{children:"Variant Image"}),e.jsx(o,{children:e.jsx(m,{type:"file",accept:"image/*",onChange:w=>{var f;return s(((f=w.target.files)==null?void 0:f[0])||null)},..._})}),e.jsx(c,{})]})}),e.jsx(t,{control:i,name:"status",render:({field:s})=>e.jsxs(n,{children:[e.jsxs(d,{children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{children:e.jsxs(u,{value:s.value,onValueChange:s.onChange,children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select status"})}),e.jsxs(p,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:[e.jsx(x,{value:"active",children:"Active"}),e.jsx(x,{value:"inactive",children:"Inactive"})]})]})}),e.jsx(c,{})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx($,{variant:"outline",type:"submit",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",disabled:b,children:b?"Creating...":"Create Variant"})})]})})})})]})]})}export{de as default};
