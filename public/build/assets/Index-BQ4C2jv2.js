import{r as P,j as u,$ as Te,m as Pe,S as wt}from"./app-Bxcx8iWI.js";import{I as Nt,D as vt}from"./DashboardLayout-Bk5qhd0x.js";import{B as W}from"./button-B-Q0rHE3.js";import{C as Ct,c as Et}from"./card-6-RxlF5D.js";import{c as et,a as be}from"./utils-CApTGbaN.js";import{A as tt}from"./arrow-left-B-Lo7ADM.js";import{T as It,a as Dt,b as Qe,c as de,d as At,e as me}from"./table-VE4wDEtw.js";import{D as Pt,C as Tt,P as Lt}from"./react-beautiful-dnd.esm-Pu9KXV4K.js";import{A as kt,a as Ot,b as Mt,c as Ft,d as Bt,e as zt,f as Rt,g as Vt,h as _t}from"./alert-dialog-CQeD15LN.js";import{S as Je}from"./star-D13BRwNS.js";import{T as Ht}from"./trash-2-CsSEFkjR.js";import{C as nt}from"./circle-plus-C3EjEkix.js";import{B as Gt}from"./breadcrumbs-B5_XlM2b.js";import{S as ce}from"./sweetalert2.all-D8jn-Q7x.js";import"./index-C4Dxx4wu.js";import"./index-BU_xS3vh.js";import"./tooltip-D4vAc27p.js";import"./tiny-invariant-BaFNuDhB.js";import"./index-qRUoCTD1.js";import"./Combination-p55QWEYN.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qt=et("ArrowRight",$t);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Ut=et("Move",Kt);function Qt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Xe(e){return Qt(e)||Array.isArray(e)}function Jt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Oe(e,t){const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;const i=JSON.stringify(Object.keys(e.breakpoints||{})),r=JSON.stringify(Object.keys(t.breakpoints||{}));return i!==r?!1:n.every(s=>{const l=e[s],a=t[s];return typeof l=="function"?`${l}`==`${a}`:!Xe(l)||!Xe(a)?l===a:Oe(l,a)})}function Ye(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function Xt(e,t){if(e.length!==t.length)return!1;const n=Ye(e),o=Ye(t);return n.every((i,r)=>{const s=o[r];return Oe(i,s)})}function Me(e){return typeof e=="number"}function Le(e){return typeof e=="string"}function Ne(e){return typeof e=="boolean"}function Ze(e){return Object.prototype.toString.call(e)==="[object Object]"}function L(e){return Math.abs(e)}function Fe(e){return Math.sign(e)}function he(e,t){return L(e-t)}function Yt(e,t){if(e===0||t===0||L(e)<=L(t))return 0;const n=he(L(e),L(t));return L(n/e)}function Zt(e){return Math.round(e*100)/100}function ge(e){return xe(e).map(Number)}function V(e){return e[Se(e)]}function Se(e){return Math.max(0,e.length-1)}function Be(e,t){return t===Se(e)}function We(e,t=0){return Array.from(Array(e),(n,o)=>t+o)}function xe(e){return Object.keys(e)}function rt(e,t){return[e,t].reduce((n,o)=>(xe(o).forEach(i=>{const r=n[i],s=o[i],l=Ze(r)&&Ze(s);n[i]=l?rt(r,s):s}),n),{})}function ke(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function Wt(e,t){const n={start:o,center:i,end:r};function o(){return 0}function i(a){return r(a)/2}function r(a){return t-a}function s(a,c){return Le(e)?n[e](a):e(t,a,c)}return{measure:s}}function ye(){let e=[];function t(i,r,s,l={passive:!0}){let a;if("addEventListener"in i)i.addEventListener(r,s,l),a=()=>i.removeEventListener(r,s,l);else{const c=i;c.addListener(s),a=()=>c.removeListener(s)}return e.push(a),o}function n(){e=e.filter(i=>i())}const o={add:t,clear:n};return o}function en(e,t,n,o){const i=ye(),r=1e3/60;let s=null,l=0,a=0;function c(){i.add(e,"visibilitychange",()=>{e.hidden&&f()})}function y(){b(),i.clear()}function p(x){if(!a)return;s||(s=x,n(),n());const d=x-s;for(s=x,l+=d;l>=r;)n(),l-=r;const g=l/r;o(g),a&&(a=t.requestAnimationFrame(p))}function m(){a||(a=t.requestAnimationFrame(p))}function b(){t.cancelAnimationFrame(a),s=null,l=0,a=0}function f(){s=null,l=0}return{init:c,destroy:y,start:m,stop:b,update:n,render:o}}function tn(e,t){const n=t==="rtl",o=e==="y",i=o?"y":"x",r=o?"x":"y",s=!o&&n?-1:1,l=y(),a=p();function c(f){const{height:h,width:x}=f;return o?h:x}function y(){return o?"top":n?"right":"left"}function p(){return o?"bottom":n?"left":"right"}function m(f){return f*s}return{scroll:i,cross:r,startEdge:l,endEdge:a,measureSize:c,direction:m}}function re(e=0,t=0){const n=L(e-t);function o(c){return c<e}function i(c){return c>t}function r(c){return o(c)||i(c)}function s(c){return r(c)?o(c)?e:t:c}function l(c){return n?c-n*Math.ceil((c-t)/n):c}return{length:n,max:t,min:e,constrain:s,reachedAny:r,reachedMax:i,reachedMin:o,removeOffset:l}}function st(e,t,n){const{constrain:o}=re(0,e),i=e+1;let r=s(t);function s(m){return n?L((i+m)%i):o(m)}function l(){return r}function a(m){return r=s(m),p}function c(m){return y().set(l()+m)}function y(){return st(e,l(),n)}const p={get:l,set:a,add:c,clone:y};return p}function nn(e,t,n,o,i,r,s,l,a,c,y,p,m,b,f,h,x,d,g){const{cross:j,direction:v}=e,A=["INPUT","SELECT","TEXTAREA"],C={passive:!1},w=ye(),N=ye(),E=re(50,225).constrain(b.measure(20)),k={mouse:300,touch:400},I={mouse:500,touch:600},B=f?43:25;let _=!1,H=0,G=0,ee=!1,Y=!1,K=!1,U=!1;function ae(S){if(!g)return;function D(F){(Ne(g)||g(S,F))&&ue(F)}const O=t;w.add(O,"dragstart",F=>F.preventDefault(),C).add(O,"touchmove",()=>{},C).add(O,"touchend",()=>{}).add(O,"touchstart",D).add(O,"mousedown",D).add(O,"touchcancel",M).add(O,"contextmenu",M).add(O,"click",J,!0)}function $(){w.clear(),N.clear()}function se(){const S=U?n:t;N.add(S,"touchmove",z,C).add(S,"touchend",M).add(S,"mousemove",z,C).add(S,"mouseup",M)}function oe(S){const D=S.nodeName||"";return A.includes(D)}function Q(){return(f?I:k)[U?"mouse":"touch"]}function le(S,D){const O=p.add(Fe(S)*-1),F=y.byDistance(S,!f).distance;return f||L(S)<E?F:x&&D?F*.5:y.byIndex(O.get(),0).distance}function ue(S){const D=ke(S,o);U=D,K=f&&D&&!S.buttons&&_,_=he(i.get(),s.get())>=2,!(D&&S.button!==0)&&(oe(S.target)||(ee=!0,r.pointerDown(S),c.useFriction(0).useDuration(0),i.set(s),se(),H=r.readPoint(S),G=r.readPoint(S,j),m.emit("pointerDown")))}function z(S){if(!ke(S,o)&&S.touches.length>=2)return M(S);const O=r.readPoint(S),F=r.readPoint(S,j),q=he(O,H),X=he(F,G);if(!Y&&!U&&(!S.cancelable||(Y=q>X,!Y)))return M(S);const te=r.pointerMove(S);q>h&&(K=!0),c.useFriction(.3).useDuration(.75),l.start(),i.add(v(te)),S.preventDefault()}function M(S){const O=y.byDistance(0,!1).index!==p.get(),F=r.pointerUp(S)*Q(),q=le(v(F),O),X=Yt(F,q),te=B-10*X,Z=d+X/50;Y=!1,ee=!1,N.clear(),c.useDuration(te).useFriction(Z),a.distance(q,!f),U=!1,m.emit("pointerUp")}function J(S){K&&(S.stopPropagation(),S.preventDefault(),K=!1)}function R(){return ee}return{init:ae,destroy:$,pointerDown:R}}function rn(e,t){let o,i;function r(p){return p.timeStamp}function s(p,m){const f=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(ke(p,t)?p:p.touches[0])[f]}function l(p){return o=p,i=p,s(p)}function a(p){const m=s(p)-s(i),b=r(p)-r(o)>170;return i=p,b&&(o=p),m}function c(p){if(!o||!i)return 0;const m=s(i)-s(o),b=r(p)-r(o),f=r(p)-r(i)>170,h=m/b;return b&&!f&&L(h)>.1?h:0}return{pointerDown:l,pointerMove:a,pointerUp:c,readPoint:s}}function sn(){function e(n){const{offsetTop:o,offsetLeft:i,offsetWidth:r,offsetHeight:s}=n;return{top:o,right:i+r,bottom:o+s,left:i,width:r,height:s}}return{measure:e}}function on(e){function t(o){return e*(o/100)}return{measure:t}}function cn(e,t,n,o,i,r,s){const l=[e].concat(o);let a,c,y=[],p=!1;function m(x){return i.measureSize(s.measure(x))}function b(x){if(!r)return;c=m(e),y=o.map(m);function d(g){for(const j of g){if(p)return;const v=j.target===e,A=o.indexOf(j.target),C=v?c:y[A],w=m(v?e:o[A]);if(L(w-C)>=.5){x.reInit(),t.emit("resize");break}}}a=new ResizeObserver(g=>{(Ne(r)||r(x,g))&&d(g)}),n.requestAnimationFrame(()=>{l.forEach(g=>a.observe(g))})}function f(){p=!0,a&&a.disconnect()}return{init:b,destroy:f}}function an(e,t,n,o,i,r){let s=0,l=0,a=i,c=r,y=e.get(),p=0;function m(){const C=o.get()-e.get(),w=!a;let N=0;return w?(s=0,n.set(o),e.set(o),N=C):(n.set(e),s+=C/a,s*=c,y+=s,e.add(s),N=y-p),l=Fe(N),p=y,A}function b(){const C=o.get()-t.get();return L(C)<.001}function f(){return a}function h(){return l}function x(){return s}function d(){return j(i)}function g(){return v(r)}function j(C){return a=C,A}function v(C){return c=C,A}const A={direction:h,duration:f,velocity:x,seek:m,settled:b,useBaseFriction:g,useBaseDuration:d,useFriction:v,useDuration:j};return A}function ln(e,t,n,o,i){const r=i.measure(10),s=i.measure(50),l=re(.1,.99);let a=!1;function c(){return!(a||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function y(b){if(!c())return;const f=e.reachedMin(t.get())?"min":"max",h=L(e[f]-t.get()),x=n.get()-t.get(),d=l.constrain(h/s);n.subtract(x*d),!b&&L(x)<r&&(n.set(e.constrain(n.get())),o.useDuration(25).useBaseFriction())}function p(b){a=!b}return{shouldConstrain:c,constrain:y,toggleActive:p}}function un(e,t,n,o,i){const r=re(-t+e,0),s=p(),l=y(),a=m();function c(f,h){return he(f,h)<=1}function y(){const f=s[0],h=V(s),x=s.lastIndexOf(f),d=s.indexOf(h)+1;return re(x,d)}function p(){return n.map((f,h)=>{const{min:x,max:d}=r,g=r.constrain(f),j=!h,v=Be(n,h);return j?d:v||c(x,g)?x:c(d,g)?d:g}).map(f=>parseFloat(f.toFixed(3)))}function m(){if(t<=e+i)return[r.max];if(o==="keepSnaps")return s;const{min:f,max:h}=l;return s.slice(f,h)}return{snapsContained:a,scrollContainLimit:l}}function fn(e,t,n){const o=t[0],i=n?o-e:V(t);return{limit:re(i,o)}}function dn(e,t,n,o){const r=t.min+.1,s=t.max+.1,{reachedMin:l,reachedMax:a}=re(r,s);function c(m){return m===1?a(n.get()):m===-1?l(n.get()):!1}function y(m){if(!c(m))return;const b=e*(m*-1);o.forEach(f=>f.add(b))}return{loop:y}}function mn(e){const{max:t,length:n}=e;function o(r){const s=r-t;return n?s/-n:0}return{get:o}}function pn(e,t,n,o,i){const{startEdge:r,endEdge:s}=e,{groupSlides:l}=i,a=p().map(t.measure),c=m(),y=b();function p(){return l(o).map(h=>V(h)[s]-h[0][r]).map(L)}function m(){return o.map(h=>n[r]-h[r]).map(h=>-L(h))}function b(){return l(c).map(h=>h[0]).map((h,x)=>h+a[x])}return{snaps:c,snapsAligned:y}}function hn(e,t,n,o,i,r){const{groupSlides:s}=i,{min:l,max:a}=o,c=y();function y(){const m=s(r),b=!e||t==="keepSnaps";return n.length===1?[r]:b?m:m.slice(l,a).map((f,h,x)=>{const d=!h,g=Be(x,h);if(d){const j=V(x[0])+1;return We(j)}if(g){const j=Se(r)-V(x)[0]+1;return We(j,V(x)[0])}return f})}return{slideRegistry:c}}function gn(e,t,n,o,i){const{reachedAny:r,removeOffset:s,constrain:l}=o;function a(f){return f.concat().sort((h,x)=>L(h)-L(x))[0]}function c(f){const h=e?s(f):l(f),x=t.map((g,j)=>({diff:y(g-h,0),index:j})).sort((g,j)=>L(g.diff)-L(j.diff)),{index:d}=x[0];return{index:d,distance:h}}function y(f,h){const x=[f,f+n,f-n];if(!e)return f;if(!h)return a(x);const d=x.filter(g=>Fe(g)===h);return d.length?a(d):V(x)-n}function p(f,h){const x=t[f]-i.get(),d=y(x,h);return{index:f,distance:d}}function m(f,h){const x=i.get()+f,{index:d,distance:g}=c(x),j=!e&&r(x);if(!h||j)return{index:d,distance:f};const v=t[d]-g,A=f+y(v,0);return{index:d,distance:A}}return{byDistance:m,byIndex:p,shortcut:y}}function xn(e,t,n,o,i,r,s){function l(p){const m=p.distance,b=p.index!==t.get();r.add(m),m&&(o.duration()?e.start():(e.update(),e.render(1),e.update())),b&&(n.set(t.get()),t.set(p.index),s.emit("select"))}function a(p,m){const b=i.byDistance(p,m);l(b)}function c(p,m){const b=t.clone().set(p),f=i.byIndex(b.get(),m);l(f)}return{distance:a,index:c}}function yn(e,t,n,o,i,r,s,l){const a={passive:!0,capture:!0};let c=0;function y(b){if(!l)return;function f(h){if(new Date().getTime()-c>10)return;s.emit("slideFocusStart"),e.scrollLeft=0;const g=n.findIndex(j=>j.includes(h));Me(g)&&(i.useDuration(0),o.index(g,0),s.emit("slideFocus"))}r.add(document,"keydown",p,!1),t.forEach((h,x)=>{r.add(h,"focus",d=>{(Ne(l)||l(b,d))&&f(x)},a)})}function p(b){b.code==="Tab"&&(c=new Date().getTime())}return{init:y}}function pe(e){let t=e;function n(){return t}function o(a){t=s(a)}function i(a){t+=s(a)}function r(a){t-=s(a)}function s(a){return Me(a)?a:a.get()}return{get:n,set:o,add:i,subtract:r}}function ot(e,t){const n=e.scroll==="x"?s:l,o=t.style;let i=null,r=!1;function s(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function a(m){if(r)return;const b=Zt(e.direction(m));b!==i&&(o.transform=n(b),i=b)}function c(m){r=!m}function y(){r||(o.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:y,to:a,toggleActive:c}}function bn(e,t,n,o,i,r,s,l,a){const y=ge(i),p=ge(i).reverse(),m=d().concat(g());function b(w,N){return w.reduce((E,k)=>E-i[k],N)}function f(w,N){return w.reduce((E,k)=>b(E,N)>0?E.concat([k]):E,[])}function h(w){return r.map((N,E)=>({start:N-o[E]+.5+w,end:N+t-.5+w}))}function x(w,N,E){const k=h(N);return w.map(I=>{const B=E?0:-n,_=E?n:0,H=E?"end":"start",G=k[I][H];return{index:I,loopPoint:G,slideLocation:pe(-1),translate:ot(e,a[I]),target:()=>l.get()>G?B:_}})}function d(){const w=s[0],N=f(p,w);return x(N,n,!1)}function g(){const w=t-s[0]-1,N=f(y,w);return x(N,-n,!0)}function j(){return m.every(({index:w})=>{const N=y.filter(E=>E!==w);return b(N,t)<=.1})}function v(){m.forEach(w=>{const{target:N,translate:E,slideLocation:k}=w,I=N();I!==k.get()&&(E.to(I),k.set(I))})}function A(){m.forEach(w=>w.translate.clear())}return{canLoop:j,clear:A,loop:v,loopPoints:m}}function Sn(e,t,n){let o,i=!1;function r(a){if(!n)return;function c(y){for(const p of y)if(p.type==="childList"){a.reInit(),t.emit("slidesChanged");break}}o=new MutationObserver(y=>{i||(Ne(n)||n(a,y))&&c(y)}),o.observe(e,{childList:!0})}function s(){o&&o.disconnect(),i=!0}return{init:r,destroy:s}}function jn(e,t,n,o){const i={};let r=null,s=null,l,a=!1;function c(){l=new IntersectionObserver(f=>{a||(f.forEach(h=>{const x=t.indexOf(h.target);i[x]=h}),r=null,s=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:o}),t.forEach(f=>l.observe(f))}function y(){l&&l.disconnect(),a=!0}function p(f){return xe(i).reduce((h,x)=>{const d=parseInt(x),{isIntersecting:g}=i[d];return(f&&g||!f&&!g)&&h.push(d),h},[])}function m(f=!0){if(f&&r)return r;if(!f&&s)return s;const h=p(f);return f&&(r=h),f||(s=h),h}return{init:c,destroy:y,get:m}}function wn(e,t,n,o,i,r){const{measureSize:s,startEdge:l,endEdge:a}=e,c=n[0]&&i,y=f(),p=h(),m=n.map(s),b=x();function f(){if(!c)return 0;const g=n[0];return L(t[l]-g[l])}function h(){if(!c)return 0;const g=r.getComputedStyle(V(o));return parseFloat(g.getPropertyValue(`margin-${a}`))}function x(){return n.map((g,j,v)=>{const A=!j,C=Be(v,j);return A?m[j]+y:C?m[j]+p:v[j+1][l]-g[l]}).map(L)}return{slideSizes:m,slideSizesWithGaps:b,startGap:y,endGap:p}}function Nn(e,t,n,o,i,r,s,l,a){const{startEdge:c,endEdge:y,direction:p}=e,m=Me(n);function b(d,g){return ge(d).filter(j=>j%g===0).map(j=>d.slice(j,j+g))}function f(d){return d.length?ge(d).reduce((g,j,v)=>{const A=V(g)||0,C=A===0,w=j===Se(d),N=i[c]-r[A][c],E=i[c]-r[j][y],k=!o&&C?p(s):0,I=!o&&w?p(l):0,B=L(E-I-(N+k));return v&&B>t+a&&g.push(j),w&&g.push(d.length),g},[]).map((g,j,v)=>{const A=Math.max(v[j-1]||0);return d.slice(A,g)}):[]}function h(d){return m?b(d,n):f(d)}return{groupSlides:h}}function vn(e,t,n,o,i,r,s){const{align:l,axis:a,direction:c,startIndex:y,loop:p,duration:m,dragFree:b,dragThreshold:f,inViewThreshold:h,slidesToScroll:x,skipSnaps:d,containScroll:g,watchResize:j,watchSlides:v,watchDrag:A,watchFocus:C}=r,w=2,N=sn(),E=N.measure(t),k=n.map(N.measure),I=tn(a,c),B=I.measureSize(E),_=on(B),H=Wt(l,B),G=!p&&!!g,ee=p||!!g,{slideSizes:Y,slideSizesWithGaps:K,startGap:U,endGap:ae}=wn(I,E,k,n,ee,i),$=Nn(I,B,x,p,E,k,U,ae,w),{snaps:se,snapsAligned:oe}=pn(I,H,E,k,$),Q=-V(se)+V(K),{snapsContained:le,scrollContainLimit:ue}=un(B,Q,oe,g,w),z=G?le:oe,{limit:M}=fn(Q,z,p),J=st(Se(z),y,p),R=J.clone(),T=ge(n),S=({dragHandler:ie,scrollBody:De,scrollBounds:Ae,options:{loop:je}})=>{je||Ae.constrain(ie.pointerDown()),De.seek()},D=({scrollBody:ie,translate:De,location:Ae,offsetLocation:je,previousLocation:pt,scrollLooper:ht,slideLooper:gt,dragHandler:xt,animation:yt,eventHandler:He,scrollBounds:bt,options:{loop:Ge}},$e)=>{const qe=ie.settled(),St=!bt.shouldConstrain(),Ke=Ge?qe:qe&&St,Ue=Ke&&!xt.pointerDown();Ue&&yt.stop();const jt=Ae.get()*$e+pt.get()*(1-$e);je.set(jt),Ge&&(ht.loop(ie.direction()),gt.loop()),De.to(je.get()),Ue&&He.emit("settle"),Ke||He.emit("scroll")},O=en(o,i,()=>S(Ie),ie=>D(Ie,ie)),F=.68,q=z[J.get()],X=pe(q),te=pe(q),Z=pe(q),ne=pe(q),fe=an(X,Z,te,ne,m,F),Ce=gn(p,z,Q,M,ne),Ee=xn(O,J,R,fe,Ce,ne,s),Re=mn(M),Ve=ye(),dt=jn(t,n,s,h),{slideRegistry:_e}=hn(G,g,z,ue,$,T),mt=yn(e,n,_e,Ee,fe,Ve,s,C),Ie={ownerDocument:o,ownerWindow:i,eventHandler:s,containerRect:E,slideRects:k,animation:O,axis:I,dragHandler:nn(I,e,o,i,ne,rn(I,i),X,O,Ee,fe,Ce,J,s,_,b,f,d,F,A),eventStore:Ve,percentOfView:_,index:J,indexPrevious:R,limit:M,location:X,offsetLocation:Z,previousLocation:te,options:r,resizeHandler:cn(t,s,i,n,I,j,N),scrollBody:fe,scrollBounds:ln(M,Z,ne,fe,_),scrollLooper:dn(Q,M,Z,[X,Z,te,ne]),scrollProgress:Re,scrollSnapList:z.map(Re.get),scrollSnaps:z,scrollTarget:Ce,scrollTo:Ee,slideLooper:bn(I,B,Q,Y,K,se,z,Z,n),slideFocus:mt,slidesHandler:Sn(t,s,v),slidesInView:dt,slideIndexes:T,slideRegistry:_e,slidesToScroll:$,target:ne,translate:ot(I,t)};return Ie}function Cn(){let e={},t;function n(c){t=c}function o(c){return e[c]||[]}function i(c){return o(c).forEach(y=>y(t,c)),a}function r(c,y){return e[c]=o(c).concat([y]),a}function s(c,y){return e[c]=o(c).filter(p=>p!==y),a}function l(){e={}}const a={init:n,emit:i,off:s,on:r,clear:l};return a}const En={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function In(e){function t(r,s){return rt(r,s||{})}function n(r){const s=r.breakpoints||{},l=xe(s).filter(a=>e.matchMedia(a).matches).map(a=>s[a]).reduce((a,c)=>t(a,c),{});return t(r,l)}function o(r){return r.map(s=>xe(s.breakpoints||{})).reduce((s,l)=>s.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:o}}function Dn(e){let t=[];function n(r,s){return t=s.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(r,e)),s.reduce((l,a)=>Object.assign(l,{[a.name]:a}),{})}function o(){t=t.filter(r=>r.destroy())}return{init:n,destroy:o}}function we(e,t,n){const o=e.ownerDocument,i=o.defaultView,r=In(i),s=Dn(r),l=ye(),a=Cn(),{mergeOptions:c,optionsAtMedia:y,optionsMediaQueries:p}=r,{on:m,off:b,emit:f}=a,h=I;let x=!1,d,g=c(En,we.globalOptions),j=c(g),v=[],A,C,w;function N(){const{container:T,slides:S}=j;C=(Le(T)?e.querySelector(T):T)||e.children[0];const O=Le(S)?C.querySelectorAll(S):S;w=[].slice.call(O||C.children)}function E(T){const S=vn(e,C,w,o,i,T,a);if(T.loop&&!S.slideLooper.canLoop()){const D=Object.assign({},T,{loop:!1});return E(D)}return S}function k(T,S){x||(g=c(g,T),j=y(g),v=S||v,N(),d=E(j),p([g,...v.map(({options:D})=>D)]).forEach(D=>l.add(D,"change",I)),j.active&&(d.translate.to(d.location.get()),d.animation.init(),d.slidesInView.init(),d.slideFocus.init(R),d.eventHandler.init(R),d.resizeHandler.init(R),d.slidesHandler.init(R),d.options.loop&&d.slideLooper.loop(),C.offsetParent&&w.length&&d.dragHandler.init(R),A=s.init(R,v)))}function I(T,S){const D=$();B(),k(c({startIndex:D},T),S),a.emit("reInit")}function B(){d.dragHandler.destroy(),d.eventStore.clear(),d.translate.clear(),d.slideLooper.clear(),d.resizeHandler.destroy(),d.slidesHandler.destroy(),d.slidesInView.destroy(),d.animation.destroy(),s.destroy(),l.clear()}function _(){x||(x=!0,l.clear(),B(),a.emit("destroy"),a.clear())}function H(T,S,D){!j.active||x||(d.scrollBody.useBaseFriction().useDuration(S===!0?0:j.duration),d.scrollTo.index(T,D||0))}function G(T){const S=d.index.add(1).get();H(S,T,-1)}function ee(T){const S=d.index.add(-1).get();H(S,T,1)}function Y(){return d.index.add(1).get()!==$()}function K(){return d.index.add(-1).get()!==$()}function U(){return d.scrollSnapList}function ae(){return d.scrollProgress.get(d.offsetLocation.get())}function $(){return d.index.get()}function se(){return d.indexPrevious.get()}function oe(){return d.slidesInView.get()}function Q(){return d.slidesInView.get(!1)}function le(){return A}function ue(){return d}function z(){return e}function M(){return C}function J(){return w}const R={canScrollNext:Y,canScrollPrev:K,containerNode:M,internalEngine:ue,destroy:_,off:b,on:m,emit:f,plugins:le,previousScrollSnap:se,reInit:h,rootNode:z,scrollNext:G,scrollPrev:ee,scrollProgress:ae,scrollSnapList:U,scrollTo:H,selectedScrollSnap:$,slideNodes:J,slidesInView:oe,slidesNotInView:Q};return k(t,n),setTimeout(()=>a.emit("init"),0),R}we.globalOptions=void 0;function ze(e={},t=[]){const n=P.useRef(e),o=P.useRef(t),[i,r]=P.useState(),[s,l]=P.useState(),a=P.useCallback(()=>{i&&i.reInit(n.current,o.current)},[i]);return P.useEffect(()=>{Oe(n.current,e)||(n.current=e,a())},[e,a]),P.useEffect(()=>{Xt(o.current,t)||(o.current=t,a())},[t,a]),P.useEffect(()=>{if(Jt()&&s){we.globalOptions=ze.globalOptions;const c=we(s,n.current,o.current);return r(c),()=>c.destroy()}else r(void 0)},[s,r]),[l,i]}ze.globalOptions=void 0;const it=P.createContext(null);function ve(){const e=P.useContext(it);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const ct=P.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:o,className:i,children:r,...s},l)=>{const[a,c]=ze({...t,axis:e==="horizontal"?"x":"y"},o),[y,p]=P.useState(!1),[m,b]=P.useState(!1),f=P.useCallback(g=>{g&&(p(g.canScrollPrev()),b(g.canScrollNext()))},[]),h=P.useCallback(()=>{c==null||c.scrollPrev()},[c]),x=P.useCallback(()=>{c==null||c.scrollNext()},[c]),d=P.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),h()):g.key==="ArrowRight"&&(g.preventDefault(),x())},[h,x]);return P.useEffect(()=>{!c||!n||n(c)},[c,n]),P.useEffect(()=>{if(c)return f(c),c.on("reInit",f),c.on("select",f),()=>{c==null||c.off("select",f)}},[c,f]),u.jsx(it.Provider,{value:{carouselRef:a,api:c,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:h,scrollNext:x,canScrollPrev:y,canScrollNext:m},children:u.jsx("div",{ref:l,onKeyDownCapture:d,className:be("relative",i),role:"region","aria-roledescription":"carousel",...s,children:r})})});ct.displayName="Carousel";const at=P.forwardRef(({className:e,...t},n)=>{const{carouselRef:o,orientation:i}=ve();return u.jsx("div",{ref:o,className:"overflow-hidden",children:u.jsx("div",{ref:n,className:be("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});at.displayName="CarouselContent";const lt=P.forwardRef(({className:e,...t},n)=>{const{orientation:o}=ve();return u.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:be("min-w-0 shrink-0 grow-0 basis-full",o==="horizontal"?"pl-4":"pt-4",e),...t})});lt.displayName="CarouselItem";const ut=P.forwardRef(({className:e,variant:t="outline",size:n="icon",...o},i)=>{const{orientation:r,scrollPrev:s,canScrollPrev:l}=ve();return u.jsxs(W,{ref:i,variant:t,size:n,className:be("absolute  h-8 w-8 rounded-full",r==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:s,...o,children:[u.jsx(tt,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Previous slide"})]})});ut.displayName="CarouselPrevious";const ft=P.forwardRef(({className:e,variant:t="outline",size:n="icon",...o},i)=>{const{orientation:r,scrollNext:s,canScrollNext:l}=ve();return u.jsxs(W,{ref:i,variant:t,size:n,className:be("absolute h-8 w-8 rounded-full",r==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:s,...o,children:[u.jsx(qt,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Next slide"})]})});ft.displayName="CarouselNext";function An({images:e,productName:t}){return u.jsxs("div",{className:"bg-white rounded-lg border shadow p-6",children:[u.jsx("h2",{className:"text-lg font-medium mb-4",children:"Image Gallery Preview"}),u.jsxs(ct,{className:"w-full max-w-4xl mx-auto",children:[u.jsx(at,{children:e.map(n=>u.jsx(lt,{className:"basis-full md:basis-1/2 lg:basis-1/3",children:u.jsx("div",{className:"p-1",children:u.jsx(Ct,{children:u.jsxs(Et,{className:"flex aspect-square items-center justify-center p-2 relative",children:[u.jsx("img",{src:`/storage/${n.image_path}`,alt:n.alt_text||t,className:"w-full h-full object-cover rounded"}),n.is_primary&&u.jsx("div",{className:"absolute top-3 right-3 bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full",children:"Primary"})]})})})},n.id))}),u.jsx(ut,{className:"left-1"}),u.jsx(ft,{className:"right-1"})]})]})}function Pn({images:e,onDelete:t,onSetPrimary:n,onDragEnd:o}){return u.jsx(Pt,{onDragEnd:o,children:u.jsx(Tt,{droppableId:"images",children:i=>u.jsxs(It,{children:[u.jsx(Dt,{children:u.jsxs(Qe,{children:[u.jsx(de,{className:"w-[80px]",children:"Order"}),u.jsx(de,{children:"Image"}),u.jsx(de,{children:"Alt Text"}),u.jsx(de,{className:"text-center",children:"Primary"}),u.jsx(de,{className:"text-right",children:"Actions"})]})}),u.jsxs(At,{...i.droppableProps,ref:i.innerRef,children:[e.map((r,s)=>u.jsx(Lt,{draggableId:String(r.id),index:s,children:l=>u.jsxs(Qe,{ref:l.innerRef,...l.draggableProps,children:[u.jsx(me,{className:"w-[80px]",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{...l.dragHandleProps,className:"cursor-move p-2 hover:bg-gray-100 rounded mr-2",children:u.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})}),r.display_order]})}),u.jsx(me,{children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"h-16 w-16 overflow-hidden rounded border bg-gray-50",children:u.jsx("img",{src:`/storage/${r.image_path}`,alt:r.alt_text||"Product image",className:"h-full w-full object-cover"})}),u.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:r.image_path})]})}),u.jsx(me,{children:r.alt_text||u.jsx("span",{className:"text-muted-foreground",children:"No alt text"})}),u.jsx(me,{className:"text-center",children:r.is_primary?u.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-yellow-100",children:u.jsx(Je,{className:"h-3 w-3 text-yellow-500"})}):u.jsx(W,{variant:"ghost",size:"sm",onClick:()=>n(r.id),className:"h-6 w-6 p-0 cursor-pointer",children:u.jsx(Je,{className:"h-3 w-3"})})}),u.jsx(me,{className:"text-right",children:u.jsxs(kt,{children:[u.jsx(Ot,{asChild:!0,children:u.jsx(W,{variant:"outline",size:"icon",className:" text-red-600 hover:bg-red-50 cursor-pointer",children:u.jsx(Ht,{className:"h-4 w-4"})})}),u.jsxs(Mt,{children:[u.jsxs(Ft,{children:[u.jsx(Bt,{children:"Are you sure?"}),u.jsx(zt,{children:"This action cannot be undone. This will permanently delete this image."})]}),u.jsxs(Rt,{children:[u.jsx(Vt,{className:"cursor-pointer",children:"Cancel"}),u.jsx(_t,{onClick:()=>t(r.id),className:"bg-red-500 hover:bg-red-600 cursor-pointer",children:"Delete"})]})]})]})})]})},r.id)),i.placeholder]})]})})})}function Tn({productId:e}){return u.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-500 p-12 text-center",children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[u.jsx(Nt,{className:"h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"text-lg font-medium",children:"No images uploaded yet"}),u.jsx("p",{className:"text-muted-foreground",children:"Add images to showcase this product"}),u.jsx(W,{className:"mt-4",asChild:!0,children:u.jsxs(Te,{href:route("product-images.create",e),children:[u.jsx(nt,{className:"h-4 w-4 mr-2"}),"Add Images"]})})]})})}function Zn({product:e,images:t,success:n}){const[o,i]=P.useState(t||[]),{delete:r}=Pe(),{post:s}=Pe();Pe(),P.useEffect(()=>{i(t)},[t]);const l=m=>{r(route("product-images.destroy",m),{onSuccess:()=>{ce.fire({title:"Success!",text:"Images deleted successfully",icon:"success",timer:4e3,showConfirmButton:!1})},onError:()=>{ce.fire({title:"Error!",text:"Failed to delete image",icon:"error",timer:4e3,showConfirmButton:!1})}})},a=m=>{s(route("product-images.set-primary",m),{onSuccess:()=>{ce.fire({title:"Success!",text:"Primary image updated",icon:"success",timer:4e3,showConfirmButton:!1})},onError:()=>{ce.fire({title:"Error!",text:"Failed to update primary image",icon:"error",timer:4e3,showConfirmButton:!1})}})},c=m=>{if(!m.destination)return;const b=Array.from(o),[f]=b.splice(m.source.index,1);b.splice(m.destination.index,0,f);const h=b.map((x,d)=>({...x,display_order:d+1}));i(h)},y=()=>{const m=o.map(b=>({id:b.id,display_order:b.display_order}));wt.post(route("product-images.update-order",e.id),{images:m},{onSuccess:()=>{ce.fire({title:"Success!",text:"Order saved successfully",icon:"success",timer:4e3,showConfirmButton:!1})},onError:()=>{ce.fire({title:"Error!",text:"Failed to save order",icon:"error",timer:4e3,showConfirmButton:!1})}})},p=[{title:"Dashboard",href:route("dashboard")},{title:"Product",href:route("products.index")},{title:"Show Product",href:route("products.show",e.id)},{title:"Product Image",href:route("product-images.index",e.id)}];return u.jsx(vt,{title:`${e.name} - Images`,children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-4 pb-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{children:u.jsx("h1",{className:"text-2xl font-bold",children:"Product Images"})}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(W,{variant:"outline",asChild:!0,children:u.jsxs(Te,{href:route("products.show",e.id),children:[u.jsx(tt,{className:"h-4 w-4 mr-2"}),"Back to Product"]})}),u.jsx(W,{variant:"outline",asChild:!0,children:u.jsxs(Te,{href:route("product-images.create",e.id),children:[u.jsx(nt,{className:"h-4 w-4 mr-2"}),"Add Images"]})})]})]}),u.jsx(Gt,{breadcrumbs:p})]}),o.length>0?u.jsxs("div",{className:"bg-white rounded-md shadow-lg border border-gray-100",children:[u.jsx(An,{images:o,productName:e.name}),u.jsxs("div",{className:"bg-white rounded-lg shadow border mt-1 p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-lg font-medium",children:"Manage Images"}),u.jsx(W,{className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",onClick:y,variant:"outline",children:"Save Order"})]}),u.jsx(Pn,{images:o,onDelete:l,onSetPrimary:a,onDragEnd:c})]})]}):u.jsx(Tn,{productId:e.id})]})})}export{Zn as default};
