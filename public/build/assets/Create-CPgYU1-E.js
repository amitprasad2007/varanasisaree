import{j as e,$ as k,S as V}from"./app-DE13G4N_.js";import{u as q,F,a as t,b as n,c as d,d as c,f as o,o as P,i as B,m as D,s as l}from"./index-BRFnJp7q.js";import{s as I}from"./zod-ENr7sMY0.js";import{D as T,C as z}from"./DashboardLayout-Cka4qMQu.js";import{B as $}from"./button-CvgifypQ.js";import{I as m}from"./input-Dvme1iOd.js";import{B as A}from"./breadcrumbs-L7a3YQr1.js";import{S as K}from"./sweetalert2.esm.all-DGhwgajj.js";import{S as u,a as h,b as j,c as p,d as x}from"./select-Lpgcllfh.js";import{A as L}from"./arrow-left-BrQkEk6r.js";import"./utils-CfS1ei8c.js";import"./label-D1E38X3h.js";import"./index-Ddyna2QI.js";import"./index-597dYpf9.js";import"./index-BxWuKuDz.js";import"./Combination-ZYzPUJfn.js";import"./check-4f_gwbDI.js";const U=P({product_id:l(),color_id:l().min(1,"Color is required"),size_id:l().min(1,"Size is required"),sku:l().min(1,"SKU is required"),price:l().min(1,"Price is required"),discount:l(),stock_quantity:l().min(1,"Stock quantity is required"),image:D().optional(),status:B(["active","inactive"])});function ne({product:a,colors:f,sizes:y}){const g=q({resolver:I(U),defaultValues:{product_id:a.id.toString(),color_id:"",size_id:"",sku:"",price:"",discount:"0",stock_quantity:"0",image:null,status:"active"}}),{control:i,handleSubmit:S,formState:{errors:E,isSubmitting:b}}=g,C=s=>{const r=new FormData;r.append("product_id",s.product_id),r.append("color_id",s.color_id),r.append("size_id",s.size_id),r.append("sku",s.sku),r.append("price",s.price),r.append("discount",s.discount),r.append("stock_quantity",s.stock_quantity),r.append("status",s.status),s.image&&r.append("image",s.image),V.post(route("product-variants.store",a.id),r,{onSuccess:()=>{K.fire({title:"Success!",text:"Variant created successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})},N=[{title:"Dashboard",href:route("dashboard")},{title:"Product Variants",href:route("product-variants.index",a.id)},{title:"Create Product Variant",href:route("product-variants.create",a.id)}];return e.jsxs(T,{title:`Create Product Variant - ${a.name}`,children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h1",{className:"text-2xl font-bold",children:["Create Product Variant - ",a.name]})}),e.jsx(A,{breadcrumbs:N})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(k,{href:route("product-variants.index",a.id),className:"flex w-48 items-center text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-md p-2 mb-2",children:[e.jsx(L,{className:"w-4 h-4 mr-1 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800"}),"Back to Variants"]}),e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Create Product Variant - ",a.name]}),e.jsx(z,{children:e.jsx("div",{className:"bg-white rounded-md shadow p-6",children:e.jsx(F,{...g,children:e.jsxs("form",{onSubmit:S(C),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(t,{control:i,name:"color_id",render:({field:s})=>e.jsxs(n,{children:[e.jsx(d,{children:"Color"}),e.jsx(c,{children:e.jsxs(u,{value:s.value,onValueChange:s.onChange,children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select a color"})}),e.jsx(p,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:f.map(r=>e.jsx(x,{value:r.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2 bg-white p-1 rounded",children:[r.hex_code&&e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:r.hex_code}}),r.name]})},r.id))})]})}),e.jsx(o,{})]})}),e.jsx(t,{control:i,name:"size_id",render:({field:s})=>e.jsxs(n,{children:[e.jsx(d,{children:"Size"}),e.jsx(c,{children:e.jsxs(u,{value:s.value,onValueChange:s.onChange,children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select a size"})}),e.jsx(p,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:y.map(r=>e.jsxs(x,{value:r.id.toString(),children:[r.name," ",r.code&&`(${r.code})`]},r.id))})]})}),e.jsx(o,{})]})})]}),e.jsx(t,{control:i,name:"sku",render:({field:s})=>e.jsxs(n,{children:[e.jsxs(d,{children:["SKU ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{children:e.jsx(m,{placeholder:"Product variant SKU",...s})}),e.jsx(o,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(t,{control:i,name:"price",render:({field:s})=>e.jsxs(n,{children:[e.jsxs(d,{children:["Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"0.00",step:"0.01",min:"0",...s})}),e.jsx(o,{})]})}),e.jsx(t,{control:i,name:"discount",render:({field:s})=>e.jsxs(n,{children:[e.jsx(d,{children:"Discount (%)"}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"0",min:"0",max:"100",...s})}),e.jsx(o,{})]})}),e.jsx(t,{control:i,name:"stock_quantity",render:({field:s})=>e.jsxs(n,{children:[e.jsxs(d,{children:["Stock Quantity ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"0",min:"0",...s})}),e.jsx(o,{})]})})]}),e.jsx(t,{control:i,name:"image",render:({field:{onChange:s,value:r,..._}})=>e.jsxs(n,{children:[e.jsx(d,{children:"Variant Image"}),e.jsx(c,{children:e.jsx(m,{type:"file",accept:"image/*",onChange:w=>{var v;return s(((v=w.target.files)==null?void 0:v[0])||null)},..._})}),e.jsx(o,{})]})}),e.jsx(t,{control:i,name:"status",render:({field:s})=>e.jsxs(n,{children:[e.jsxs(d,{children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{children:e.jsxs(u,{value:s.value,onValueChange:s.onChange,children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select status"})}),e.jsxs(p,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:[e.jsx(x,{value:"active",children:"Active"}),e.jsx(x,{value:"inactive",children:"Inactive"})]})]})}),e.jsx(o,{})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx($,{variant:"outline",type:"submit",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",disabled:b,children:b?"Creating...":"Create Variant"})})]})})})})]})]})}export{ne as default};
