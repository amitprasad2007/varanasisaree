import{j as e,$ as C,S as N}from"./app-DgxAqZIh.js";import{D as S}from"./DashboardLayout-T__Wzna3.js";import{B as x}from"./button-BdIkOZPE.js";import{C as w,a as F,b as P,d as L,c as T,e as U}from"./card-BuoT8ScV.js";import{u as D,n as B,F as _,a as t,b as i,c as n,d,e as l,f as c,o as k,i as E,m as V,s as p}from"./index-5ughraa4.js";import{I as m}from"./input-D5NTX-5y.js";import{S as R}from"./switch-C0x4eoxR.js";import{B as $}from"./breadcrumbs-ChDlXGWW.js";import{S as A}from"./sweetalert2.esm.all-DGhwgajj.js";import{A as I}from"./arrow-left-DPkzOS6A.js";import"./index-Ba_FneK2.js";import"./utils-DwYqQn47.js";import"./index-Ch4nA-VE.js";import"./shopping-cart-DLwSuZv_.js";import"./log-out-BHgaQSNh.js";import"./label-CSv_uRDZ.js";import"./index-DRCW6475.js";k({name:p().min(1,"Provider name is required"),base_url:p().min(1,"Base URL is required").url("Must be a valid URL"),logo:V().optional(),status:E(["active","inactive"])});function te({provider:r}){const h=D({defaultValues:{name:r.name,base_url:r.base_url,logo:null,status:r.status}}),{control:a,handleSubmit:j,formState:f}=h,{errors:q,isSubmitting:u}=f,{field:b}=B({name:"logo",control:a}),g=s=>{s.target.files&&s.target.files.length>0&&b.onChange(s.target.files[0])},v=s=>{const o=new FormData;o.append("name",s.name),o.append("base_url",s.base_url),o.append("status",s.status),o.append("_method","PUT"),s.logo&&o.append("logo",s.logo),N.post(route("video-providers.update",r.id),o,{forceFormData:!0,onSuccess:()=>{A.fire({title:"Success!",text:"Video Provider Updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})},y=[{title:"Dashboard",href:route("dashboard")},{title:"Video Providers",href:route("video-providers.index")},{title:"Edit Video Providers",href:route("video-providers.edit",r.id)}];return e.jsx(S,{title:`Edit Provider: ${r.name}`,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Video Provider"}),e.jsxs("p",{className:"text-muted-foreground",children:["Update the configuration for ",r.name]})]}),e.jsx(x,{variant:"outline",asChild:!0,children:e.jsxs(C,{href:route("video-providers.index"),children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Back to Providers"]})})]}),e.jsx($,{breadcrumbs:y})]}),e.jsxs(w,{children:[e.jsxs(F,{children:[e.jsx(P,{children:"Provider Details"}),e.jsx(L,{children:"Edit the information for this video provider"})]}),e.jsx(T,{children:e.jsx(_,{...h,children:e.jsxs("form",{onSubmit:j(v),className:"space-y-6",children:[e.jsx(t,{control:a,name:"name",render:({field:s})=>e.jsxs(i,{children:[e.jsx(n,{children:"Provider Name"}),e.jsx(d,{children:e.jsx(m,{placeholder:"YouTube",...s})}),e.jsx(l,{children:"The name of the video platform (e.g., YouTube, Vimeo)"}),e.jsx(c,{})]})}),e.jsx(t,{control:a,name:"base_url",render:({field:s})=>e.jsxs(i,{children:[e.jsx(n,{children:"Base URL"}),e.jsx(d,{children:e.jsx(m,{placeholder:"https://www.youtube.com/embed/",...s})}),e.jsx(l,{children:"The base URL used for embedding videos from this provider"}),e.jsx(c,{})]})}),r.logo&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"Current Logo"}),e.jsx("img",{src:`/storage/${r.logo}`,alt:r.name,className:"h-12 w-auto object-contain border rounded p-2"})]}),e.jsx(t,{control:a,name:"logo",render:()=>e.jsxs(i,{children:[e.jsx(n,{children:"Provider Logo"}),e.jsx(d,{children:e.jsx(m,{type:"file",accept:"image/*",onChange:g})}),e.jsx(l,{children:"Upload a new logo for the video provider (leave empty to keep current)"}),e.jsx(c,{})]})}),e.jsx(t,{control:a,name:"status",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Active Status"}),e.jsx(l,{children:"Set if this provider is currently active"})]}),e.jsx(d,{children:e.jsx(R,{checked:s.value==="active",onCheckedChange:o=>s.onChange(o?"active":"inactive")})})]})}),e.jsx(U,{className:"flex justify-end px-0 pb-0",children:e.jsx(x,{type:"submit",variant:"outline",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",disabled:u,children:u?"Updating...":"Update Provider"})})]})})})]})]})})}export{te as default};
