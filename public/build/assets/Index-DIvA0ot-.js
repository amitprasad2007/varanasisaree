import{r as y,j as e,L as _,$ as u,S as h}from"./app-DfN1q9g5.js";import{D as w}from"./DashboardLayout-BjjJLokQ.js";import{C as r,c as l,a as p,b as f}from"./card-Ch0V37sH.js";import{B as d}from"./badge-CrmRBOV-.js";import{B as n}from"./button-797cin1z.js";import{I as g}from"./input-CNOd0Qzo.js";import{S as C,a as S,b as D,c as R,d as i}from"./select-D2BcCiWu.js";import{T as N}from"./trending-up-C8I42Q2e.js";import{C as T}from"./clock-B6Pczrmm.js";import{C as L}from"./circle-check-big-Bvy3Gw24.js";import{c as k}from"./utils-SUP4tnaS.js";import{D as A}from"./download-DA-P5gZ1.js";import{E as B}from"./eye-CdyG7NL0.js";import"./tooltip-CS8iEUbb.js";import"./index-Bhqmt9n5.js";import"./index-B-RVbn78.js";import"./index-DwN4oAW_.js";import"./index-DAKmUasb.js";import"./sweetalert2.esm.all-1yHLk2J-.js";import"./shopping-cart-spSLeQu0.js";import"./star-DzbdgbRd.js";import"./index-CrsYxolJ.js";import"./index-lIcSEBLL.js";import"./Combination-D3l462l3.js";import"./check-Bp0KSp3H.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],I=k("TrendingDown",F),z=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"processing":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},E=t=>{switch(t){case"credit_note":return e.jsx(d,{variant:"outline",children:"Store Credit"});case"bank_transfer":return e.jsx(d,{variant:"outline",children:"Bank Transfer"});case"razorpay":return e.jsx(d,{variant:"outline",children:"Razorpay"});default:return e.jsx(d,{variant:"outline",children:t})}};function ce({refunds:t,statistics:c,filters:x,vendor:j}){const[o,m]=y.useState({status:x.status||"",date_from:x.date_from||"",date_to:x.date_to||""}),v=()=>{h.get(route("vendor.refunds.index"),o,{preserveState:!0,preserveScroll:!0})},b=()=>{m({status:"",date_from:"",date_to:""}),h.get(route("vendor.refunds.index"))};return e.jsxs(w,{children:[e.jsx(_,{title:`Refunds - ${j.business_name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Refund Management"}),e.jsxs("p",{className:"text-gray-600",children:["Manage refunds for ",j.business_name]})]}),e.jsx(n,{asChild:!0,children:e.jsxs(u,{href:route("vendor.refunds.analytics"),children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"View Analytics"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(r,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Refunds"}),e.jsx("p",{className:"text-3xl font-bold",children:c.total_refunds})]}),e.jsx(N,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(r,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:c.pending_refunds})]}),e.jsx(T,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx(r,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:c.completed_refunds})]}),e.jsx(L,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(r,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"text-3xl font-bold",children:["₹",c.total_refunded_amount.toLocaleString()]})]}),e.jsx(I,{className:"w-8 h-8 text-red-600"})]})})})]}),e.jsxs(r,{children:[e.jsx(p,{children:e.jsx(f,{children:"Filter Refunds"})}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(C,{value:o.status,onValueChange:s=>m(a=>({...a,status:s})),children:[e.jsx(S,{children:e.jsx(D,{placeholder:"All Statuses"})}),e.jsxs(R,{children:[e.jsx(i,{value:"",children:"All Statuses"}),e.jsx(i,{value:"pending",children:"Pending"}),e.jsx(i,{value:"approved",children:"Approved"}),e.jsx(i,{value:"completed",children:"Completed"}),e.jsx(i,{value:"rejected",children:"Rejected"})]})]}),e.jsx(g,{type:"date",placeholder:"From Date",value:o.date_from,onChange:s=>m(a=>({...a,date_from:s.target.value}))}),e.jsx(g,{type:"date",placeholder:"To Date",value:o.date_to,onChange:s=>m(a=>({...a,date_to:s.target.value}))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{onClick:v,className:"flex-1",children:"Filter"}),e.jsx(n,{variant:"outline",onClick:b,children:"Clear"})]})]})})]}),e.jsxs(r,{children:[e.jsxs(p,{className:"flex flex-row items-center justify-between",children:[e.jsxs(f,{children:["Recent Refunds (",t.total,")"]}),e.jsxs(n,{variant:"outline",size:"sm",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Export"]})]}),e.jsxs(l,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-4 font-medium",children:"Reference"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Customer"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Amount"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Method"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Date"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:t.data.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.reference}),s.sale&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Sale: ",s.sale.invoice_number]}),s.order&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Order: ",s.order.order_number]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.customer.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.customer.email})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("p",{className:"font-medium",children:["₹",s.amount.toLocaleString()]})}),e.jsx("td",{className:"p-4",children:E(s.method)}),e.jsx("td",{className:"p-4",children:e.jsx(d,{className:z(s.refund_status),children:s.refund_status})}),e.jsx("td",{className:"p-4",children:e.jsx("p",{className:"text-sm",children:new Date(s.created_at).toLocaleDateString()})}),e.jsx("td",{className:"p-4",children:e.jsx(n,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(u,{href:route("vendor.refunds.show",s.id),children:e.jsx(B,{className:"w-4 h-4"})})})})]},s.id))})]})}),t.last_page>1&&e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx("div",{className:"flex gap-2",children:t.links.map((s,a)=>e.jsx(n,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&h.get(s.url),dangerouslySetInnerHTML:{__html:s.label}},a))})})]})]})]})]})}export{ce as default};
