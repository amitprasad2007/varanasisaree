import{m as f,U as b,j as e}from"./app-DpbhamJZ.js";import{D as y}from"./DashboardLayout-Aw7i6mvF.js";import{B as h}from"./button-D7hhLjEI.js";import{I as c}from"./input-dlafkF9T.js";import{L as i}from"./label-z1Ck5vc7.js";import{T as N}from"./textarea-BkgpYJ48.js";import{C}from"./checkbox-WE8B7_8D.js";import{B as w}from"./breadcrumbs-q1IpMdKq.js";import{S}from"./sweetalert2.esm.all-DGhwgajj.js";import"./index-B2SICFGd.js";import"./utils-C2L-VftL.js";import"./index-BlhaG_3f.js";import"./index-Bg0fErXS.js";import"./check-B-_BevLp.js";const q=({category:t})=>{const{data:o,setData:a,post:p,processing:x,errors:r}=f({title:t.title||"",slug:t.slug||"",summary:t.summary||"",status:t.status==="active"||!1,photo:null}),g=s=>{s.preventDefault(),p(route("categories.update",t.id),{onSuccess:()=>{S.fire({title:"Success!",text:"Category updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})},v=[{title:"Dashboard",href:route("dashboard")},{title:"Categories",href:route("categories.index")},{title:"Edit Category",href:route("categories.edit",t.id)}],[n,m]=b.useState(t.photo?`/storage/${t.photo}`:null),j=s=>{var u;const l=((u=s.target.files)==null?void 0:u[0])||null;if(a("photo",l),l){const d=new FileReader;d.onloadend=()=>{m(d.result)},d.readAsDataURL(l)}else m(null)};return e.jsxs(y,{title:"Edit Category",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Category"}),e.jsx(h,{className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"})]}),e.jsx(w,{breadcrumbs:v})]}),e.jsx("div",{className:"bg-white rounded-md shadow-lg border border-gray-100 p-6",children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"title",children:"Title"}),e.jsx(c,{id:"title",value:o.title,onChange:s=>a("title",s.target.value)}),r.title&&e.jsx("p",{className:"text-sm text-red-600",children:r.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"slug",children:"Slug"}),e.jsx(c,{id:"slug",value:o.slug,onChange:s=>a("slug",s.target.value)}),r.slug&&e.jsx("p",{className:"text-sm text-red-600",children:r.slug})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"summary",children:"Description"}),e.jsx(N,{id:"description",value:o.summary,onChange:s=>a("summary",s.target.value)}),r.summary&&e.jsx("p",{className:"text-sm text-red-600",children:r.summary})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"photo",children:"Photo"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{id:"photo",type:"file",accept:"image/*",onChange:j}),n&&e.jsx("div",{className:"relative group",children:e.jsx("img",{src:n,alt:"Preview",className:"w-32 h-32 object-cover rounded-md transition-all duration-300 group-hover:w-40 group-hover:h-40 group-hover:shadow-lg group-hover:z-20 group-hover:relative"})})]}),r.photo&&e.jsx("p",{className:"text-sm text-red-600",children:r.photo})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{id:"status",checked:o.status,onCheckedChange:s=>a("status",s)}),e.jsx("label",{htmlFor:"status",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Active"})]}),e.jsx(h,{variant:"outline",type:"submit",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",disabled:x,children:"Update Category"})]})})]})};export{q as default};
