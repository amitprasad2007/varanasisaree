import{K as B,r as p,j as e,$ as _,S as F,L as I}from"./app-B1tbhmxy.js";import{C as c,c as d,a as N,b as v,d as y}from"./card--ysWr4UQ.js";import{B as w}from"./button-DDA_8geh.js";import{I as L}from"./input-CmKj4Yzi.js";import{L as T}from"./label-BXBT4knU.js";import{B as O}from"./badge-BurJTqaP.js";import{H as R,B as A,U,F as E,S as W,L as k,T as $,a as H,b as M}from"./tooltip-r3E1xT1A.js";import{a as C}from"./utils-ugRebPKk.js";import{S as Y}from"./sweetalert2.esm.all-1yHLk2J-.js";import{S as V}from"./shopping-cart-Cgi-a0_P.js";import{T as q}from"./trending-up-Dzhekbpb.js";import{U as z}from"./index-Pekh2N-E.js";import{C as K}from"./calendar-C8SV_zou.js";import{P as G}from"./package-BuYn4_lz.js";import{D as J}from"./dollar-sign-XhZkIrmp.js";import{U as Q}from"./users-5Q-EHZKQ.js";import{E as X}from"./eye-BWiLwLcX.js";import"./index-CI-oCjGr.js";import"./index-OPuGH7Zc.js";import"./index-RLN4sl0J.js";const Z=()=>{var f,b,o;const{url:l,props:i}=B(),r=i==null?void 0:i.auth,S=window.location.hostname.split(".")[0],x=p.useMemo(()=>[{label:"Overview",items:[{icon:R,label:"Dashboard",path:"/dashboard"}]},{label:"Catalog",items:[{icon:A,label:"Products",path:"/vendor/products"}]},{label:"Sales & Orders",items:[{icon:V,label:"Orders",path:"/vendor/orders"},{icon:q,label:"Sales",path:"/vendor/sales"},{icon:U,label:"Returns & Refunds",path:"/vendor/refunds"}]},{label:"Analytics",items:[{icon:E,label:"Analytics",path:"/vendor/analytics"}]},{label:"Account",items:[{icon:W,label:"Settings",path:"/vendor/settings",subItems:[{icon:z,label:"Profile",path:"/vendor/profile"}]},{icon:k,label:"Logout",path:"/logout",isLogout:!0}]}],[]),[u,h]=p.useState({});p.useEffect(()=>{const t={};x.forEach(s=>{t[s.label]=s.items.some(a=>{var n;return l.startsWith(a.path)||((n=a.subItems)==null?void 0:n.some(P=>l.startsWith(P.path)))})}),h(s=>({...s,...t}))},[l,x]);const j=t=>{h(s=>({...s,[t]:!s[t]}))},D=t=>{t.preventDefault(),Y.fire({title:"Logout?",text:"You will be logged out of your account.",icon:"question",showCancelButton:!0,confirmButtonText:"Logout",cancelButtonText:"Cancel"}).then(s=>{s.isConfirmed&&F.post(route("vendor.logout",{domain:S}))})},g=t=>{var m;const s=t.icon,a=l.startsWith(t.path)||((m=t.subItems)==null?void 0:m.some(n=>l.startsWith(n.path)));return t.isLogout?e.jsxs("button",{onClick:D,className:C("flex items-center gap-3 px-3 py-2 w-full rounded-md text-sm transition-colors","text-muted-foreground hover:text-foreground hover:bg-accent/20"),children:[e.jsx(s,{className:"h-4 w-4"}),e.jsx("span",{children:t.label})]}):e.jsxs("div",{children:[e.jsxs(_,{href:t.path,className:C("flex w-full items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",a?"text-foreground font-semibold bg-accent/20 border border-accent/30 shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-accent/10"),"aria-current":a?"page":void 0,children:[e.jsx(s,{className:"h-4 w-4"}),e.jsx("span",{children:t.label})]}),t.subItems&&e.jsx("ul",{className:"ml-6 mt-1 space-y-1",children:t.subItems.map(n=>e.jsx("li",{children:e.jsxs(_,{href:n.path,className:C("flex w-full items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors",l.startsWith(n.path)?"text-foreground bg-accent/10 border border-accent/20 shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-accent/10"),"aria-current":l.startsWith(n.path)?"page":void 0,children:[e.jsx(n.icon,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:n.label})]})},n.path))})]})};return e.jsx(c,{className:"fixed left-3 top-3 bottom-3 border-none rounded-lg w-68 bg-white text-foreground font-sans shadow-sm",children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx("div",{className:"px-5 pb-4 pt-5 bg-card",children:e.jsxs(_,{href:"/dashboard",className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-600 text-white flex items-center justify-center font-bold",children:"VS"}),e.jsxs("div",{className:"flex flex-col leading-tight",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Vendor"}),e.jsx("span",{className:"text-[11px] text-muted-foreground",children:"VaranasiSaree"})]})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto px-3 py-4 space-y-5",children:x.map(t=>e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>j(t.label),className:"w-full flex items-center justify-between px-3 py-2 text-xs uppercase tracking-wide text-muted-foreground hover:text-foreground",children:[e.jsx("span",{children:t.label}),e.jsx("span",{className:C("transition-transform",u[t.label]?"rotate-90":""),children:"›"})]}),u[t.label]&&e.jsx("ul",{className:"mt-2 space-y-2",children:t.items.map(s=>e.jsx("li",{children:g(s)},s.path))})]},t.label))}),e.jsx("div",{className:"mt-auto bg-card p-4 mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-emerald-600 text-white flex items-center justify-center text-base font-semibold",children:(f=r==null?void 0:r.user)!=null&&f.business_name?String(r.user.business_name).charAt(0).toUpperCase():"V"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"truncate text-base font-medium",children:((b=r==null?void 0:r.user)==null?void 0:b.business_name)??"Vendor"}),e.jsx("div",{className:"truncate text-xs text-muted-foreground",children:((o=r==null?void 0:r.user)==null?void 0:o.email)??""})]})]})})]})})};function ee({children:l,title:i}){return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:i}),e.jsxs($,{children:[e.jsx(H,{}),e.jsx(M,{}),e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(Z,{}),e.jsx("main",{className:"flex-1 ml-72 p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:l})})]})]})]})}function se({vendor:l,stats:i,recent_orders:r,top_products:S,sales_chart:x,monthly_revenue:u,date_range:h}){const[j,D]=p.useState(h.start),[g,f]=p.useState(h.end),b=()=>{window.location.href=`/vendor/dashboard?start_date=${j}&end_date=${g}`};window.location.hostname.split(".")[0];const o=s=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(s),t=s=>{const a={pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},processing:{color:"bg-blue-100 text-blue-800",label:"Processing"},shipped:{color:"bg-purple-100 text-purple-800",label:"Shipped"},delivered:{color:"bg-green-100 text-green-800",label:"Delivered"},cancelled:{color:"bg-red-100 text-red-800",label:"Cancelled"}},m=a[s]||a.pending;return e.jsx(O,{className:m.color,children:m.label})};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Vendor Dashboard"}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mb-8 flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),e.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",l.business_name,"! Here's what's happening with your business."]})]})}),e.jsx(c,{className:"mb-8",children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{htmlFor:"start_date",children:"From:"}),e.jsx(L,{id:"start_date",type:"date",value:j,onChange:s=>D(s.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{htmlFor:"end_date",children:"To:"}),e.jsx(L,{id:"end_date",type:"date",value:g,onChange:s=>f(s.target.value)})]}),e.jsxs(w,{onClick:b,children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Apply Filter"]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(c,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(G,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total_products})]})]})})}),e.jsx(c,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(V,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total_orders})]})]})})}),e.jsx(c,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(J,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(i.total_revenue)})]})]})})}),e.jsx(c,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(Q,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Commission Payable"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(i.commission_payable)})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs(c,{children:[e.jsxs(N,{children:[e.jsx(v,{children:"Sales Overview"}),e.jsx(y,{children:"Daily sales for the selected period"})]}),e.jsx(d,{children:e.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:x.map((s,a)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 bg-blue-500 rounded-t",style:{height:`${s.sales/Math.max(...x.map(m=>m.sales))*200}px`}}),e.jsx("span",{className:"text-xs text-gray-500 mt-2",children:s.date})]},a))})})]}),e.jsxs(c,{children:[e.jsxs(N,{children:[e.jsx(v,{children:"Monthly Revenue"}),e.jsx(y,{children:"Revenue trends over the last 12 months"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:u.slice(-6).map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s.month}),e.jsx("span",{className:"font-medium",children:o(s.revenue)})]},a))})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(c,{children:[e.jsxs(N,{children:[e.jsx(v,{children:"Recent Orders"}),e.jsx(y,{children:"Latest customer orders"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"space-y-4",children:r.map(s=>{var a;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Order #",s.order_id]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[((a=s.customer)==null?void 0:a.name)||"Customer"," • ",o(s.total_amount)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[t(s.status),e.jsx(w,{variant:"ghost",size:"sm",children:e.jsx(X,{className:"h-4 w-4"})})]})]},s.id)})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(w,{variant:"outline",className:"w-full",children:"View All Orders"})})]})]}),e.jsxs(c,{children:[e.jsxs(N,{children:[e.jsx(v,{children:"Top Selling Products"}),e.jsx(y,{children:"Your best performing products"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"space-y-4",children:S.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.total_sold," units sold"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium",children:o(s.total_revenue||0)}),e.jsx("p",{className:"text-sm text-gray-600",children:"Revenue"})]})]},s.id))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(w,{variant:"outline",className:"w-full",children:"View All Products"})})]})]})]})]})})]})}se.layout=l=>e.jsx(ee,{children:l,title:"Vendor Dashboard"});export{se as default};
