import{j as e,$ as k,S as V}from"./app-uAdQgTs8.js";import{u as q,F,a as t,b as n,c as d,d as o,f as c,o as P,i as B,m as D,s as l}from"./index-ByQ002-c.js";import{s as I}from"./zod-WIIGkUOq.js";import{D as T}from"./DashboardLayout-DfHjR-E3.js";import{B as z}from"./button-Bb0dxY43.js";import{I as m}from"./input-xk17Qy7U.js";import{B as $}from"./breadcrumbs-DRPsoT0k.js";import{S as A}from"./sweetalert2.esm.all-DGhwgajj.js";import{S as u,a as h,b as j,c as p,d as x}from"./select-Dd6K6OvF.js";import{C as K}from"./card-Xi4sK9zb.js";import{A as L}from"./arrow-left-CtdP7h9O.js";import"./utils-BGMc812E.js";import"./label-DaIKQcgy.js";import"./index-DLvvQ_1D.js";import"./index-W-PvzrYH.js";import"./log-out-W70Bistv.js";import"./index-CWFYX-ZO.js";import"./index-Dsc5EKnT.js";import"./Combination-C2QncYrU.js";import"./check-Zw8XTWPm.js";const U=P({product_id:l(),color_id:l().min(1,"Color is required"),size_id:l().min(1,"Size is required"),sku:l().min(1,"SKU is required"),price:l().min(1,"Price is required"),discount:l(),stock_quantity:l().min(1,"Stock quantity is required"),image:D().optional(),status:B(["active","inactive"])});function ce({product:a,colors:v,sizes:y}){const g=q({resolver:I(U),defaultValues:{product_id:a.id.toString(),color_id:"",size_id:"",sku:"",price:"",discount:"0",stock_quantity:"0",image:null,status:"active"}}),{control:i,handleSubmit:S,formState:{errors:E,isSubmitting:b}}=g,C=r=>{const s=new FormData;s.append("product_id",r.product_id),s.append("color_id",r.color_id),s.append("size_id",r.size_id),s.append("sku",r.sku),s.append("price",r.price),s.append("discount",r.discount),s.append("stock_quantity",r.stock_quantity),s.append("status",r.status),r.image&&s.append("image",r.image),V.post(route("product-variants.store",a.id),s,{onSuccess:()=>{A.fire({title:"Success!",text:"Variant created successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})},N=[{title:"Dashboard",href:route("dashboard")},{title:"Product Variants",href:route("product-variants.index",a.id)},{title:"Create Product Variant",href:route("product-variants.create",a.id)}];return e.jsxs(T,{title:`Create Product Variant - ${a.name}`,children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h1",{className:"text-2xl font-bold",children:["Create Product Variant - ",a.name]})}),e.jsx($,{breadcrumbs:N})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(k,{href:route("product-variants.index",a.id),className:"flex w-48 items-center text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-md p-2 mb-2",children:[e.jsx(L,{className:"w-4 h-4 mr-1 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800"}),"Back to Variants"]}),e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Create Product Variant - ",a.name]}),e.jsx(K,{children:e.jsx("div",{className:"bg-white rounded-md shadow p-6",children:e.jsx(F,{...g,children:e.jsxs("form",{onSubmit:S(C),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(t,{control:i,name:"color_id",render:({field:r})=>e.jsxs(n,{children:[e.jsx(d,{children:"Color"}),e.jsx(o,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select a color"})}),e.jsx(p,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:v.map(s=>e.jsx(x,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2 bg-white p-1 rounded",children:[s.hex_code&&e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:s.hex_code}}),s.name]})},s.id))})]})}),e.jsx(c,{})]})}),e.jsx(t,{control:i,name:"size_id",render:({field:r})=>e.jsxs(n,{children:[e.jsx(d,{children:"Size"}),e.jsx(o,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select a size"})}),e.jsx(p,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:y.map(s=>e.jsxs(x,{value:s.id.toString(),children:[s.name," ",s.code&&`(${s.code})`]},s.id))})]})}),e.jsx(c,{})]})})]}),e.jsx(t,{control:i,name:"sku",render:({field:r})=>e.jsxs(n,{children:[e.jsxs(d,{children:["SKU ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{children:e.jsx(m,{placeholder:"Product variant SKU",...r})}),e.jsx(c,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(t,{control:i,name:"price",render:({field:r})=>e.jsxs(n,{children:[e.jsxs(d,{children:["Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{children:e.jsx(m,{type:"number",placeholder:"0.00",step:"0.01",min:"0",...r})}),e.jsx(c,{})]})}),e.jsx(t,{control:i,name:"discount",render:({field:r})=>e.jsxs(n,{children:[e.jsx(d,{children:"Discount (%)"}),e.jsx(o,{children:e.jsx(m,{type:"number",placeholder:"0",min:"0",max:"100",...r})}),e.jsx(c,{})]})}),e.jsx(t,{control:i,name:"stock_quantity",render:({field:r})=>e.jsxs(n,{children:[e.jsxs(d,{children:["Stock Quantity ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{children:e.jsx(m,{type:"number",placeholder:"0",min:"0",...r})}),e.jsx(c,{})]})})]}),e.jsx(t,{control:i,name:"image",render:({field:{onChange:r,value:s,..._}})=>e.jsxs(n,{children:[e.jsx(d,{children:"Variant Image"}),e.jsx(o,{children:e.jsx(m,{type:"file",accept:"image/*",onChange:w=>{var f;return r(((f=w.target.files)==null?void 0:f[0])||null)},..._})}),e.jsx(c,{})]})}),e.jsx(t,{control:i,name:"status",render:({field:r})=>e.jsxs(n,{children:[e.jsxs(d,{children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select status"})}),e.jsxs(p,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:[e.jsx(x,{value:"active",children:"Active"}),e.jsx(x,{value:"inactive",children:"Inactive"})]})]})}),e.jsx(c,{})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(z,{variant:"outline",type:"submit",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",disabled:b,children:b?"Creating...":"Create Variant"})})]})})})})]})]})}export{ce as default};
