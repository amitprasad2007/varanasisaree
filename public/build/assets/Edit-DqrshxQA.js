import{r as o,m as P,a as B,j as e}from"./app-DfN1q9g5.js";import{D as z}from"./DashboardLayout-BjjJLokQ.js";import{B as b}from"./button-797cin1z.js";import{I as d}from"./input-CNOd0Qzo.js";import{T as q}from"./textarea-CVu0WCzx.js";import{L as c}from"./label-DM07JXTD.js";import{S as n,a as m,b as h,c as x,d as u}from"./select-D2BcCiWu.js";import{C as j}from"./checkbox-Df3tIBtX.js";import{B as D}from"./breadcrumbs-B0z_mlxU.js";import{S as y}from"./sweetalert2.esm.all-1yHLk2J-.js";import"./tooltip-CS8iEUbb.js";import"./utils-SUP4tnaS.js";import"./index-Bhqmt9n5.js";import"./index-B-RVbn78.js";import"./index-DwN4oAW_.js";import"./index-DAKmUasb.js";import"./card-Ch0V37sH.js";import"./shopping-cart-spSLeQu0.js";import"./star-DzbdgbRd.js";import"./index-CrsYxolJ.js";import"./index-lIcSEBLL.js";import"./Combination-D3l462l3.js";import"./check-Bp0KSp3H.js";function ae({categories:v,product:r,brands:N,subcategories:f}){const[g,_]=o.useState(f),[w,S]=o.useState(!1),{data:a,setData:i,put:C,processing:p,errors:t}=P({name:r.name||"",slug:r.slug||"",category_id:r.category_id||"",subcategory_id:r.subcategory_id||"",brand_id:r.brand_id||"",description:r.description||"",price:r.price||"",discount:r.discount||"0",stock_quantity:r.stock_quantity||"0",fabric:r.fabric||"",color:r.color||"",size:r.size||"",work_type:r.work_type||"",occasion:r.occasion||"",weight:r.weight||"",is_bestseller:r.is_bestseller||!1,status:r.status==="active"});o.useEffect(()=>{w&&a.category_id?k(String(a.category_id)):S(!0)},[a.category_id]);const k=async s=>{try{const l=await B.get(`/get-subcategories/${s}`);_(l.data),i("subcategory_id","")}catch(l){y.fire({title:"Error!",text:"Error fetching subcategories"+l,icon:"error",timer:3e3,showConfirmButton:!1})}},F=[{title:"Dashboard",href:route("dashboard")},{title:"Product",href:route("products.index")},{title:"Edit Product",href:route("products.edit",r.id)}],E=s=>{s.preventDefault(),C(route("products.update",r.id),{onSuccess:()=>{y.fire({title:"Success!",text:"SubCategory updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})};return e.jsxs(z,{title:"Edit Product",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Edit Product: ",r.name]}),e.jsx(b,{className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"})]}),e.jsx(D,{breadcrumbs:F})]}),e.jsx("div",{className:"bg-white rounded-md shadow-lg border border-gray-100 p-6",children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-md shadow-md border border-gray-200 p-6 mt-6",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["Edit Product: ",r.name]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",children:"Product Name"}),e.jsx(d,{id:"name",value:a.name,onChange:s=>i("name",s.target.value)}),t.name&&e.jsx("p",{className:"text-sm text-red-600",children:t.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"slug",children:"Slug"}),e.jsx(d,{id:"slug",value:a.slug,onChange:s=>i("slug",s.target.value)}),t.slug&&e.jsx("p",{className:"text-sm text-red-600",children:t.slug})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"category_id",children:"Category"}),e.jsxs(n,{value:String(a.category_id),onValueChange:s=>i("category_id",s),children:[e.jsx(m,{className:"bg-white border border-gray-300 rounded-md shadow-sm",children:e.jsx(h,{placeholder:"Select a category"})}),e.jsx(x,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:v.map(s=>e.jsx(u,{value:s.id.toString(),children:s.title},s.id))})]}),t.category_id&&e.jsx("p",{className:"text-sm text-red-600",children:t.category_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"subcategory_id",children:"Sub Category"}),e.jsxs(n,{value:String(a.subcategory_id),onValueChange:s=>i("subcategory_id",s),children:[e.jsx(m,{className:"bg-white border border-gray-300 rounded-md shadow-sm",children:e.jsx(h,{placeholder:a.category_id?g.length===0?"No subcategories available":"Select a subcategory":"Select a category first"})}),e.jsx(x,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:g.map(s=>e.jsx(u,{value:s.id.toString(),children:s.title},s.id))})]}),t.subcategory_id&&e.jsx("p",{className:"text-sm text-red-600",children:t.subcategory_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"brand_id",children:"Brand"}),e.jsxs(n,{value:String(a.brand_id),onValueChange:s=>i("brand_id",s),children:[e.jsx(m,{className:"bg-white border border-gray-300 rounded-md shadow-sm",children:e.jsx(h,{placeholder:"Select a brand"})}),e.jsx(x,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:N.map(s=>e.jsx(u,{value:s.id.toString(),children:s.name},s.id))})]}),t.brand_id&&e.jsx("p",{className:"text-sm text-red-600",children:t.brand_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsx(q,{id:"description",value:a.description,onChange:s=>i("description",s.target.value)}),t.description&&e.jsx("p",{className:"text-sm text-red-600",children:t.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"price",children:"Price"}),e.jsx(d,{id:"price",type:"number",value:a.price,onChange:s=>i("price",s.target.value)}),t.price&&e.jsx("p",{className:"text-sm text-red-600",children:t.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"discount",children:"Discount"}),e.jsx(d,{id:"discount",type:"number",value:a.discount,onChange:s=>i("discount",s.target.value)}),t.discount&&e.jsx("p",{className:"text-sm text-red-600",children:t.discount})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"stock_quantity",children:"Stock Quantity"}),e.jsx(d,{id:"stock_quantity",type:"number",value:a.stock_quantity,onChange:s=>i("stock_quantity",s.target.value)}),t.stock_quantity&&e.jsx("p",{className:"text-sm text-red-600",children:t.stock_quantity})]}),e.jsxs("div",{className:"bg-gray-50 rounded-md shadow-md border border-gray-200 p-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Product Attributes"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"fabric",children:"Fabric"}),e.jsx(d,{id:"fabric",value:a.fabric||"",onChange:s=>i("fabric",s.target.value),placeholder:"Cotton, Silk, etc."}),t.fabric&&e.jsx("p",{className:"text-sm text-red-600",children:t.fabric})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"color",children:"Color"}),e.jsx(d,{id:"color",value:a.color||"",onChange:s=>i("color",s.target.value),placeholder:"Red, Blue, etc."}),t.color&&e.jsx("p",{className:"text-sm text-red-600",children:t.color})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"size",children:"Size"}),e.jsx(d,{id:"size",value:a.size||"",onChange:s=>i("size",s.target.value),placeholder:"S, M, L, XL, etc."}),t.size&&e.jsx("p",{className:"text-sm text-red-600",children:t.size})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"weight",children:"Weight"}),e.jsx(d,{id:"weight",type:"number",value:a.weight||"",onChange:s=>i("weight",s.target.value),placeholder:"0.00",step:"0.01",min:"0"}),t.weight&&e.jsx("p",{className:"text-sm text-red-600",children:t.weight})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"work_type",children:"Work Type"}),e.jsx(d,{id:"work_type",value:a.work_type||"",onChange:s=>i("work_type",s.target.value),placeholder:"Embroidery, Print, etc."}),t.work_type&&e.jsx("p",{className:"text-sm text-red-600",children:t.work_type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"occasion",children:"Occasion"}),e.jsx(d,{id:"occasion",value:a.occasion||"",onChange:s=>i("occasion",s.target.value),placeholder:"Casual, Formal, Party, etc."}),t.occasion&&e.jsx("p",{className:"text-sm text-red-600",children:t.occasion})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-md shadow-md border border-gray-200 p-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Status & Bestseller"}),e.jsxs("div",{className:"flex items-center space-x-3 space-y-1 mb-2",children:[e.jsx(j,{id:"is_bestseller",checked:a.is_bestseller,onCheckedChange:s=>i("is_bestseller",s)}),e.jsx("label",{htmlFor:"is_bestseller",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 mr-30",children:"Is Bestseller"}),e.jsx(j,{id:"status",checked:a.status,onCheckedChange:s=>i("status",s)}),e.jsx("label",{htmlFor:"status",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Active"})]})]})]}),e.jsx(b,{variant:"outline",type:"submit",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",disabled:p,children:p?"Updating...":"Update Product"})]})})]})}export{ae as default};
