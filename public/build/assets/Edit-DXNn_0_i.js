import{m as k,j as e,$ as C}from"./index.esm-Bc_4NMHb.js";import{D as V}from"./DashboardLayout-CHxeyx5p.js";import{B as w}from"./button-DZWuNibM.js";import{I as c}from"./input-Cii1tlEl.js";import{B as E}from"./breadcrumbs-Y_9G2NoR.js";import{S as f}from"./sweetalert2.esm.all-DGhwgajj.js";import{S as n,a as m,b as o,c as x,d}from"./select-2c0kcf4F.js";import{A as P}from"./arrow-left-CF2BqPGQ.js";import"./index-bytDxa8N.js";import"./app-DT6hknfK.js";import"./utils-RaGAWv6d.js";import"./index-U4gapAO2.js";import"./createLucideIcon-C4cwkqtv.js";import"./index-DaD-7RND.js";import"./Combination-D0skWEO_.js";import"./check-xufIyZ2m.js";function J({product:r,variant:a,colors:v,sizes:b}){var h,p,j,g;const{data:l,setData:i,post:y,processing:u,errors:t}=k({color_id:((p=(h=a.color)==null?void 0:h.id)==null?void 0:p.toString())||"",size_id:((g=(j=a.size)==null?void 0:j.id)==null?void 0:g.toString())||"",sku:a.sku,price:a.price.toString(),discount:a.discount.toString(),stock_quantity:a.stock_quantity.toString(),image:null,status:a.status,_method:"PUT"}),S=[{title:"Dashboard",href:route("dashboard")},{title:"Product Variants",href:route("product-variants.index",r.id)},{title:"Edit Product Variant",href:route("product-variants.edit",[r.id,a.id])}],_=s=>{s.preventDefault(),y(route("product-variants.update",[r.id,a.id]),{onSuccess:()=>{f.fire({title:"Success!",text:"Variant updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})},onError:()=>{f.fire({title:"Error!",text:"Failed to update variant",icon:"error",timer:4e3,showConfirmButton:!1})}})};return e.jsxs(V,{title:`Edit Product Variant - ${r.name}`,children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h1",{className:"text-2xl font-bold",children:["Edit Product Variant - ",r.name]})}),e.jsx(E,{breadcrumbs:S})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(C,{href:route("product-variants.index",r.id),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[e.jsx(P,{className:"w-4 h-4 mr-1"}),"Back to Variants"]}),e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Edit Product Variant - ",r.name]}),e.jsx("div",{className:"bg-white rounded-md shadow p-6",children:e.jsx("form",{onSubmit:_,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Color"}),e.jsxs(n,{value:l.color_id,onValueChange:s=>i("color_id",s),children:[e.jsx(m,{children:e.jsx(o,{placeholder:"Select a color"})}),e.jsx(x,{children:v.map(s=>e.jsx(d,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.hex_code&&e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:s.hex_code}}),s.name]})},s.id))})]}),t.color_id&&e.jsx("p",{className:"text-sm text-red-600",children:t.color_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Size"}),e.jsxs(n,{value:l.size_id,onValueChange:s=>i("size_id",s),children:[e.jsx(m,{children:e.jsx(o,{placeholder:"Select a size"})}),e.jsx(x,{children:b.map(s=>e.jsxs(d,{value:s.id.toString(),children:[s.name," ",s.code&&`(${s.code})`]},s.id))})]}),t.size_id&&e.jsx("p",{className:"text-sm text-red-600",children:t.size_id})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["SKU ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{value:l.sku,onChange:s=>i("sku",s.target.value),placeholder:"Product variant SKU"}),t.sku&&e.jsx("p",{className:"text-sm text-red-600",children:t.sku})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"number",value:l.price,onChange:s=>i("price",s.target.value),placeholder:"0.00",step:"0.01",min:"0"}),t.price&&e.jsx("p",{className:"text-sm text-red-600",children:t.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Discount (%)"}),e.jsx(c,{type:"number",value:l.discount,onChange:s=>i("discount",s.target.value),placeholder:"0",min:"0",max:"100"}),t.discount&&e.jsx("p",{className:"text-sm text-red-600",children:t.discount})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Stock Quantity ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"number",value:l.stock_quantity,onChange:s=>i("stock_quantity",s.target.value),placeholder:"0",min:"0"}),t.stock_quantity&&e.jsx("p",{className:"text-sm text-red-600",children:t.stock_quantity})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Variant Image"}),e.jsxs("div",{className:"space-y-2",children:[a.image_path&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Current image: ",a.image_path]}),e.jsx(c,{type:"file",accept:"image/*",onChange:s=>{var N;return i("image",((N=s.target.files)==null?void 0:N[0])||null)}})]}),t.image&&e.jsx("p",{className:"text-sm text-red-600",children:t.image})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(n,{value:l.status,onValueChange:s=>i("status",s),children:[e.jsx(m,{children:e.jsx(o,{placeholder:"Select status"})}),e.jsxs(x,{children:[e.jsx(d,{value:"active",children:"Active"}),e.jsx(d,{value:"inactive",children:"Inactive"})]})]}),t.status&&e.jsx("p",{className:"text-sm text-red-600",children:t.status})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(w,{type:"submit",disabled:u,children:u?"Updating...":"Update Variant"})})]})})})]})]})}export{J as default};
