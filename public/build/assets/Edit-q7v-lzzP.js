import{r as N,m as v,j as e,L as _,$ as b}from"./app-CIhFobhL.js";import{D as y}from"./DashboardLayout-BRTFsDbd.js";import{B as x}from"./button-DzkUq3Lw.js";import{I as p}from"./input-CxgECS2K.js";import{T as C}from"./textarea-B3JyqpJ3.js";import{C as S,a as w,b as F,c as I}from"./card-D1NucbTc.js";import{S as L}from"./switch-BWd_jz3L.js";import{L as l}from"./label-B-bzBIpf.js";import{A as D}from"./arrow-left-C_7piLrc.js";import{U as E}from"./upload-C0-ZEYqx.js";import"./tooltip-CyAk2kzz.js";import"./utils-BqJV7cK7.js";import"./index-Chdu0Ess.js";import"./index-DaPY9Q7-.js";import"./index-D00STa22.js";import"./index-U3iOLidj.js";import"./sweetalert2.esm.all-1yHLk2J-.js";import"./shopping-cart-D86C_673.js";import"./star-VEZdHhqn.js";import"./index-hdkFur2X.js";const Y=({aboutus:c,section:t})=>{const[d,h]=N.useState(t.image?`/storage/${t.image}`:null),{data:n,setData:i,post:j,processing:g,errors:a}=v({section_title:t.section_title,section_content:t.section_content||{},image:null,order:t.order,status:t.status,_method:"PUT"}),u=s=>{s.preventDefault(),j(route("aboutus.sections.update",{aboutus:c.id,section:t.id}),{forceFormData:!0})},f=s=>{var r;if((r=s.target.files)!=null&&r[0]){const m=s.target.files[0];i("image",m);const o=new FileReader;o.onload=()=>h(o.result),o.readAsDataURL(m)}};return e.jsxs(y,{title:`Edit Section - ${c.page_title}`,children:[e.jsx(_,{title:`Edit Section - ${c.page_title}`}),e.jsx("div",{className:"space-y-4 pb-6",children:e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(b,{href:route("aboutus.sections.index",c.id),className:"mr-4",children:e.jsxs(x,{variant:"outline",size:"sm",className:"cursor-pointer",children:[e.jsx(D,{className:"h-4 w-4 mr-2"})," Back"]})}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Edit Section"})]})}),e.jsxs(S,{children:[e.jsx(w,{children:e.jsx(F,{children:"Section Information"})}),e.jsx(I,{children:e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"section_title",children:"Title"}),e.jsx(p,{id:"section_title",value:n.section_title,onChange:s=>i("section_title",s.target.value)}),a.section_title&&e.jsx("p",{className:"text-sm text-red-500",children:a.section_title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Content (JSON)"}),e.jsx(C,{rows:10,value:JSON.stringify(n.section_content,null,2),onChange:s=>{try{const r=JSON.parse(s.target.value||"{}");i("section_content",r)}catch{}}}),a.section_content&&e.jsx("p",{className:"text-sm text-red-500",children:a.section_content})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"image",children:"Image (optional)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",id:"image",className:"hidden",accept:"image/*",onChange:f}),e.jsxs("label",{htmlFor:"image",className:"cursor-pointer inline-flex items-center gap-2 border rounded-md px-3 py-2",children:[e.jsx(E,{className:"h-4 w-4"})," Upload Image"]}),a.image&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.image})]}),d&&e.jsx("div",{className:"w-40 h-24 bg-gray-100 rounded overflow-hidden",children:e.jsx("img",{src:d,className:"w-full h-full object-cover"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"order",children:"Order"}),e.jsx(p,{id:"order",type:"number",value:n.order,onChange:s=>i("order",Number(s.target.value))})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{id:"status",checked:n.status==="active",onCheckedChange:s=>i("status",s?"active":"inactive")}),e.jsx(l,{htmlFor:"status",children:"Active"})]})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{type:"submit",disabled:g,className:"cursor-pointer",children:"Update"})})]})})]})]})};export{Y as default};
