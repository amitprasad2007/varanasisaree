import{m as j,j as e,L as f,$ as b}from"./app-BNo6aVIm.js";import{D as g}from"./DashboardLayout-DK_Br-bz.js";import{B as l}from"./button-BY1x4xdf.js";import{I as m}from"./input-BLO9h81v.js";import{L as i}from"./label-BSA29Cp5.js";import{C as v}from"./checkbox-DCls-2qF.js";import{B as w}from"./breadcrumbs-NveKg06I.js";import{S as N}from"./sweetalert2.all-xzkOidHc.js";import{A as y}from"./arrow-left-BpI6yGno.js";import"./index-DeNSgcGT.js";import"./utils-9ycPlse5.js";import"./index-DuUQFe1-.js";import"./tooltip-BlAwYVYY.js";import"./index-1_cBaBpi.js";import"./check-CuBk5jJ8.js";function P({user:t,roles:o}){const{data:a,setData:d,put:n,processing:c,errors:r}=j({name:t.name,email:t.email,password:"",role_ids:t.roles.map(s=>s.id)}),x=s=>{s.preventDefault(),n(route("users.update",t.id),{onSuccess:()=>{N.fire({title:"Success!",text:"User updated successfully.",icon:"success"})}})},p=[{title:"Dashboard",href:route("dashboard")},{title:"User Management",href:route("users.index")},{title:"Edit User",href:route("users.edit",t.id)}];return e.jsxs(g,{title:"Edit User",children:[e.jsx(f,{title:"Edit User"}),e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit User"}),e.jsx(b,{href:route("users.index"),children:e.jsxs(l,{className:"flex items-center gap-2 bg-primary cursor-pointer hover:bg-gray-100 text-black shadow-sm",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Back to User Management"]})})]}),e.jsx(w,{breadcrumbs:p}),e.jsx("form",{onSubmit:x,className:"max-w-2xl bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",children:"Name"}),e.jsx(m,{id:"name",type:"text",value:a.name,onChange:s=>d("name",s.target.value)}),r.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",type:"email",value:a.email,onChange:s=>d("email",s.target.value)}),r.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.email})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"password",children:"Password (leave blank to keep current)"}),e.jsx(m,{id:"password",type:"password",value:a.password,onChange:s=>d("password",s.target.value)}),r.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.password})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Roles"}),e.jsx("div",{className:"mt-2 space-y-2",children:o.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:`role-${s.id}`,checked:a.role_ids.includes(s.id),onCheckedChange:h=>{d("role_ids",h?[...a.role_ids,s.id]:a.role_ids.filter(u=>u!==s.id))}}),e.jsx(i,{htmlFor:`role-${s.id}`,children:s.name})]},s.id))}),r.role_ids&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.role_ids})]}),e.jsx(l,{type:"submit",className:"flex items-center gap-2 bg-primary cursor-pointer hover:bg-gray-100 text-black shadow-sm",disabled:c,children:"Update User"})]})})]})]})}export{P as default};
