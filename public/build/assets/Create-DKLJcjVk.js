import{r as N,j as e,$ as T,S as w}from"./app-x5KpsZns.js";import{u as F,g as _,F as A,a as t,b as a,c as r,d as o,f as l,e as c}from"./form-DACvDmL6.js";import{D}from"./DashboardLayout-RtPONTjZ.js";import{B as j}from"./button-DRHxbxoW.js";import{C as E,a as k,b as P,d as B,c as I,e as R}from"./card-B4hgRbDU.js";import{I as m}from"./input-DL8TAhNu.js";import{T as u}from"./textarea-fGu4DDMp.js";import{S as H}from"./switch-2Pssxyob.js";import{s as L}from"./zod-DY6ivogX.js";import{o as O,e as g,c as q,s as d,a as U}from"./index-B9ALDWfZ.js";import{B as $}from"./breadcrumbs-DgxvkVnd.js";import{S as J}from"./sweetalert2.all-8SgPr9m2.js";import{A as M}from"./arrow-left-B-NOjJWV.js";import"./utils-DTi9_lBn.js";import"./label-CAwXdlMx.js";import"./index-C1qtR82g.js";import"./index-CLKVXgP2.js";import"./tooltip-xqD9Il5V.js";import"./index-DqUUyRnJ.js";const V=O({name:d().min(1,"Client name is required"),designation:d().optional(),email:d().optional(),company:d().optional(),photo:U().optional(),testimonial:d().min(1,"Testimonial content is required"),testimonial_hi:d().optional(),rating:q.number().min(1).max(5).optional().nullable(),status:g(["active","inactive"]).default("inactive"),approval_status:g(["pending","approved","rejected"]).default("pending")});function pe(){const[x,f]=N.useState(null),h=F({resolver:L(V),defaultValues:{name:"",designation:"",email:"",company:"",photo:null,testimonial:"",testimonial_hi:"",rating:null,status:"inactive",approval_status:"pending"}}),{control:n,handleSubmit:v,formState:z}=h,{field:b}=_({name:"photo",control:n}),C=s=>{if(s.target.files&&s.target.files.length>0){const i=s.target.files[0];b.onChange(i);const p=new FileReader;p.onload=()=>{f(p.result)},p.readAsDataURL(i)}},y=s=>{const i=new FormData;i.append("name",s.name||""),i.append("email",s.email||""),s.designation&&i.append("designation",s.designation),s.company&&i.append("company",s.company),s.photo&&i.append("photo",s.photo),i.append("testimonial",s.testimonial),s.testimonial_hi&&i.append("testimonial_hi",s.testimonial_hi),s.rating!==null&&i.append("rating",String(s.rating)),i.append("status",s.status),i.append("approval_status",s.approval_status),w.post(route("testimonials.store"),i,{onSuccess:()=>{J.fire({title:"Success!",text:"Testimonial has been created successfully.",icon:"success",timer:4e3,showConfirmButton:!1})}})},S=[{title:"Dashboard",href:route("dashboard")},{title:"Testimonials",href:route("testimonials.index")},{title:"Add Testimonials",href:route("testimonials.create")}];return e.jsxs(D,{title:"Add Testimonial",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Add Testimonial"}),e.jsx("p",{className:"text-muted-foreground",children:"Create a new customer testimonial"})]}),e.jsx(j,{variant:"outline",asChild:!0,children:e.jsxs(T,{href:route("testimonials.index"),children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Back to Testimonials"]})})]}),e.jsx($,{breadcrumbs:S})]}),e.jsxs(E,{children:[e.jsxs(k,{children:[e.jsx(P,{children:"Testimonial Details"}),e.jsx(B,{children:"Enter the testimonial information"})]}),e.jsx(I,{children:e.jsx(A,{...h,children:e.jsxs("form",{onSubmit:v(y),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(t,{control:n,name:"name",render:({field:s})=>e.jsxs(a,{children:[e.jsx(r,{children:"Client Name*"}),e.jsx(o,{children:e.jsx(m,{placeholder:"John Doe",...s})}),e.jsx(l,{})]})}),e.jsx(t,{control:n,name:"designation",render:({field:s})=>e.jsxs(a,{children:[e.jsx(r,{children:"Position"}),e.jsx(o,{children:e.jsx(m,{placeholder:"CEO",...s})}),e.jsx(c,{children:"Client's job title or position"}),e.jsx(l,{})]})}),e.jsx(t,{control:n,name:"email",render:({field:s})=>e.jsxs(a,{children:[e.jsx(r,{children:"Email"}),e.jsx(o,{children:e.jsx(m,{type:"email",placeholder:"email id",...s})}),e.jsx(c,{children:"Client's Email id"}),e.jsx(l,{})]})}),e.jsx(t,{control:n,name:"company",render:({field:s})=>e.jsxs(a,{children:[e.jsx(r,{children:"Company"}),e.jsx(o,{children:e.jsx(m,{placeholder:"Acme Inc.",...s})}),e.jsx(l,{})]})}),e.jsx(t,{control:n,name:"rating",render:({field:s})=>e.jsxs(a,{children:[e.jsx(r,{children:"Rating (1-5)"}),e.jsx(o,{children:e.jsx(m,{type:"number",min:1,max:5,placeholder:"5",...s,value:s.value===null?"":s.value,onChange:i=>{const p=i.target.value===""?null:parseInt(i.target.value,10);s.onChange(p)}})}),e.jsx(c,{children:"Optional rating out of 5 stars"}),e.jsx(l,{})]})}),e.jsx(t,{control:n,name:"photo",render:()=>e.jsxs(a,{children:[e.jsx(r,{children:"Client Photo"}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{type:"file",accept:"image/*",onChange:C}),x&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:x,alt:"Preview",className:"w-24 h-24 rounded-full object-cover border"})})]})}),e.jsx(c,{children:"Upload a photo of the client (optional)"}),e.jsx(l,{})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(t,{control:n,name:"testimonial",render:({field:s})=>e.jsxs(a,{children:[e.jsx(r,{children:"Testimonial Content (English)*"}),e.jsx(o,{children:e.jsx(u,{placeholder:"Enter the testimonial content in English",className:"min-h-[150px]",...s})}),e.jsx(l,{})]})}),e.jsx(t,{control:n,name:"testimonial_hi",render:({field:s})=>e.jsxs(a,{children:[e.jsx(r,{children:"Testimonial Content (Hindi)"}),e.jsx(o,{children:e.jsx(u,{placeholder:"Enter the testimonial content in Hindi",className:"min-h-[150px]",...s})}),e.jsx(c,{children:"Optional Hindi translation of the testimonial"}),e.jsx(l,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[e.jsx(t,{control:n,name:"status",render:({field:s})=>e.jsxs(a,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"Active Status"}),e.jsx(c,{children:"Set if this testimonial is active"})]}),e.jsx(o,{children:e.jsx(H,{checked:s.value==="active",onCheckedChange:i=>s.onChange(i?"active":"inactive")})})]})}),e.jsx(t,{control:n,name:"approval_status",render:({field:s})=>e.jsxs(a,{children:[e.jsx(r,{children:"Approval Status"}),e.jsx(o,{children:e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",value:s.value,onChange:i=>s.onChange(i.target.value),children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})}),e.jsx(c,{children:"Set the approval status of this testimonial"}),e.jsx(l,{})]})})]})]})]}),e.jsx(R,{className:"flex justify-end px-0 pb-0",children:e.jsx(j,{type:"submit",variant:"outline",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",disabled:h.formState.isSubmitting,children:h.formState.isSubmitting?"Creating...":"Create Testimonial"})})]})})})]})]})}export{pe as default};
