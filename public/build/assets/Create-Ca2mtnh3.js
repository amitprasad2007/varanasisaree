import{j as e,$ as w,S as V}from"./app-BhMdcSKk.js";import{D as _,C as N,a as F,b as D,d as T,c as A,j as k}from"./DashboardLayout-VUd8GCFO.js";import{B as p}from"./button-DYod8FMN.js";import{u as B,n as I,F as P,a as d,b as o,c as a,d as n,e as l,f as c,o as q,i as L,g as $,j as E,s as h}from"./index-BmkXUCd7.js";import{I as m}from"./input-CF6rFMmE.js";import{T as Q}from"./textarea-CEv82lq0.js";import{S as j}from"./switch-B9szJVd4.js";import{S as z,a as H,b as M,c as R,d as U}from"./select-DRmFPQ3x.js";import{B as W}from"./breadcrumbs-B_bLveUO.js";import{S as X}from"./sweetalert2.all-COREgisr.js";import{A as G}from"./arrow-left-D2nEWCcE.js";import"./index-0PyNE_9H.js";import"./utils-BngjJv30.js";import"./index-Cq-R6i0j.js";import"./label-DOWjtVNv.js";import"./index-NaCJ5V_9.js";import"./Combination-Rt7oW2Sb.js";import"./check-D_M5d7Gl.js";q({video_provider_id:h().min(1,"Video provider is required"),title:h().min(1,"Title is required"),video_id:h().min(1,"Video ID is required"),description:h().optional(),thumbnail:E().optional(),is_featured:$().default(!1),status:L(["active","inactive"]).default("active")});function xe({product:t,providers:f}){const u=B({defaultValues:{video_provider_id:"",title:"",video_id:"",description:"",thumbnail:null,is_featured:!1,status:"active"}}),{control:r,handleSubmit:v,formState:b}=u,{errors:J,isSubmitting:x}=b,{field:g}=I({name:"thumbnail",control:r}),C=s=>{s.target.files&&s.target.files.length>0&&g.onChange(s.target.files[0])},y=s=>{const i=new FormData;i.append("video_provider_id",s.video_provider_id),i.append("title",s.title),i.append("video_id",s.video_id),s.description&&i.append("description",s.description),i.append("is_featured",s.is_featured?"1":"0"),i.append("status",s.status),s.thumbnail&&i.append("thumbnail",s.thumbnail),V.post(route("product-videos.store",t.id),i,{forceFormData:!0,onSuccess:()=>{X.fire({title:"Success!",text:"Video added successfully.",icon:"success",timer:4e3,showConfirmButton:!1})}})},S=[{title:"Dashboard",href:route("dashboard")},{title:"Product",href:route("products.index")},{title:"Show Product",href:route("products.show",t.id)},{title:"Product Video",href:route("product-videos.index",t.id)},{title:"Add Product Video",href:route("product-videos.create",t.id)}];return e.jsx(_,{title:`Add Video to ${t.name}`,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Add Video"}),e.jsxs("p",{className:"text-muted-foreground",children:["Add a new video to ",t.name]})]}),e.jsx(p,{variant:"outline",asChild:!0,children:e.jsxs(w,{href:route("product-videos.index",t.id),children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Back to Videos"]})})]}),e.jsx(W,{breadcrumbs:S})]}),e.jsxs(N,{children:[e.jsxs(F,{children:[e.jsx(D,{children:"Video Details"}),e.jsx(T,{children:"Enter the details for the product video"})]}),e.jsx(A,{children:e.jsx(P,{...u,children:e.jsxs("form",{onSubmit:v(y),className:"space-y-6",children:[e.jsx(d,{control:r,name:"video_provider_id",render:({field:s})=>e.jsxs(o,{children:[e.jsx(a,{children:"Video Provider"}),e.jsxs(z,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(n,{children:e.jsx(H,{className:"bg-white border border-gray-300 rounded-md shadow-sm",children:e.jsx(M,{placeholder:"Select a provider"})})}),e.jsx(R,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:f.map(i=>e.jsx(U,{value:i.id.toString(),children:i.name},i.id))})]}),e.jsx(l,{children:"Choose the platform where the video is hosted"}),e.jsx(c,{})]})}),e.jsx(d,{control:r,name:"title",render:({field:s})=>e.jsxs(o,{children:[e.jsx(a,{children:"Video Title"}),e.jsx(n,{children:e.jsx(m,{placeholder:"Product Demo Video",...s})}),e.jsx(l,{children:"A descriptive title for the video"}),e.jsx(c,{})]})}),e.jsx(d,{control:r,name:"video_id",render:({field:s})=>e.jsxs(o,{children:[e.jsx(a,{children:"Video ID"}),e.jsx(n,{children:e.jsx(m,{placeholder:"dQw4w9WgXcQ",...s})}),e.jsx(l,{children:"The unique identifier for the video on the provider's platform"}),e.jsx(c,{})]})}),e.jsx(d,{control:r,name:"description",render:({field:s})=>e.jsxs(o,{children:[e.jsx(a,{children:"Description"}),e.jsx(n,{children:e.jsx(Q,{placeholder:"Describe what this video shows...",className:"resize-none",...s})}),e.jsx(l,{children:"A brief description of the video content (optional)"}),e.jsx(c,{})]})}),e.jsx(d,{control:r,name:"thumbnail",render:()=>e.jsxs(o,{children:[e.jsx(a,{children:"Video Thumbnail"}),e.jsx(n,{children:e.jsx(m,{type:"file",accept:"image/*",onChange:C})}),e.jsx(l,{children:"Upload a custom thumbnail image (optional)"}),e.jsx(c,{})]})}),e.jsx(d,{control:r,name:"is_featured",render:({field:s})=>e.jsxs(o,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(a,{className:"text-base",children:"Featured Video"}),e.jsx(l,{children:"Set as the primary video for this product"})]}),e.jsx(n,{children:e.jsx(j,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(d,{control:r,name:"status",render:({field:s})=>e.jsxs(o,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(a,{className:"text-base",children:"Active Status"}),e.jsx(l,{children:"Set if this video is currently active"})]}),e.jsx(n,{children:e.jsx(j,{checked:s.value==="active",onCheckedChange:i=>s.onChange(i?"active":"inactive")})})]})}),e.jsx(k,{className:"flex justify-end px-0 pb-0",children:e.jsx(p,{type:"submit",variant:"outline",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",disabled:x,children:x?"Adding...":"Add Video "})})]})})})]})]})})}export{xe as default};
