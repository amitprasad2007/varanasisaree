import{j as s,L as q}from"./app-B1tbhmxy.js";import{C as l,c as x,a as n,b as r}from"./card--ysWr4UQ.js";import{B as c}from"./badge-BurJTqaP.js";import{B as A}from"./button-DDA_8geh.js";import{D as z}from"./DashboardLayout-BbqqHCPX.js";import{R as J}from"./refresh-cw-B_HVhwYw.js";import{D as Q}from"./download-C_zv47OO.js";import{A as H,a as W,R as V,L as $,X as ss,Y as es,T as as,b as ts}from"./LineChart-qOR1bXAt.js";import{D as ls}from"./dollar-sign-XhZkIrmp.js";import{S as xs}from"./shopping-cart-Cgi-a0_P.js";import{U as ds}from"./users-5Q-EHZKQ.js";import{T as X}from"./triangle-alert-pyiCccP3.js";import{P as ns}from"./package-BuYn4_lz.js";import{a as Y,C as rs}from"./chart-pie-Fgfoduj-.js";import"./utils-ugRebPKk.js";import"./tooltip-r3E1xT1A.js";import"./index-CI-oCjGr.js";import"./index-OPuGH7Zc.js";import"./index-Pekh2N-E.js";import"./index-RLN4sl0J.js";import"./sweetalert2.esm.all-1yHLk2J-.js";import"./star-kJwlYSpi.js";import"./tiny-invariant-BaFNuDhB.js";const Ms=({metrics:e,salesChart:i,revenueChart:os,topProducts:m,recentOrders:h,recentSales:g,customerInsights:cs,inventoryAlerts:d})=>{var p,N,f,b,u,w,y,v,_,k,S,L,C,R,D,T,B,G,M,O,P,U,E,F,I;const Z=new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"}),j=new Date(Z).getHours();let o;return j<12?o="Good Morning!":j<18?o="Good Afternoon!":o="Good Evening!",s.jsxs(z,{title:"Business Dashboard",children:[s.jsx(q,{title:"Dashboard"}),s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 ",children:[s.jsx("div",{className:"bg-white shadow-lg border-b-4 border-blue-500",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"w-full sm:w-auto",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Business Dashboard"}),s.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-primary",children:o}),s.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-blue-600",children:"Real-time insights and analytics"})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 w-full sm:w-auto",children:[s.jsxs(A,{variant:"outline",className:"flex items-center space-x-1 sm:space-x-2 flex-1 sm:flex-none text-xs sm:text-sm",children:[s.jsx(J,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),s.jsxs(A,{className:"flex items-center space-x-1 sm:space-x-2 bg-blue-600 hover:bg-blue-700 flex-1 sm:flex-none text-xs sm:text-sm",children:[s.jsx(Q,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Export"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[s.jsx(l,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white border-0 shadow-lg",children:s.jsx(x,{className:"p-4 sm:p-5 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-xs sm:text-sm font-medium uppercase tracking-wide",children:"Today's Sales"}),s.jsxs("p",{className:"text-2xl sm:text-3xl font-bold",children:["₹",((N=(p=e==null?void 0:e.sales)==null?void 0:p.today)==null?void 0:N.toLocaleString())||"0"]}),s.jsxs("div",{className:"flex items-center mt-2",children:[(((f=e==null?void 0:e.sales)==null?void 0:f.growth_daily)||0)>=0?s.jsx(H,{className:"w-4 h-4 text-green-300"}):s.jsx(W,{className:"w-4 h-4 text-red-300"}),s.jsxs("span",{className:"text-xs sm:text-sm text-blue-100 ml-1",children:[Math.abs(((b=e==null?void 0:e.sales)==null?void 0:b.growth_daily)||0).toFixed(1),"% vs yesterday"]})]})]}),s.jsx(ls,{className:"w-10 h-10 sm:w-12 sm:h-12 text-blue-200"})]})})}),s.jsx(l,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white border-0 shadow-lg",children:s.jsx(x,{className:"p-4 sm:p-5 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-xs sm:text-sm font-medium uppercase tracking-wide",children:"Today's Orders"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:((u=e==null?void 0:e.orders)==null?void 0:u.today)||0}),s.jsxs("div",{className:"flex items-center mt-2",children:[(((w=e==null?void 0:e.orders)==null?void 0:w.growth_daily)||0)>=0?s.jsx(H,{className:"w-4 h-4 text-green-300"}):s.jsx(W,{className:"w-4 h-4 text-red-300"}),s.jsxs("span",{className:"text-xs sm:text-sm text-green-100 ml-1",children:[Math.abs(((y=e==null?void 0:e.orders)==null?void 0:y.growth_daily)||0).toFixed(1),"% vs yesterday"]})]})]}),s.jsx(xs,{className:"w-10 h-10 sm:w-12 sm:h-12 text-green-200"})]})})}),s.jsx(l,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white border-0 shadow-lg",children:s.jsx(x,{className:"p-4 sm:p-5 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-xs sm:text-sm font-medium uppercase tracking-wide",children:"Total Customers"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:((_=(v=e==null?void 0:e.customers)==null?void 0:v.total)==null?void 0:_.toLocaleString())||"0"}),s.jsx("div",{className:"flex items-center mt-2",children:s.jsxs("span",{className:"text-xs sm:text-sm text-purple-100",children:["+",((k=e==null?void 0:e.customers)==null?void 0:k.new_today)||0," today"]})})]}),s.jsx(ds,{className:"w-10 h-10 sm:w-12 sm:h-12 text-purple-200"})]})})}),s.jsx(l,{className:"bg-gradient-to-br from-orange-500 to-red-500 text-white border-0 shadow-lg",children:s.jsx(x,{className:"p-4 sm:p-5 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-xs sm:text-sm font-medium uppercase tracking-wide",children:"Inventory Alerts"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:(((S=e==null?void 0:e.products)==null?void 0:S.low_stock)||0)+(((L=e==null?void 0:e.products)==null?void 0:L.out_of_stock)||0)}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(X,{className:"w-4 h-4 text-yellow-300 mr-1"}),s.jsxs("span",{className:"text-xs sm:text-sm text-orange-100",children:[((C=e==null?void 0:e.products)==null?void 0:C.out_of_stock)||0," out of stock"]})]})]}),s.jsx(ns,{className:"w-10 h-10 sm:w-12 sm:h-12 text-orange-200"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs(l,{className:"shadow-lg",children:[s.jsx(n,{children:s.jsxs(r,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Y,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{children:"Sales Trend (Last 30 Days)"})]}),s.jsx(c,{variant:"secondary",children:"Live"})]})}),s.jsx(x,{className:"p-4 sm:p-6",children:s.jsx("div",{className:"h-64 sm:h-72 lg:h-80",children:i&&i.length>0?s.jsx(V,{width:"100%",height:"100%",children:s.jsxs($,{data:i,children:[s.jsx(ss,{dataKey:"date",stroke:"#6b7280"}),s.jsx(es,{stroke:"#6b7280"}),s.jsx(as,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"white"}}),s.jsx(ts,{type:"monotone",dataKey:"sales",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2}})]})}):s.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Y,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No sales data available"})]})})})})]}),s.jsxs(l,{className:"shadow-lg",children:[s.jsx(n,{children:s.jsxs(r,{className:"flex items-center space-x-2",children:[s.jsx(rs,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{children:"Revenue Overview"})]})}),s.jsx(x,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 h-auto sm:h-80",children:[s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-800 text-sm sm:text-base",children:"Total Revenue"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:["₹",((D=(R=e==null?void 0:e.revenue)==null?void 0:R.total)==null?void 0:D.toLocaleString())||"0"]})]}),s.jsxs("div",{className:"bg-yellow-50 p-3 sm:p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-yellow-800 text-sm sm:text-base",children:"Pending Orders"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:["₹",((B=(T=e==null?void 0:e.revenue)==null?void 0:T.pending)==null?void 0:B.toLocaleString())||"0"]})]}),s.jsxs("div",{className:"bg-red-50 p-3 sm:p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-red-800 text-sm sm:text-base",children:"Refunds"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-red-600",children:["₹",((M=(G=e==null?void 0:e.revenue)==null?void 0:G.refunds)==null?void 0:M.toLocaleString())||"0"]})]})]}),s.jsx("div",{className:"flex items-center justify-center py-6 sm:py-0",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-700",children:[(O=e==null?void 0:e.sales)!=null&&O.this_month&&((P=e==null?void 0:e.sales)!=null&&P.last_month)?((e.sales.this_month-e.sales.last_month)/e.sales.last_month*100).toFixed(1):"0","%"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Monthly Growth"})]})})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsxs(l,{className:"shadow-lg",children:[s.jsx(n,{children:s.jsx(r,{className:"text-lg",children:"Top Selling Products"})}),s.jsx(x,{className:"p-4 sm:p-6",children:s.jsx("div",{className:"space-y-2 sm:space-y-3 max-h-64 overflow-y-auto",children:m&&m.length>0?m.map((a,t)=>{var K;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-white rounded-lg border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:a.name}),s.jsx("p",{className:"text-xs text-gray-500",children:a.sku}),s.jsxs("p",{className:"text-sm text-blue-600",children:[a.total_sold," sold"]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"font-bold text-green-600",children:["₹",(K=a.total_revenue)==null?void 0:K.toLocaleString()]})})]},t)}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No product data available"})})})]}),s.jsxs(l,{className:"shadow-lg",children:[s.jsx(n,{children:s.jsx(r,{className:"text-lg",children:"Recent Orders"})}),s.jsx(x,{className:"p-4 sm:p-6",children:s.jsx("div",{className:"space-y-2 sm:space-y-3 max-h-64 overflow-y-auto",children:h&&h.length>0?h.map(a=>{var t;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-white rounded-lg border",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-gray-900 text-sm",children:["#",a.id]}),s.jsx("p",{className:"text-xs text-gray-500",children:a.customer_name}),s.jsx("p",{className:"text-xs text-gray-400",children:a.created_at})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-gray-900",children:["₹",(t=a.total)==null?void 0:t.toLocaleString()]}),s.jsx(c,{variant:a.status==="completed"?"default":"secondary",className:"text-xs",children:a.status})]})]},a.id)}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent orders"})})})]}),s.jsxs(l,{className:"shadow-lg",children:[s.jsx(n,{children:s.jsx(r,{className:"text-lg",children:"Recent POS Sales"})}),s.jsx(x,{className:"p-4 sm:p-6",children:s.jsx("div",{className:"space-y-2 sm:space-y-3 max-h-64 overflow-y-auto",children:g&&g.length>0?g.map(a=>{var t;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-white rounded-lg border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:a.invoice_number}),s.jsx("p",{className:"text-xs text-gray-500",children:a.customer_name}),s.jsx("p",{className:"text-xs text-gray-400",children:a.created_at})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-gray-900",children:["₹",(t=a.total)==null?void 0:t.toLocaleString()]}),s.jsx(c,{variant:"default",className:"text-xs",children:a.status})]})]},a.id)}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent sales"})})})]})]}),d&&(((U=d.low_stock)==null?void 0:U.length)>0||((E=d.out_of_stock)==null?void 0:E.length)>0)&&s.jsxs(l,{className:"shadow-lg border-l-4 border-l-red-500",children:[s.jsx(n,{children:s.jsxs(r,{className:"flex items-center space-x-2 text-red-600",children:[s.jsx(X,{className:"w-5 h-5"}),s.jsx("span",{children:"Inventory Alerts"})]})}),s.jsx(x,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[((F=d.out_of_stock)==null?void 0:F.length)>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-red-800 mb-3",children:["Out of Stock (",d.out_of_stock.length,")"]}),s.jsx("div",{className:"space-y-2",children:d.out_of_stock.slice(0,5).map((a,t)=>s.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-red-900",children:a.name}),s.jsx("p",{className:"text-sm text-red-600",children:a.sku})]},t))})]}),((I=d.low_stock)==null?void 0:I.length)>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-orange-800 mb-3",children:["Low Stock (",d.low_stock.length,")"]}),s.jsx("div",{className:"space-y-2",children:d.low_stock.slice(0,5).map((a,t)=>s.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-orange-900",children:a.name}),s.jsx("p",{className:"text-sm text-orange-600",children:a.sku})]}),s.jsxs(c,{variant:"outline",className:"text-orange-700",children:[a.stock," left"]})]},t))})]})]})})]})]})]})]})};export{Ms as default};
