import{r as m,m as y,j as e,L as b,$ as _}from"./index.esm-Bc_4NMHb.js";import{D as w}from"./DashboardLayout-BDCGVe1w.js";import{B as u}from"./button-BGQ3eGlv.js";import{I as j}from"./input-C5Rq1bdp.js";import{T as I}from"./textarea-C4zj-sHQ.js";import{C as A,a as F,b as L,c as O}from"./dashboard-DiRicu7v.js";import{S as D}from"./switch-Bn-yWZ2L.js";import{L as n}from"./label-Bf6AiYvT.js";import{A as J}from"./arrow-left-CF2BqPGQ.js";import{U as E}from"./upload-DsTldtJN.js";import"./utils-D0xr-SEQ.js";import"./sweetalert2.esm.all-DGhwgajj.js";import"./createLucideIcon-C4cwkqtv.js";import"./index-wy8baEd3.js";import"./index-BWaccMhK.js";import"./index-BW5lKf9d.js";import"./index-DaD-7RND.js";const Y=({aboutus:c})=>{const[x,g]=m.useState(null),{data:o,setData:a,post:N,processing:f,errors:r}=y({aboutus_id:c.id,section_title:"",section_content:{},image:null,order:0,status:"active"}),[p,v]=m.useState(JSON.stringify({},null,2)),[h,l]=m.useState(null),C=s=>{s.preventDefault();try{const t=JSON.parse(p||"{}");a("section_content",t),l(null)}catch{l("Please enter valid JSON");return}N(route("aboutus.sections.store"),{forceFormData:!0})},S=s=>{var t;if((t=s.target.files)!=null&&t[0]){const i=s.target.files[0];a("image",i);const d=new FileReader;d.onload=()=>g(d.result),d.readAsDataURL(i)}};return e.jsxs(w,{title:`Add Section - ${c.page_title}`,children:[e.jsx(b,{title:`Add Section - ${c.page_title}`}),e.jsx("div",{className:"space-y-4 pb-6",children:e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(_,{href:route("aboutus.sections.index",c.id),className:"mr-4",children:e.jsxs(u,{variant:"outline",size:"sm",className:"cursor-pointer",children:[e.jsx(J,{className:"h-4 w-4 mr-2"})," Back"]})}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Add Section"})]})}),e.jsxs(A,{children:[e.jsx(F,{children:e.jsx(L,{children:"Section Information"})}),e.jsx(O,{children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"section_title",children:"Title"}),e.jsx(j,{id:"section_title",value:o.section_title,onChange:s=>a("section_title",s.target.value)}),r.section_title&&e.jsx("p",{className:"text-sm text-red-500",children:r.section_title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Content (JSON)"}),e.jsx(I,{rows:10,value:p,onChange:s=>{const t=s.target.value;v(t);try{const i=JSON.parse(t||"{}");a("section_content",i),l(null)}catch{l("Invalid JSON")}}}),h&&e.jsx("p",{className:"text-sm text-red-500",children:h}),r.section_content&&e.jsx("p",{className:"text-sm text-red-500",children:r.section_content})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"image",children:"Image (optional)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",id:"image",className:"hidden",accept:"image/*",onChange:S}),e.jsxs("label",{htmlFor:"image",className:"cursor-pointer inline-flex items-center gap-2 border rounded-md px-3 py-2",children:[e.jsx(E,{className:"h-4 w-4"})," Upload Image"]}),r.image&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.image})]}),x&&e.jsx("div",{className:"w-40 h-24 bg-gray-100 rounded overflow-hidden",children:e.jsx("img",{src:x,className:"w-full h-full object-cover"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"order",children:"Order"}),e.jsx(j,{id:"order",type:"number",value:o.order,onChange:s=>a("order",Number(s.target.value))})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{id:"status",checked:o.status==="active",onCheckedChange:s=>a("status",s?"active":"inactive")}),e.jsx(n,{htmlFor:"status",children:"Active"})]})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(u,{type:"submit",disabled:f,className:"cursor-pointer",children:"Create"})})]})})]})]})};export{Y as default};
