import{m as F,U as u,j as e,L as D}from"./app-BEgCdFKt.js";import{D as E}from"./DashboardLayout-Cvod9ZPy.js";import{B as x}from"./button-Cxo5NDgh.js";import{I as d}from"./input-DfNuEM-B.js";import{L as o}from"./label-It4uFqZK.js";import{T as g}from"./textarea-CewwaOmq.js";import{C as B}from"./checkbox-BjNhUHeM.js";import{S as T,a as k,b as L,c as P,d as I}from"./select-D0nbrAm3.js";import{B as O}from"./breadcrumbs-DbGM6j6Z.js";import{S as R}from"./sweetalert2.esm.all-1yHLk2J-.js";import"./tooltip-CQTOk5VK.js";import"./utils-s9Ncw-UQ.js";import"./index-CvtYkEOn.js";import"./index-GPoiyPcv.js";import"./index-CX6RVb_s.js";import"./index-DHffHFAe.js";import"./card-Ge9SF-CV.js";import"./shopping-cart-CRG7BGUT.js";import"./star-B5x8Bp1E.js";import"./index-DFnQvshU.js";import"./check-Biicm0f8.js";import"./index-BzzthBc8.js";import"./Combination-DaamcoX6.js";function le({collection:s,collectionTypes:v}){var p;const{data:l,setData:i,post:j,transform:_,processing:b,errors:t}=F({name:s.name,slug:s.slug,description:s.description||"",collection_type_id:((p=s.collection_type_id)==null?void 0:p.toString())||"",banner_image:null,thumbnail_image:null,seo_title:s.seo_title||"",seo_description:s.seo_description||"",sort_order:s.sort_order,is_active:s.is_active}),[m,f]=u.useState(s.banner_image?`/storage/${s.banner_image}`:null),[h,N]=u.useState(s.thumbnail_image?`/storage/${s.thumbnail_image}`:null),C=[{title:"Dashboard",href:route("dashboard")},{title:"Collections",href:route("collections.index")},{title:"Edit Collection",href:route("collections.edit",s.id)}],y=r=>{r.preventDefault(),_(a=>({...a,_method:"put"})),j(route("collections.update",s.id),{forceFormData:!0,onSuccess:()=>{R.fire({title:"Success!",text:"Collection updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})},w=r=>{var c;const a=((c=r.target.files)==null?void 0:c[0])||null;if(i("banner_image",a),a){const n=new FileReader;n.onloadend=()=>{f(n.result)},n.readAsDataURL(a)}},S=r=>{var c;const a=((c=r.target.files)==null?void 0:c[0])||null;if(i("thumbnail_image",a),a){const n=new FileReader;n.onloadend=()=>{N(n.result)},n.readAsDataURL(a)}};return e.jsxs(E,{title:"Edit Collection",children:[e.jsx(D,{title:"Edit Collection"}),e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Collection"}),e.jsx(x,{variant:"outline",onClick:()=>window.history.back(),className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",children:"Cancel"})]}),e.jsx(O,{breadcrumbs:C})]}),e.jsx("div",{className:"bg-white rounded-md shadow-lg border border-gray-100 p-6",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",children:"Name *"}),e.jsx(d,{id:"name",value:l.name,onChange:r=>i("name",r.target.value),className:t.name?"border-red-500":""}),t.name&&e.jsx("p",{className:"text-sm text-red-600",children:t.name})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"slug",children:"Slug"}),e.jsx(d,{id:"slug",value:l.slug,onChange:r=>i("slug",r.target.value)}),t.slug&&e.jsx("p",{className:"text-sm text-red-600",children:t.slug})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"description",children:"Description"}),e.jsx(g,{id:"description",value:l.description,onChange:r=>i("description",r.target.value),rows:4}),t.description&&e.jsx("p",{className:"text-sm text-red-600",children:t.description})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"collection_type_id",children:"Collection Type *"}),e.jsxs(T,{value:l.collection_type_id,onValueChange:r=>i("collection_type_id",r),children:[e.jsx(k,{className:t.collection_type_id?"border-red-500":"",children:e.jsx(L,{placeholder:"Select a collection type"})}),e.jsx(P,{children:v.map(r=>e.jsx(I,{value:r.id.toString(),children:r.name},r.id))})]}),t.collection_type_id&&e.jsx("p",{className:"text-sm text-red-600",children:t.collection_type_id})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"banner_image",children:"Banner Image"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{id:"banner_image",type:"file",accept:"image/*",onChange:w}),m&&e.jsx("div",{className:"relative group",children:e.jsx("img",{src:m,alt:"Banner Preview",className:"w-32 h-32 object-cover rounded-md transition-all duration-300 group-hover:w-40 group-hover:h-40 group-hover:shadow-lg group-hover:z-20 group-hover:relative"})})]}),t.banner_image&&e.jsx("p",{className:"text-sm text-red-600",children:t.banner_image})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"thumbnail_image",children:"Thumbnail Image"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{id:"thumbnail_image",type:"file",accept:"image/*",onChange:S}),h&&e.jsx("div",{className:"relative group",children:e.jsx("img",{src:h,alt:"Thumbnail Preview",className:"w-32 h-32 object-cover rounded-md transition-all duration-300 group-hover:w-40 group-hover:h-40 group-hover:shadow-lg group-hover:z-20 group-hover:relative"})})]}),t.thumbnail_image&&e.jsx("p",{className:"text-sm text-red-600",children:t.thumbnail_image})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"seo_title",children:"SEO Title"}),e.jsx(d,{id:"seo_title",value:l.seo_title,onChange:r=>i("seo_title",r.target.value),placeholder:"SEO title"}),t.seo_title&&e.jsx("p",{className:"text-sm text-red-600",children:t.seo_title})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"seo_description",children:"SEO Description"}),e.jsx(g,{id:"seo_description",value:l.seo_description,onChange:r=>i("seo_description",r.target.value),rows:3,placeholder:"Short SEO description"}),t.seo_description&&e.jsx("p",{className:"text-sm text-red-600",children:t.seo_description})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"sort_order",children:"Sort Order"}),e.jsx(d,{id:"sort_order",type:"number",value:l.sort_order,onChange:r=>i("sort_order",Number(r.target.value))}),t.sort_order&&e.jsx("p",{className:"text-sm text-red-600",children:t.sort_order})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"is_active",checked:l.is_active,onCheckedChange:r=>i("is_active",r)}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Active"})]}),e.jsx(x,{variant:"outline",type:"submit",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",disabled:b,children:"Update Collection"})]})})]})}export{le as default};
