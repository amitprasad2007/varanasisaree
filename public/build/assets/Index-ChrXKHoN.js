import{r as B,m as v,j as e,L as C,$ as m,a as x}from"./app-BtnH7waq.js";import{D as k,I as D}from"./DashboardLayout-DEeLPjM2.js";import{B as l}from"./button-mw2mnBJF.js";import{T as S,a as T,b as u,c as o,d as E,e as i}from"./table-BAUWvg5u.js";import{D as I,C as P,P as A}from"./dnd.esm-Brj2uSzU.js";import{B as F}from"./breadcrumbs-BLlijsU2.js";import{S as n}from"./sweetalert2.esm.all-1yHLk2J-.js";import{P as p}from"./plus-_rtNv_qj.js";import{G as L}from"./grip-vertical-DJhvgD2U.js";import{E as R}from"./eye-7OkosRsx.js";import{E as z}from"./eye-off-iRNWfh8n.js";import{S as G}from"./square-pen-DHh-do0J.js";import{T as H}from"./trash-2-D0M5a9XL.js";import"./tooltip-PntH_VYr.js";import"./utils-B_sM4otB.js";import"./index-BJ3Sv7EW.js";import"./index-CpCqWZrE.js";import"./index-Db-nxL8F.js";import"./index-BLryu2Ny.js";import"./card-BFg8QPQW.js";import"./shopping-cart-DX5TE4ad.js";import"./star-DmnAL-gn.js";import"./tiny-invariant-BaFNuDhB.js";const ce=({banners:f})=>{const[c,h]=B.useState(f),{delete:j}=v(),g=s=>{n.fire({title:"Are you sure?",text:"Are you sure you want to delete this banner?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&j(route("banners.destroy",s),{onSuccess:()=>{n.fire({title:"Deleted!",text:"Your Banner has been deleted.",icon:"success",timer:3e3,showConfirmButton:!1})}})})},b=s=>{x.post(route("banners.update-status",s)).then(()=>{h(c.map(r=>r.id===s?{...r,status:r.status==="active"?"inactive":"active"}:r)),n.fire({title:"Success!",text:"Banner status updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}).catch(r=>{n.fire({title:"Error!",text:"Failed to update banner status",icon:"error",timer:4e3,showConfirmButton:!1})})},w=s=>{if(!s.destination)return;const r=Array.from(c),[d]=r.splice(s.source.index,1);r.splice(s.destination.index,0,d);const t=r.map((a,N)=>({...a,order:N+1}));h(t),x.post(route("banners.update-order"),{banners:t.map(a=>({id:a.id,order:a.order}))}).then(()=>{n.fire({title:"Success!",text:"Banner order updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}).catch(a=>{console.error("Error updating order:",a),n.fire({title:"Error!",text:"Failed to update banner order",icon:"error",timer:4e3,showConfirmButton:!1})})},y=[{title:"Dashboard",href:route("dashboard")},{title:"Banner",href:route("banners.index")}];return e.jsxs(k,{title:"Banners",children:[e.jsx(C,{title:"Banners"}),e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Banners"}),e.jsx(m,{href:route("banners.create"),children:e.jsxs(l,{className:"flex items-center gap-2 bg-primary cursor-pointer hover:bg-gray-100 text-black shadow-sm",variant:"outline",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Add New Banner"]})})]}),e.jsx(F,{breadcrumbs:y})]}),c.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 text-center border border-gray-100",children:[e.jsx(D,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No banners found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating a new banner."}),e.jsx(m,{href:route("banners.create"),children:e.jsxs(l,{variant:"outline",className:"items-center gap-2 bg-primary cursor-pointer hover:bg-gray-100 text-black shadow-sm",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Add New Banner"]})})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsx(I,{onDragEnd:w,children:e.jsxs(S,{children:[e.jsx(T,{children:e.jsxs(u,{children:[e.jsx(o,{style:{width:"50px"}}),e.jsx(o,{children:"Image"}),e.jsx(o,{children:"Title"}),e.jsx(o,{children:"Link"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Actions"})]})}),e.jsx(P,{droppableId:"banners",children:s=>e.jsxs(E,{...s.droppableProps,ref:s.innerRef,children:[c.map((r,d)=>e.jsx(A,{draggableId:r.id.toString(),index:d,children:t=>e.jsxs(u,{ref:t.innerRef,...t.draggableProps,children:[e.jsx(i,{children:e.jsx("div",{...t.dragHandleProps,className:"cursor-move flex justify-center",children:e.jsx(L,{className:"h-5 w-5 text-gray-400"})})}),e.jsx(i,{children:e.jsx("img",{src:`/storage/${r.image}`,alt:r.title||"Banner",className:"h-12 w-20 object-cover rounded-md"})}),e.jsx(i,{children:r.title||"Untitled"}),e.jsx(i,{children:r.link?e.jsx("a",{href:"http://127.0.0.1:8080/"+r.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate block max-w-xs",children:r.link}):e.jsx("span",{className:"text-gray-400 italic",children:"No link"})}),e.jsx(i,{children:e.jsx(l,{variant:r.status==="active"?"default":"outline",size:"sm",onClick:()=>b(r.id),children:r.status==="active"?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4 mr-1 cursor-pointer"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"h-4 w-4 mr-1 cursor-pointer"}),"Inactive"]})})}),e.jsx(i,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(m,{href:route("banners.edit",r.id),children:e.jsxs(l,{variant:"outline",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",size:"sm",children:[e.jsx(G,{className:"h-4 w-4 cursor-pointer"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>g(r.id),className:"text-red-600 hover:bg-red-50",children:[e.jsx(H,{className:"h-4 w-4 cursor-pointer"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]})},r.id)),s.placeholder]})})]})})})]})};export{ce as default};
