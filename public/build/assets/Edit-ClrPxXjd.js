import{r as f,m as v,j as e,L as N,$ as b}from"./app-uAdQgTs8.js";import{D as y}from"./DashboardLayout-DfHjR-E3.js";import{B as o}from"./button-Bb0dxY43.js";import{I as m}from"./input-xk17Qy7U.js";import{T as B}from"./textarea-BpAEIeZF.js";import{C as k,a as w,b as C,c as E}from"./card-Xi4sK9zb.js";import{S as D}from"./switch-BsMAT-DK.js";import{L as n}from"./label-DaIKQcgy.js";import{B as F}from"./breadcrumbs-DRPsoT0k.js";import{S as L}from"./sweetalert2.esm.all-DGhwgajj.js";import{A as S}from"./arrow-left-CtdP7h9O.js";import{U as I}from"./upload-D8jpkzwF.js";import"./index-DLvvQ_1D.js";import"./utils-BGMc812E.js";import"./index-W-PvzrYH.js";import"./log-out-W70Bistv.js";import"./index-Dsc5EKnT.js";const W=({banner:i})=>{const[c,p]=f.useState(`/storage/${i.image}`),{data:t,setData:l,post:x,processing:h,errors:a}=v({title:i.title||"",image:null,description:i.description||"",link:i.link||"",status:i.status,_method:"PUT"}),u=s=>{s.preventDefault();const r=new FormData;r.append("title",t.title),t.image&&r.append("image",t.image),r.append("description",t.description),r.append("link",t.link),r.append("status",t.status),r.append("_method","PUT"),x(route("banners.update",i.id),{method:"post",...Object.fromEntries(r),onSuccess:()=>{L.fire({title:"Success!",text:"Banner added successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})},j=[{title:"Dashboard",href:route("dashboard")},{title:"Banner",href:route("banners.index")},{title:"Edit Banner",href:route("banners.edit",i.id)}],g=s=>{if(s.target.files&&s.target.files.length>0){const r=s.target.files[0];l("image",r);const d=new FileReader;d.onload=()=>{p(d.result)},d.readAsDataURL(r)}};return e.jsxs(y,{title:"Edit Banner",children:[e.jsx(N,{title:"Edit Banner"}),e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(b,{href:route("banners.index"),className:"mr-4",children:e.jsxs(o,{variant:"outline",size:"sm",className:"cursor-pointer",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Back to Banners"]})}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Edit Banner"})]}),e.jsx(F,{breadcrumbs:j})]}),e.jsxs(k,{children:[e.jsx(w,{children:e.jsx(C,{children:"Banner Information"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"title",children:"Title (Optional)"}),e.jsx(m,{id:"title",value:t.title,onChange:s=>l("title",s.target.value),placeholder:"Enter banner title"}),a.title&&e.jsx("p",{className:"text-sm text-red-500",children:a.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"image",children:"Banner Image"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx("input",{type:"file",id:"image",className:"hidden",accept:"image/*",onChange:g}),e.jsxs("label",{htmlFor:"image",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(I,{className:"h-8 w-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm font-medium mb-1",children:"Replace Image"}),e.jsx("span",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 2MB"})]})]}),a.image&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.image})]}),c&&e.jsx("div",{className:"w-40",children:e.jsx("div",{className:"aspect-video rounded-md overflow-hidden bg-gray-100",children:e.jsx("img",{src:c,alt:"Banner preview",className:"w-full h-full object-cover"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(B,{id:"description",value:t.description,onChange:s=>l("description",s.target.value),placeholder:"Enter banner description",rows:3}),a.description&&e.jsx("p",{className:"text-sm text-red-500",children:a.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"link",children:"Link URL (Optional)"}),e.jsx(m,{id:"link",value:t.link,onChange:s=>l("link",s.target.value),placeholder:"https://example.com/page"}),a.link&&e.jsx("p",{className:"text-sm text-red-500",children:a.link})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{id:"status",checked:t.status==="active",onCheckedChange:s=>l("status",s?"active":"inactive")}),e.jsx(n,{htmlFor:"status",children:"Active"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Toggle to make this banner visible on the frontend"}),a.status&&e.jsx("p",{className:"text-sm text-red-500",children:a.status})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(o,{type:"submit",disabled:h,className:"cursor-pointer hover:bg-gray-100  dark:hover:bg-gray-400 border",children:"Update Banner"})})]})})]})]})};export{W as default};
