import{r as j,j as e,$ as g,S as c}from"./app-BNo6aVIm.js";import{D as y}from"./DashboardLayout-DK_Br-bz.js";import{B as i}from"./button-BY1x4xdf.js";import{T as w,a as A,b as n,c as l,d as C,e as r}from"./table-rfapmDNk.js";import{B as d}from"./badge-KVEVOwW-.js";import{S as D}from"./switch-CPYvUe_7.js";import{B as T}from"./breadcrumbs-NveKg06I.js";import{S as o}from"./sweetalert2.all-xzkOidHc.js";import{A as S,a as B,b as k,c as $,d as P,e as _,f as H,g as R,h as z}from"./alert-dialog-CcehU3Ym.js";import{P as E}from"./plus-ZeCwBgN7.js";import{P as I}from"./pencil-Ss1jkoyP.js";import{T as O}from"./trash-2-CR7-VJQt.js";import"./index-DeNSgcGT.js";import"./utils-9ycPlse5.js";import"./index-DuUQFe1-.js";import"./tooltip-BlAwYVYY.js";import"./index-1_cBaBpi.js";import"./index-CrbjSu7W.js";import"./Combination-Dtmhvoun.js";function ce({testimonials:x}){const[F,h]=j.useState(!1),[t,m]=j.useState(null),f=()=>{t&&c.delete(route("testimonials.destroy",t.id),{onSuccess:()=>{o.fire({title:"Success!",text:"Testimonial deleted successfully",icon:"success",timer:4e3,showConfirmButton:!1}),h(!1),m(null)}})},v=(s,a)=>{c.post(route("testimonials.update-status",s.id),{status:a?"active":"inactive"},{onSuccess:()=>{o.fire({title:"Success!",text:`Testimonial ${a?"activated":"deactivated"} successfully`,icon:"success",timer:4e3,showConfirmButton:!1})}})},u=(s,a)=>{c.post(route("testimonials.update-approval-status",s.id),{approval_status:a},{onSuccess:()=>{o.fire({title:"Success!",text:`Testimonial marked as ${a}`,icon:"success",timer:4e3,showConfirmButton:!1})}})},b=s=>{switch(s){case"pending":return e.jsx(d,{variant:"pending",children:"Pending"});case"approved":return e.jsx(d,{variant:"approved",children:"Approved"});case"rejected":return e.jsx(d,{variant:"rejected",children:"Rejected"});default:return null}},N=[{title:"Dashboard",href:route("dashboard")},{title:"Testimonials",href:route("testimonials.index")}];return e.jsx(y,{title:"Testimonials",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Testimonials"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage customer testimonials and reviews"})]}),e.jsx(i,{variant:"outline",asChild:!0,children:e.jsxs(g,{href:route("testimonials.create"),children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Add New Testimonial"]})})]}),e.jsx(T,{breadcrumbs:N})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(w,{children:[e.jsx(A,{children:e.jsxs(n,{children:[e.jsx(l,{className:"w-[80px]",children:"Photo"}),e.jsx(l,{className:"w-[200px]",children:"Client"}),e.jsx(l,{className:"hidden md:table-cell",children:"Content"}),e.jsx(l,{className:"hidden sm:table-cell w-[120px]",children:"Status"}),e.jsx(l,{className:"hidden sm:table-cell w-[120px]",children:"Approval"}),e.jsx(l,{className:"w-[150px] text-right",children:"Actions"})]})}),e.jsx(C,{children:x.length===0?e.jsx(n,{children:e.jsx(r,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No testimonials found. Start by adding one."})}):x.map(s=>e.jsxs(n,{children:[e.jsx(r,{children:s.photo?e.jsx("img",{src:`/storage/${s.photo}`,alt:s.name,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-gray-500",children:s.name?s.name.charAt(0):"?"})}),e.jsxs(r,{children:[e.jsx("div",{className:"font-medium",children:s.name}),s.designation&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.designation,s.company&&`, ${s.company}`]}),s.rating&&e.jsx("div",{className:"flex mt-1",children:[...Array(5)].map((a,p)=>e.jsx("span",{className:`text-xs ${p<s.rating?"text-yellow-500":"text-gray-300"}`,children:"â˜…"},p))})]}),e.jsxs(r,{className:"hidden md:table-cell",children:[e.jsx("div",{className:"line-clamp-2 max-w-md",children:s.testimonial}),s.testimonial_hi&&e.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:[e.jsx("span",{className:"bg-gray-100 px-1 rounded",children:"Hindi"})," Available"]})]}),e.jsx(r,{className:"hidden sm:table-cell",children:e.jsx(D,{checked:s.status==="active",onCheckedChange:a=>v(s,a)})}),e.jsx(r,{className:"hidden sm:table-cell",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[b(s.approval_status),e.jsxs("div",{className:"mt-1 flex space-x-1",children:[e.jsx("button",{onClick:()=>u(s,"approved"),className:`cursor-pointer text-xs px-1 rounded ${s.approval_status==="approved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:"Approve"}),e.jsx("button",{onClick:()=>u(s,"rejected"),className:`cursor-pointer text-xs px-1 rounded ${s.approval_status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:"Reject"})]})]})}),e.jsx(r,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(i,{variant:"outline",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",size:"sm",asChild:!0,children:e.jsx(g,{href:route("testimonials.edit",s.id),children:e.jsx(I,{className:"h-4 w-4"})})}),e.jsxs(S,{children:[e.jsx(B,{asChild:!0,children:e.jsx(i,{variant:"outline",size:"sm",className:"text-red-500 border-red-200 cursor-pointer hover:bg-red-50 hover:text-red-600",onClick:()=>m(s),children:e.jsx(O,{className:"h-4 w-4"})})}),t&&e.jsxs(k,{children:[e.jsxs($,{children:[e.jsx(P,{children:"Delete Coupon"}),e.jsxs(_,{children:["Are you sure you want to delete this testimonial from ",t==null?void 0:t.name,"? This action cannot be undone."]})]}),e.jsxs(H,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>h(!1),children:"Cancel"}),e.jsx(z,{onClick:f,className:"bg-red-500 text-white hover:bg-red-600 cursor-pointer",children:"Delete"})]})]})]})]})})]},s.id))})]})})]})})}export{ce as default};
