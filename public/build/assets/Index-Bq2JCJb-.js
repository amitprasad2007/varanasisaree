import{r,j as e}from"./app-DgxAqZIh.js";import{D}from"./DashboardLayout-T__Wzna3.js";import{B as L}from"./breadcrumbs-ChDlXGWW.js";import{I as i}from"./input-D5NTX-5y.js";import{B as u}from"./button-BdIkOZPE.js";import"./index-Ba_FneK2.js";import"./utils-DwYqQn47.js";import"./index-Ch4nA-VE.js";import"./sweetalert2.esm.all-DGhwgajj.js";import"./card-BuoT8ScV.js";import"./shopping-cart-DLwSuZv_.js";import"./log-out-BHgaQSNh.js";const k=[{label:"GET /api/testimonials",path:"/api/testimonials"},{label:"GET /api/categories",path:"/api/categories"},{label:"GET /api/featured-products",path:"/api/featured-products"},{label:"GET /api/bestseller-products",path:"/api/bestseller-products"},{label:"GET /api/getBanners",path:"/api/getBanners"},{label:"GET /api/getheriBanner",path:"/api/getheriBanner"},{label:"GET /api/getProductDetails/{slug}",path:"/api/getProductDetails/{slug}"},{label:"GET /api/getRelatedProducts/{slug}",path:"/api/getRelatedProducts/{slug}"}];function W(){var P;const E=[{title:"Dashboard",href:route("dashboard")},{title:"API Playground",href:route("api.playground")}],[p,w]=r.useState(window.location.origin),[l,B]=r.useState(((P=k[0])==null?void 0:P.path)??""),[m,v]=r.useState(""),[h,o]=r.useState([]),[x,j]=r.useState(""),[y,b]=r.useState(!1),[T,d]=r.useState(""),[G,n]=r.useState(""),N=r.useMemo(()=>l.includes("{slug}")?l.replace("{slug}",m||""):l,[l,m]),g=r.useMemo(()=>{const a=new URL(N,p);for(const{key:s,value:t}of h)s&&a.searchParams.append(s,t);return a.toString()},[p,N,h]),C=()=>o(a=>[...a,{key:"",value:""}]),R=a=>o(s=>s.filter((t,c)=>c!==a)),f=(a,s,t)=>o(c=>c.map((S,U)=>U===a?{...S,[s]:t}:S)),A=()=>{v(""),o([]),j(""),n(""),d("")},I=async()=>{b(!0),d(""),n("");try{const a={Accept:"application/json"};x&&(a.Authorization=`Bearer ${x}`);const s=await fetch(g,{method:"GET",headers:a}),t=await s.text();d(`${s.status} ${s.statusText}`);try{const c=JSON.parse(t);n(JSON.stringify(c,null,2))}catch{n(t)}}catch(a){d("Request failed"),n(String(a))}finally{b(!1)}};return e.jsxs(D,{title:"API Playground",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold",children:"API Playground"})}),e.jsx(L,{breadcrumbs:E})]}),e.jsxs("div",{className:"bg-white rounded-md shadow-lg border border-gray-100 p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Base URL"}),e.jsx(i,{value:p,onChange:a=>w(a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Select GET Endpoint"}),e.jsx("select",{className:"border rounded px-2 py-2 text-sm w-full",value:l,onChange:a=>B(a.target.value),children:k.map(a=>e.jsx("option",{value:a.path,children:a.label},a.path))})]})]}),l.includes("{slug}")&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Slug"}),e.jsx(i,{placeholder:"e.g., my-product-slug",value:m,onChange:a=>v(a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Query Params"}),e.jsx(u,{variant:"outline",className:"cursor-pointer",onClick:C,children:"Add Param"})]}),e.jsx("div",{className:"space-y-2",children:h.map((a,s)=>e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx(i,{className:"col-span-5",placeholder:"key",value:a.key,onChange:t=>f(s,"key",t.target.value)}),e.jsx(i,{className:"col-span-5",placeholder:"value",value:a.value,onChange:t=>f(s,"value",t.target.value)}),e.jsx(u,{className:"col-span-2",variant:"destructive",onClick:()=>R(s),children:"Remove"})]},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Bearer Token (optional)"}),e.jsx(i,{placeholder:"Paste token here",value:x,onChange:a=>j(a.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{variant:"outline",className:"cursor-pointer hover:bg-gray-100 text-black shadow-sm",onClick:I,disabled:y,children:y?"Sendingâ€¦":"Send GET"}),e.jsx(u,{variant:"outline",className:"cursor-pointer hover:bg-gray-100 text-black shadow-sm",onClick:A,children:"Clear"}),e.jsx("a",{className:"text-sm text-blue-600 underline",href:g,target:"_blank",rel:"noreferrer",children:"Open in new tab"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Final URL"}),e.jsx("div",{className:"font-mono text-sm break-all",children:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("div",{className:"font-mono text-sm",children:T||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Response"}),e.jsx("pre",{className:"bg-gray-50 p-3 rounded border overflow-auto text-sm max-h-[480px]",children:G||""})]})]})]})}export{W as default};
