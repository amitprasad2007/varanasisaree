import{r as l,j as e,L as X,a as z}from"./app-C5iFjJTj.js";import{D as G,F as Y}from"./DashboardLayout-Lz-6Le2D.js";import{C as v,a as N,b as y,d as U,c as b}from"./card-Dh5thgJA.js";import{B as D}from"./button-DV3B-a_6.js";import{I as Z}from"./input-DbHcwIGm.js";import{L as J}from"./label-Bek3RQfX.js";import{a as R,b as Q}from"./utils-Cr2429LM.js";import"./index-Bi_APSMg.js";import{B as w}from"./badge-BjD1av9L.js";import{U as ee}from"./upload-DCWgPNo5.js";import{D as E}from"./download-s8HA-HsT.js";import{C as I}from"./circle-check-big-F6sIbxLf.js";import{C as T}from"./circle-x-Brr4Bs61.js";import{T as se}from"./triangle-alert-Bv0jRKOh.js";import"./tooltip-DPPH5bp-.js";import"./index-CLEzuBbs.js";import"./index-DVA1hV0O.js";import"./index-CwTWrHSE.js";import"./sweetalert2.esm.all-1yHLk2J-.js";import"./shopping-cart-C18GYzIG.js";import"./star-BVKs6iO6.js";const re=Q("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),C=l.forwardRef(({className:s,variant:t,...n},a)=>e.jsx("div",{ref:a,role:"alert",className:R(re({variant:t}),s),...n}));C.displayName="Alert";const te=l.forwardRef(({className:s,...t},n)=>e.jsx("h5",{ref:n,className:R("mb-1 font-medium leading-none tracking-tight",s),...t}));te.displayName="AlertTitle";const S=l.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:R("text-sm [&_p]:leading-relaxed",s),...t}));S.displayName="AlertDescription";function ne(s,t=[]){let n=[];function a(o,d){const i=l.createContext(d),c=n.length;n=[...n,d];const p=u=>{var g;const{scope:m,children:f,...x}=u,j=((g=m==null?void 0:m[s])==null?void 0:g[c])||i,V=l.useMemo(()=>x,Object.values(x));return e.jsx(j.Provider,{value:V,children:f})};p.displayName=o+"Provider";function h(u,m){var j;const f=((j=m==null?void 0:m[s])==null?void 0:j[c])||i,x=l.useContext(f);if(x)return x;if(d!==void 0)return d;throw new Error(`\`${u}\` must be used within \`${o}\``)}return[p,h]}const r=()=>{const o=n.map(d=>l.createContext(d));return function(i){const c=(i==null?void 0:i[s])||o;return l.useMemo(()=>({[`__scope${s}`]:{...i,[s]:c}}),[i,c])}};return r.scopeName=s,[a,ae(r,...t)]}function ae(...s){const t=s[0];if(s.length===1)return t;const n=()=>{const a=s.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(o){const d=a.reduce((i,{useScope:c,scopeName:p})=>{const u=c(o)[`__scope${p}`];return{...i,...u}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function $(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function ie(...s){return t=>{let n=!1;const a=s.map(r=>{const o=$(r,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let r=0;r<a.length;r++){const o=a[r];typeof o=="function"?o():$(s[r],null)}}}}function le(s){const t=oe(s),n=l.forwardRef((a,r)=>{const{children:o,...d}=a,i=l.Children.toArray(o),c=i.find(de);if(c){const p=c.props.children,h=i.map(u=>u===c?l.Children.count(p)>1?l.Children.only(null):l.isValidElement(p)?p.props.children:null:u);return e.jsx(t,{...d,ref:r,children:l.isValidElement(p)?l.cloneElement(p,void 0,h):null})}return e.jsx(t,{...d,ref:r,children:o})});return n.displayName=`${s}.Slot`,n}function oe(s){const t=l.forwardRef((n,a)=>{const{children:r,...o}=n;if(l.isValidElement(r)){const d=me(r),i=ue(o,r.props);return r.type!==l.Fragment&&(i.ref=a?ie(a,d):d),l.cloneElement(r,i)}return l.Children.count(r)>1?l.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var ce=Symbol("radix.slottable");function de(s){return l.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===ce}function ue(s,t){const n={...t};for(const a in t){const r=s[a],o=t[a];/^on[A-Z]/.test(a)?r&&o?n[a]=(...i)=>{const c=o(...i);return r(...i),c}:r&&(n[a]=r):a==="style"?n[a]={...r,...o}:a==="className"&&(n[a]=[r,o].filter(Boolean).join(" "))}return{...s,...n}}function me(s){var a,r;let t=(a=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?s.ref:(t=(r=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}var pe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],F=pe.reduce((s,t)=>{const n=le(`Primitive.${t}`),a=l.forwardRef((r,o)=>{const{asChild:d,...i}=r,c=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...i,ref:o})});return a.displayName=`Primitive.${t}`,{...s,[t]:a}},{}),_="Progress",k=100,[xe,Oe]=ne(_),[fe,he]=xe(_),L=l.forwardRef((s,t)=>{const{__scopeProgress:n,value:a=null,max:r,getValueLabel:o=ge,...d}=s;(r||r===0)&&!A(r)&&console.error(je(`${r}`,"Progress"));const i=A(r)?r:k;a!==null&&!B(a,i)&&console.error(ve(`${a}`,"Progress"));const c=B(a,i)?a:null,p=P(c)?o(c,i):void 0;return e.jsx(fe,{scope:n,value:c,max:i,children:e.jsx(F.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":P(c)?c:void 0,"aria-valuetext":p,role:"progressbar","data-state":W(c,i),"data-value":c??void 0,"data-max":i,...d,ref:t})})});L.displayName=_;var M="ProgressIndicator",O=l.forwardRef((s,t)=>{const{__scopeProgress:n,...a}=s,r=he(M,n);return e.jsx(F.div,{"data-state":W(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...a,ref:t})});O.displayName=M;function ge(s,t){return`${Math.round(s/t*100)}%`}function W(s,t){return s==null?"indeterminate":s===t?"complete":"loading"}function P(s){return typeof s=="number"}function A(s){return P(s)&&!isNaN(s)&&s>0}function B(s,t){return P(s)&&!isNaN(s)&&s<=t&&s>=0}function je(s,t){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${k}\`.`}function ve(s,t){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${k} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var q=L,Ne=O;const H=l.forwardRef(({className:s,value:t,...n},a)=>e.jsx(q,{ref:a,className:R("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...n,children:e.jsx(Ne,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));H.displayName=q.displayName;function We(){const[s,t]=l.useState(!1),[n,a]=l.useState(null),[r,o]=l.useState(null),[d,i]=l.useState(0),c=u=>{var f;const m=(f=u.target.files)==null?void 0:f[0];m&&(a(m),o(null))},p=()=>{window.location.href="/products/bulkupload/template"},h=async()=>{var f;if(!n)return;t(!0),i(0);const u=new FormData;u.append("file",n);const m=setInterval(()=>{i(x=>Math.min(x+10,90))},200);try{const x=((f=document.querySelector('meta[name="csrf-token"]'))==null?void 0:f.getAttribute("content"))||"",V=(await z.post("/products/bulkupload",u,{headers:{"X-CSRF-TOKEN":x,"Content-Type":"multipart/form-data"},withCredentials:!0,onUploadProgress:g=>{if(g.total){const K=Math.round(g.loaded*100/g.total);i(Math.min(K,100))}}})).data;clearInterval(m),i(100),o(V)}catch{clearInterval(m),o({success:0,errors:["Upload failed. Please try again."],warnings:[]})}finally{t(!1),setTimeout(()=>i(0),1e3)}};return e.jsxs(G,{title:"Bulk Product Upload",children:[e.jsx(X,{title:"Bulk Product Upload"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Bulk Product Upload"}),e.jsx("p",{className:"text-muted-foreground",children:"Upload multiple products with their variants, specifications, images, and videos using CSV file"})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"Upload Products"]}),e.jsx(U,{children:"Select a CSV file containing your product data to upload in bulk"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(J,{htmlFor:"file",children:"CSV File"}),e.jsx(Z,{id:"file",type:"file",accept:".csv,.txt",onChange:c,disabled:s,className:"w-full cursor-pointer"})]}),n&&e.jsx("div",{className:"p-3 bg-muted rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:n.name}),e.jsxs(w,{variant:"secondary",children:[(n.size/1024).toFixed(1)," KB"]})]})}),s&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Uploading products..."}),e.jsxs("span",{children:[d,"%"]})]}),e.jsx(H,{value:d,className:"w-full"})]}),e.jsx(D,{onClick:h,disabled:!n||s,variant:"outline",className:"w-full cursor-pointer rounded-lg bg-primary text-primary-foreground hover:bg-gray-100 dark:hover:bg-gray-800",children:s?"Uploading...":"Upload Products"})]})]}),e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Download Template"]}),e.jsx(U,{children:"Download the CSV template with sample data and required format"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Template includes:"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Basic product information"}),e.jsx("li",{children:"• Product variants (colors, sizes, SKUs)"}),e.jsx("li",{children:"• Product specifications"}),e.jsx("li",{children:"• Image URLs for automatic download"}),e.jsx("li",{children:"• Video information (YouTube, Vimeo)"}),e.jsx("li",{children:"• Sample data for reference"})]})]}),e.jsxs(D,{onClick:p,variant:"outline",className:"w-full cursor-pointer rounded-lg bg-primary text-primary-foreground hover:bg-gray-100 dark:hover:bg-gray-800",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Download CSV Template"]})]})]})]}),r&&e.jsxs(v,{children:[e.jsx(N,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[r.success>0?e.jsx(I,{className:"h-5 w-5 text-green-500"}):e.jsx(T,{className:"h-5 w-5 text-red-500"}),"Upload Results"]})}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(w,{variant:"default",className:"bg-green-500",children:[r.success," Successful"]})}),r.errors.length>0&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(w,{variant:"destructive",children:[r.errors.length," Errors"]})}),r.warnings.length>0&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(w,{variant:"outline",className:"border-yellow-500 text-yellow-700",children:[r.warnings.length," Warnings"]})})]}),r.errors.length>0&&e.jsxs(C,{variant:"destructive",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Errors occurred during upload:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.errors.map((u,m)=>e.jsx("li",{className:"text-sm",children:u},m))})]})})]}),r.warnings.length>0&&e.jsxs(C,{children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Warnings:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.warnings.map((u,m)=>e.jsx("li",{className:"text-sm",children:u},m))})]})})]}),r.success>0&&e.jsxs(C,{children:[e.jsx(I,{className:"h-4 w-4"}),e.jsxs(S,{children:["Successfully uploaded ",r.success," products with all their variants, specifications, images, and videos."]})]})]})]}),e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"CSV Format Guide"}),e.jsx(U,{children:"Understanding the CSV format for bulk product upload"})]}),e.jsx(b,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Basic Fields"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"name:"})," Product name"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"description:"})," Product description"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"category_name:"})," Category (will be created if not exists)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"subcategory_name:"})," Subcategory"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"brand_name:"})," Brand name"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"price:"})," Base price"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"discount:"})," Discount percentage"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"stock_quantity:"})," Stock quantity"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Advanced Fields"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"specifications:"})," Name:Value|Name:Value"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"variants:"})," Color-Size-SKU-Price-Discount-Stock"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"images:"})," URL1|URL2|URL3 (auto-downloaded)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"videos:"})," Provider-VideoID-Title"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"is_bestseller:"})," true/false"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"status:"})," active/inactive"]})]})]})]})})]})]})]})}export{We as default};
