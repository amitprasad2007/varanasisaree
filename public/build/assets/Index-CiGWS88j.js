import{r as C,j as e,L as _,$ as B,S as d}from"./app-DfN1q9g5.js";import{D as k}from"./DashboardLayout-BjjJLokQ.js";import{B as g}from"./button-797cin1z.js";import{I as P}from"./input-CNOd0Qzo.js";import{S as m,a as o,b as h,c as u,d as l}from"./select-D2BcCiWu.js";import{B as x}from"./badge-CrmRBOV-.js";import{T,a as U,b as j,c as t,d as D,e as a}from"./table-DvZ7-kDq.js";import{B as M}from"./breadcrumbs-B0z_mlxU.js";import{S as O}from"./sweetalert2.esm.all-1yHLk2J-.js";import{S as V}from"./search-BXwix52T.js";import{P as I}from"./package-BPQTopZA.js";import{U as E}from"./index-DwN4oAW_.js";import{E as F}from"./eye-CdyG7NL0.js";import{T as L}from"./truck-Cnv9K1tc.js";import{f as W}from"./format-CBpsKyOP.js";import"./tooltip-CS8iEUbb.js";import"./utils-SUP4tnaS.js";import"./index-Bhqmt9n5.js";import"./index-B-RVbn78.js";import"./index-DAKmUasb.js";import"./card-Ch0V37sH.js";import"./shopping-cart-spSLeQu0.js";import"./star-DzbdgbRd.js";import"./index-CrsYxolJ.js";import"./index-lIcSEBLL.js";import"./Combination-D3l462l3.js";import"./check-Bp0KSp3H.js";const z=r=>{switch(r){case"pending":return"secondary";case"processing":return"default";case"shipped":return"default";case"delivered":return"default";case"cancelled":return"destructive";default:return"secondary"}},H=r=>{switch(r){case"low":return"secondary";case"normal":return"default";case"high":return"default";case"urgent":return"destructive";default:return"default"}};function fe({orders:r,filters:f,statusOptions:b,paymentStatusOptions:v,priorityOptions:y,assignedUsers:R}){const[i,N]=C.useState(f),c=(s,n)=>{const A=n==="all"?"":n,p={...i,[s]:A};N(p),d.get(route("orders.index"),p,{preserveState:!0})},S=s=>{const n=prompt("Enter AWB Number (leave empty for auto-generation):");n!==null&&d.put(route("admin.orders.assign-awb",s),{awb_number:n||void 0,shipping_notes:"AWB assigned via admin panel"},{preserveState:!0,onSuccess:()=>{O.fire({title:"Success!",text:"AWB number assigned successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})},w=[{title:"Dashboard",href:route("dashboard")},{title:"Orders",href:route("orders.index")}];return e.jsxs(k,{title:"Order Management",children:[e.jsx(_,{title:"Order Management"}),e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Order Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and track customer orders"})]})}),e.jsx(M,{breadcrumbs:w})]}),e.jsxs("div",{className:"bg-white rounded-md border mb-6 p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(P,{placeholder:"Order ID, Customer...",value:i.customer_search||"",onChange:s=>c("customer_search",s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),e.jsxs(m,{value:i.status||"all",onValueChange:s=>c("status",s),children:[e.jsx(o,{children:e.jsx(h,{placeholder:"All Statuses"})}),e.jsxs(u,{className:"bg-white",children:[e.jsx(l,{value:"all",children:"All Statuses"}),b.map(s=>e.jsx(l,{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Payment Status"}),e.jsxs(m,{value:i.payment_status||"all",onValueChange:s=>c("payment_status",s),children:[e.jsx(o,{children:e.jsx(h,{placeholder:"All Payment Statuses"})}),e.jsxs(u,{className:"bg-white",children:[e.jsx(l,{value:"all",children:"All Payment Statuses"}),v.map(s=>e.jsx(l,{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Priority"}),e.jsxs(m,{value:i.priority||"all",onValueChange:s=>c("priority",s),children:[e.jsx(o,{children:e.jsx(h,{placeholder:"All Priorities"})}),e.jsxs(u,{className:"bg-white",children:[e.jsx(l,{value:"all",children:"All Priorities"}),y.map(s=>e.jsx(l,{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]})]})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(T,{children:[e.jsx(U,{children:e.jsxs(j,{children:[e.jsx(t,{children:"Order ID"}),e.jsx(t,{children:"Customer"}),e.jsx(t,{children:"Amount"}),e.jsx(t,{children:"Status"}),e.jsx(t,{children:"Payment"}),e.jsx(t,{children:"Priority"}),e.jsx(t,{children:"Assigned To"}),e.jsx(t,{children:"Date"}),e.jsx(t,{className:"text-right",children:"Actions"})]})}),e.jsx(D,{children:r.data.length===0?e.jsx(j,{children:e.jsx(a,{colSpan:9,className:"text-center py-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx(I,{className:"h-12 w-12 text-muted-foreground mb-2"}),e.jsx("h3",{className:"text-lg font-medium",children:"No orders found"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"No orders match your current filters."})]})})}):r.data.map(s=>e.jsxs(j,{children:[e.jsx(a,{className:"font-medium",children:e.jsx(B,{href:route("orders.show",s.id),className:"text-blue-600 hover:underline",children:s.order_id})}),e.jsx(a,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.customer.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.customer.email})]})}),e.jsxs(a,{children:["â‚¹",s.total_amount.toLocaleString()]}),e.jsx(a,{children:e.jsx(x,{variant:z(s.status),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})}),e.jsx(a,{children:e.jsx(x,{variant:s.payment_status==="paid"?"default":"secondary",children:s.payment_status.charAt(0).toUpperCase()+s.payment_status.slice(1)})}),e.jsx(a,{children:e.jsx(x,{variant:H(s.order_priority),children:s.order_priority.charAt(0).toUpperCase()+s.order_priority.slice(1)})}),e.jsx(a,{children:s.assigned_to?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4"}),s.assigned_to.name]}):e.jsx("span",{className:"text-gray-400",children:"Unassigned"})}),e.jsx(a,{children:W(new Date(s.created_at),"MMM dd, yyyy")}),e.jsx(a,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(g,{variant:"outline",size:"sm",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>d.visit(route("orders.show",s.id)),children:e.jsx(F,{className:"h-4 w-4"})}),!s.awb_number&&s.status==="processing"&&e.jsx(g,{variant:"outline",size:"sm",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>S(s.id),children:e.jsx(L,{className:"h-4 w-4"})})]})})]},s.id))})]})})]})}export{fe as default};
