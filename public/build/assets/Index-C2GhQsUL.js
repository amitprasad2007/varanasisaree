import{r as S,m as P,j as e,U as E}from"./app-qNBsVnUW.js";import{D as O}from"./DashboardLayout-D0BCeySr.js";import{C as V,a as A,b as H,c as z}from"./card-DhW99ARI.js";import{B as n}from"./button-D4aiZzOM.js";import{I as p}from"./input-Dyp1Dvaq.js";import{L as o}from"./label-C4oF4q45.js";import{T as q,a as R,b as x,c as d,d as U,e as t}from"./table-DUHO_OZo.js";import{D as Y,b as G,c as J,d as K,e as Q,f as W}from"./dialog-C85GxAF3.js";import{S as D,a as w,b as y,c as I,d as j}from"./select-NI0TOkAk.js";import{B as X}from"./breadcrumbs--D2Ay_vu.js";import{S as u}from"./sweetalert2.esm.all-1yHLk2J-.js";import{S as Z}from"./switch-B5g_9fN3.js";import{P as $}from"./plus-DXBrYQIl.js";import{S as T}from"./square-pen-LLzcInQE.js";import{T as _}from"./trash-2-CZ8726Kz.js";import"./tooltip-GkyuhSBB.js";import"./utils-7at7V7MA.js";import"./index-JM0mbxjo.js";import"./index-D04qc_sK.js";import"./index-Cw5sr37V.js";import"./index-CkD3j4fZ.js";import"./shopping-cart-Dvkf-Dwc.js";import"./star-isaTgVc7.js";import"./index-BrUn31OJ.js";import"./Combination-BS61-Erz.js";import"./index-B8iocmYP.js";import"./index-b1wxqwx5.js";import"./check-BOttdie5.js";function Te({menus:h,sections:g}){const[k,c]=S.useState(!1),[m,b]=S.useState(null),a=P({label:"",path:"",icon:"",section:"Overview",parent_id:"",is_logout:!1}),B=[{title:"Dashboard",href:"/dashboard"},{title:"Vendor Sidebar",href:"/vendor-menus"}],F=()=>{b(null),a.reset(),c(!0)},f=s=>{var i;b(s),a.setData({label:s.label,path:s.path,icon:s.icon||"",section:s.section,parent_id:((i=s.parent_id)==null?void 0:i.toString())||"",is_logout:s.is_logout}),c(!0)},L=s=>{s.preventDefault(),m?a.put(route("vendor-menus.update",m.id),{onSuccess:()=>{c(!1),u.fire("Success","Menu item updated successfully","success")}}):a.post(route("vendor-menus.store"),{onSuccess:()=>{c(!1),u.fire("Success","Menu item created successfully","success")}})},N=s=>{u.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(i=>{i.isConfirmed&&a.delete(route("vendor-menus.destroy",s),{onSuccess:()=>{u.fire("Deleted!","Menu item has been deleted.","success")}})})},M=()=>{let s=[];return Object.values(h).forEach(i=>{s=[...s,...i]}),s};return e.jsxs(O,{title:"Vendor Sidebar Management",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Vendor Sidebar Management"}),e.jsxs(n,{variant:"outline",onClick:F,className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 text-black shadow-sm",children:[e.jsx($,{className:"h-4 w-4"}),"Add Menu Item"]})]}),e.jsx(X,{breadcrumbs:B})]}),e.jsx("div",{className:"space-y-6",children:g.map(s=>{var i;return e.jsxs(V,{className:"mb-6",children:[e.jsx(A,{children:e.jsx(H,{children:s})}),e.jsx(z,{children:e.jsxs(q,{children:[e.jsx(R,{children:e.jsxs(x,{children:[e.jsx(d,{children:"Label"}),e.jsx(d,{children:"Path"}),e.jsx(d,{children:"Icon"}),e.jsx(d,{children:"Sub-items"}),e.jsx(d,{className:"text-right",children:"Actions"})]})}),e.jsxs(U,{children:[(i=h[s])==null?void 0:i.map(r=>{var v,C;return e.jsxs(E.Fragment,{children:[e.jsxs(x,{children:[e.jsxs(t,{className:"font-medium flex items-center gap-2",children:[r.label,r.is_logout&&e.jsx("span",{className:"text-xs text-red-500",children:"(Logout)"})]}),e.jsx(t,{children:r.path}),e.jsx(t,{children:r.icon}),e.jsx(t,{children:(v=r.children)!=null&&v.length?e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600",children:r.children.map(l=>e.jsxs("li",{children:[l.label," (",l.path,")"]},l.id))}):"-"}),e.jsx(t,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"ghost",size:"icon",className:"cursor-pointer",onClick:()=>f(r),children:e.jsx(T,{className:"h-4 w-4"})}),e.jsx(n,{variant:"ghost",size:"icon",className:"text-red-500 cursor-pointer",onClick:()=>N(r.id),children:e.jsx(_,{className:"h-4 w-4"})})]})})]}),(C=r.children)==null?void 0:C.map(l=>e.jsxs(x,{className:"bg-gray-50/50",children:[e.jsxs(t,{className:"pl-10 text-sm",children:["â†³ ",l.label]}),e.jsx(t,{className:"text-sm",children:l.path}),e.jsx(t,{className:"text-sm",children:l.icon}),e.jsx(t,{className:"text-sm",children:"-"}),e.jsx(t,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"ghost",className:"cursor-pointer",size:"icon",onClick:()=>f(l),children:e.jsx(T,{className:"h-3 w-3"})}),e.jsx(n,{variant:"ghost",size:"icon",className:"text-red-500 cursor-pointer",onClick:()=>N(l.id),children:e.jsx(_,{className:"h-3 w-3"})})]})})]},l.id))]},r.id)}),(!h[s]||h[s].length===0)&&e.jsx(x,{children:e.jsx(t,{colSpan:5,className:"text-center text-gray-500",children:"No items in this section"})})]})]})})]},s)})}),e.jsx(Y,{open:k,onOpenChange:c,children:e.jsxs(G,{className:"bg-white",children:[e.jsxs(J,{children:[e.jsx(K,{children:m?"Edit Menu Item":"Add Menu Item"}),e.jsx(Q,{children:"Configure the menu item details."})]}),e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"label",children:"Label"}),e.jsx(p,{id:"label",value:a.data.label,onChange:s=>a.setData("label",s.target.value),required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"path",children:"Path"}),e.jsx(p,{id:"path",value:a.data.path,onChange:s=>a.setData("path",s.target.value),required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"icon",children:"Icon Name (Lucide React)"}),e.jsx(p,{id:"icon",value:a.data.icon,onChange:s=>a.setData("icon",s.target.value),placeholder:"e.g. Home, Settings, ShoppingCart"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"section",children:"Section"}),e.jsxs(D,{value:a.data.section,onValueChange:s=>a.setData("section",s),children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Select section"})}),e.jsx(I,{className:"bg-white",children:g.map(s=>e.jsx(j,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"parent_id",children:"Parent Item (Optional)"}),e.jsxs(D,{value:a.data.parent_id,onValueChange:s=>a.setData("parent_id",s),children:[e.jsx(w,{children:e.jsx(y,{placeholder:"None (Top level)"})}),e.jsxs(I,{className:"bg-white",children:[e.jsx(j,{value:"null",children:"None"}),M().map(s=>e.jsx(j,{value:s.id.toString(),children:s.label},s.id))]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"is_logout",checked:a.data.is_logout,onCheckedChange:s=>a.setData("is_logout",s)}),e.jsx(o,{htmlFor:"is_logout",children:"Is Logout Button?"})]}),e.jsxs(W,{children:[e.jsx(n,{type:"button",className:"cursor-pointer hover:bg-red-100 text-black shadow-sm",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(n,{type:"submit",className:"cursor-pointer hover:bg-gray-100 text-black shadow-sm",variant:"outline",disabled:a.processing,children:m?"Update":"Create"})]})]})]})})]})}export{Te as default};
