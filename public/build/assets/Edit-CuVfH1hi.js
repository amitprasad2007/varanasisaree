import{r as o,m as P,a as B,j as e}from"./app-Cu1Mo5fE.js";import{D as z}from"./DashboardLayout-Cm2bRT_k.js";import{B as p}from"./button-MXUFE7vG.js";import{I as d}from"./input-BP-lb4P-.js";import{T as q}from"./textarea-DkGUm6q4.js";import{L as c}from"./label-DTP1Bhle.js";import{S as n,a as m,b as h,c as x,d as u}from"./select-D6Z9OEvu.js";import{C as j}from"./checkbox-xFUTxOTb.js";import{B as D}from"./breadcrumbs-BKgI37tE.js";import{S as y}from"./sweetalert2.esm.all-DGhwgajj.js";import"./index-DWyO1I2m.js";import"./utils-Bp-j8zWL.js";import"./index-CeFROCQn.js";import"./index-CKYje42w.js";import"./Combination-26vY0uFR.js";import"./check-C5UVEbeH.js";function K({categories:v,product:t,brands:N,subcategories:f}){const[g,_]=o.useState(f),[w,S]=o.useState(!1),{data:r,setData:i,put:C,processing:b,errors:a}=P({name:t.name||"",slug:t.slug||"",category_id:t.category_id||"",subcategory_id:t.subcategory_id||"",brand_id:t.brand_id||"",description:t.description||"",price:t.price||"",discount:t.discount||"0",stock_quantity:t.stock_quantity||"0",fabric:t.fabric||"",color:t.color||"",size:t.size||"",work_type:t.work_type||"",occasion:t.occasion||"",weight:t.weight||"",is_bestseller:t.is_bestseller||!1,status:t.status==="active"});o.useEffect(()=>{w&&r.category_id?k(String(r.category_id)):S(!0)},[r.category_id]);const k=async s=>{try{const l=await B.get(`/get-subcategories/${s}`);_(l.data),i("subcategory_id","")}catch(l){y.fire({title:"Error!",text:"Error fetching subcategories"+l,icon:"error",timer:3e3,showConfirmButton:!1})}},F=[{title:"Dashboard",href:route("dashboard")},{title:"Product",href:route("products.index")},{title:"Edit Product",href:route("products.edit",t.id)}],E=s=>{s.preventDefault(),C(route("products.update",t.id),{onSuccess:()=>{y.fire({title:"Success!",text:"SubCategory updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})};return e.jsxs(z,{title:"Edit Product",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Edit Product: ",t.name]}),e.jsx(p,{className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"})]}),e.jsx(D,{breadcrumbs:F})]}),e.jsx("div",{className:"bg-white rounded-md shadow-lg border border-gray-100 p-6",children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-md shadow-md border border-gray-200 p-6 mt-6",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["Edit Product: ",t.name]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",children:"Product Name"}),e.jsx(d,{id:"name",value:r.name,onChange:s=>i("name",s.target.value)}),a.name&&e.jsx("p",{className:"text-sm text-red-600",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"slug",children:"Slug"}),e.jsx(d,{id:"slug",value:r.slug,onChange:s=>i("slug",s.target.value)}),a.slug&&e.jsx("p",{className:"text-sm text-red-600",children:a.slug})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"category_id",children:"Category"}),e.jsxs(n,{value:String(r.category_id),onValueChange:s=>i("category_id",s),children:[e.jsx(m,{className:"bg-white border border-gray-300 rounded-md shadow-sm",children:e.jsx(h,{placeholder:"Select a category"})}),e.jsx(x,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:v.map(s=>e.jsx(u,{value:s.id.toString(),children:s.title},s.id))})]}),a.category_id&&e.jsx("p",{className:"text-sm text-red-600",children:a.category_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"subcategory_id",children:"Sub Category"}),e.jsxs(n,{value:String(r.subcategory_id),onValueChange:s=>i("subcategory_id",s),children:[e.jsx(m,{className:"bg-white border border-gray-300 rounded-md shadow-sm",children:e.jsx(h,{placeholder:r.category_id?g.length===0?"No subcategories available":"Select a subcategory":"Select a category first"})}),e.jsx(x,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:g.map(s=>e.jsx(u,{value:s.id.toString(),children:s.title},s.id))})]}),a.subcategory_id&&e.jsx("p",{className:"text-sm text-red-600",children:a.subcategory_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"brand_id",children:"Brand"}),e.jsxs(n,{value:String(r.brand_id),onValueChange:s=>i("brand_id",s),children:[e.jsx(m,{className:"bg-white border border-gray-300 rounded-md shadow-sm",children:e.jsx(h,{placeholder:"Select a brand"})}),e.jsx(x,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:N.map(s=>e.jsx(u,{value:s.id.toString(),children:s.name},s.id))})]}),a.brand_id&&e.jsx("p",{className:"text-sm text-red-600",children:a.brand_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsx(q,{id:"description",value:r.description,onChange:s=>i("description",s.target.value)}),a.description&&e.jsx("p",{className:"text-sm text-red-600",children:a.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"price",children:"Price"}),e.jsx(d,{id:"price",type:"number",value:r.price,onChange:s=>i("price",s.target.value)}),a.price&&e.jsx("p",{className:"text-sm text-red-600",children:a.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"discount",children:"Discount"}),e.jsx(d,{id:"discount",type:"number",value:r.discount,onChange:s=>i("discount",s.target.value)}),a.discount&&e.jsx("p",{className:"text-sm text-red-600",children:a.discount})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"stock_quantity",children:"Stock Quantity"}),e.jsx(d,{id:"stock_quantity",type:"number",value:r.stock_quantity,onChange:s=>i("stock_quantity",s.target.value)}),a.stock_quantity&&e.jsx("p",{className:"text-sm text-red-600",children:a.stock_quantity})]}),e.jsxs("div",{className:"bg-gray-50 rounded-md shadow-md border border-gray-200 p-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Product Attributes"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"fabric",children:"Fabric"}),e.jsx(d,{id:"fabric",value:r.fabric||"",onChange:s=>i("fabric",s.target.value),placeholder:"Cotton, Silk, etc."}),a.fabric&&e.jsx("p",{className:"text-sm text-red-600",children:a.fabric})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"color",children:"Color"}),e.jsx(d,{id:"color",value:r.color||"",onChange:s=>i("color",s.target.value),placeholder:"Red, Blue, etc."}),a.color&&e.jsx("p",{className:"text-sm text-red-600",children:a.color})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"size",children:"Size"}),e.jsx(d,{id:"size",value:r.size||"",onChange:s=>i("size",s.target.value),placeholder:"S, M, L, XL, etc."}),a.size&&e.jsx("p",{className:"text-sm text-red-600",children:a.size})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"weight",children:"Weight"}),e.jsx(d,{id:"weight",type:"number",value:r.weight||"",onChange:s=>i("weight",s.target.value),placeholder:"0.00",step:"0.01",min:"0"}),a.weight&&e.jsx("p",{className:"text-sm text-red-600",children:a.weight})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"work_type",children:"Work Type"}),e.jsx(d,{id:"work_type",value:r.work_type||"",onChange:s=>i("work_type",s.target.value),placeholder:"Embroidery, Print, etc."}),a.work_type&&e.jsx("p",{className:"text-sm text-red-600",children:a.work_type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"occasion",children:"Occasion"}),e.jsx(d,{id:"occasion",value:r.occasion||"",onChange:s=>i("occasion",s.target.value),placeholder:"Casual, Formal, Party, etc."}),a.occasion&&e.jsx("p",{className:"text-sm text-red-600",children:a.occasion})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-md shadow-md border border-gray-200 p-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Status & Bestseller"}),e.jsxs("div",{className:"flex items-center space-x-3 space-y-1 mb-2",children:[e.jsx(j,{id:"is_bestseller",checked:r.is_bestseller,onCheckedChange:s=>i("is_bestseller",s)}),e.jsx("label",{htmlFor:"is_bestseller",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 mr-30",children:"Is Bestseller"}),e.jsx(j,{id:"status",checked:r.status,onCheckedChange:s=>i("status",s)}),e.jsx("label",{htmlFor:"status",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Active"})]})]})]}),e.jsx(p,{variant:"outline",type:"submit",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",disabled:b,children:b?"Updating...":"Update Product"})]})})]})}export{K as default};
