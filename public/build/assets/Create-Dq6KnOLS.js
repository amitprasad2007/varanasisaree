import{j as e,$ as V,S as q}from"./app-B77EyRLU.js";import{u as w,F,a as t,b as n,c,d,f as l}from"./form-BdFZNVdQ.js";import{s as P}from"./zod-Cm4MlgDf.js";import{o as B,e as D,a as I,s as o}from"./index-B9ALDWfZ.js";import{D as T}from"./DashboardLayout-DXwuGYI1.js";import{B as z}from"./button-CcSmCx-v.js";import{I as m}from"./input-BDg7Quew.js";import{B as $}from"./breadcrumbs-D9BFxFXK.js";import{S as A}from"./sweetalert2.all-emfKIKJX.js";import{S as u,a as h,b as j,c as p,d as x}from"./select-C-yCto5A.js";import{A as K}from"./arrow-left-CGU_i-4d.js";import"./utils-prTox_1B.js";import"./label-CaeDPsV5.js";import"./index-UPBKUWPN.js";import"./index-gtqyzZtJ.js";import"./tooltip-DYEe4ExU.js";import"./index-CvBeBCep.js";import"./index-Pa6JlfVc.js";import"./Combination-BgERcT7B.js";import"./check-kOEvxurx.js";const L=B({product_id:o(),color_id:o().min(1,"Color is required"),size_id:o().min(1,"Size is required"),sku:o().min(1,"SKU is required"),price:o().min(1,"Price is required"),discount:o(),stock_quantity:o().min(1,"Stock quantity is required"),image:I().optional(),status:D(["active","inactive"])});function de({product:i,colors:S,sizes:b}){const g=w({resolver:P(L),defaultValues:{product_id:i.id.toString(),color_id:"",size_id:"",sku:"",price:"",discount:"0",stock_quantity:"0",image:null,status:"active"}}),{control:a,handleSubmit:y,formState:{errors:U,isSubmitting:f}}=g,_=s=>{const r=new FormData;r.append("product_id",s.product_id),r.append("color_id",s.color_id),r.append("size_id",s.size_id),r.append("sku",s.sku),r.append("price",s.price),r.append("discount",s.discount),r.append("stock_quantity",s.stock_quantity),r.append("status",s.status),s.image&&r.append("image",s.image),q.post(route("product-variants.store",i.id),r,{onSuccess:()=>{A.fire({title:"Success!",text:"Variant created successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})},C=[{title:"Dashboard",href:route("dashboard")},{title:"Product Variants",href:route("product-variants.index",i.id)},{title:"Create Product Variant",href:route("product-variants.create",i.id)}];return e.jsxs(T,{title:`Create Product Variant - ${i.name}`,children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h1",{className:"text-2xl font-bold",children:["Create Product Variant - ",i.name]})}),e.jsx($,{breadcrumbs:C})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(V,{href:route("product-variants.index",i.id),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[e.jsx(K,{className:"w-4 h-4 mr-1"}),"Back to Variants"]}),e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Create Product Variant - ",i.name]}),e.jsx("div",{className:"bg-white rounded-md shadow p-6",children:e.jsx(F,{...g,children:e.jsxs("form",{onSubmit:y(_),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(t,{control:a,name:"color_id",render:({field:s})=>e.jsxs(n,{children:[e.jsx(c,{children:"Color"}),e.jsx(d,{children:e.jsxs(u,{value:s.value,onValueChange:s.onChange,children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select a color"})}),e.jsx(p,{children:S.map(r=>e.jsx(x,{value:r.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2 bg-white p-1 rounded",children:[r.hex_code&&e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:r.hex_code}}),r.name]})},r.id))})]})}),e.jsx(l,{})]})}),e.jsx(t,{control:a,name:"size_id",render:({field:s})=>e.jsxs(n,{children:[e.jsx(c,{children:"Size"}),e.jsx(d,{children:e.jsxs(u,{value:s.value,onValueChange:s.onChange,children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select a size"})}),e.jsx(p,{children:b.map(r=>e.jsxs(x,{value:r.id.toString(),children:[r.name," ",r.code&&`(${r.code})`]},r.id))})]})}),e.jsx(l,{})]})})]}),e.jsx(t,{control:a,name:"sku",render:({field:s})=>e.jsxs(n,{children:[e.jsxs(c,{children:["SKU ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{children:e.jsx(m,{placeholder:"Product variant SKU",...s})}),e.jsx(l,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(t,{control:a,name:"price",render:({field:s})=>e.jsxs(n,{children:[e.jsxs(c,{children:["Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{children:e.jsx(m,{type:"number",placeholder:"0.00",step:"0.01",min:"0",...s})}),e.jsx(l,{})]})}),e.jsx(t,{control:a,name:"discount",render:({field:s})=>e.jsxs(n,{children:[e.jsx(c,{children:"Discount (%)"}),e.jsx(d,{children:e.jsx(m,{type:"number",placeholder:"0",min:"0",max:"100",...s})}),e.jsx(l,{})]})}),e.jsx(t,{control:a,name:"stock_quantity",render:({field:s})=>e.jsxs(n,{children:[e.jsxs(c,{children:["Stock Quantity ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{children:e.jsx(m,{type:"number",placeholder:"0",min:"0",...s})}),e.jsx(l,{})]})})]}),e.jsx(t,{control:a,name:"image",render:({field:{onChange:s,value:r,...N}})=>e.jsxs(n,{children:[e.jsx(c,{children:"Variant Image"}),e.jsx(d,{children:e.jsx(m,{type:"file",accept:"image/*",onChange:k=>{var v;return s(((v=k.target.files)==null?void 0:v[0])||null)},...N})}),e.jsx(l,{})]})}),e.jsx(t,{control:a,name:"status",render:({field:s})=>e.jsxs(n,{children:[e.jsxs(c,{children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{children:e.jsxs(u,{value:s.value,onValueChange:s.onChange,children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select status"})}),e.jsxs(p,{children:[e.jsx(x,{value:"active",children:"Active"}),e.jsx(x,{value:"inactive",children:"Inactive"})]})]})}),e.jsx(l,{})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(z,{type:"submit",disabled:f,children:f?"Creating...":"Create Variant"})})]})})})]})]})}export{de as default};
