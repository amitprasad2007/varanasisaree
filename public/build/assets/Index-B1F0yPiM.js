import{r as v,j as e,L as N,$ as S,S as m}from"./app-t00vz8yk.js";import{D as y}from"./DashboardLayout-1MrkR7-7.js";import{B as x}from"./button-DOrDzDwb.js";import{I as c}from"./input-CtOztckE.js";import{S as w,a as C,b as k,c as T,d as h}from"./select-Brvg9uuv.js";import{B as _}from"./badge-skWHhfzJ.js";import{T as B,a as F,b as n,c as a,d as D,e as t}from"./table-C5xvP0Q_.js";import{B as I}from"./breadcrumbs-CpbsUajA.js";import"./sweetalert2.esm.all-DGhwgajj.js";import{S as L}from"./search-CfgfhKFc.js";import{F as u}from"./user-BQgx5HQE.js";import{E as M}from"./eye-CKV992HX.js";import{f as A}from"./format-CBpsKyOP.js";import"./index-6Ovb7Dg4.js";import"./utils-BVps5BK6.js";import"./index-BWhO1Zcs.js";import"./card-DxILUFZ5.js";import"./shopping-cart-CpEA-Iqs.js";import"./log-out-Bh5ug1nn.js";import"./index-B9bkS0MZ.js";import"./index-BOxGpJ-a.js";import"./Combination-Iccp121O.js";import"./check-BfeD7bNG.js";const E=l=>{switch(l){case"draft":return"secondary";case"completed":return"default";case"returned":return"destructive";default:return"secondary"}};function ce({sales:l,filters:j,statusOptions:p,customers:V}){const[r,g]=v.useState(j),i=(s,o)=>{const b=o==="all"?"":o,d={...r,[s]:b};g(d),m.get(route("sales.index"),d,{preserveState:!0})},f=[{title:"Dashboard",href:route("dashboard")},{title:"Sales",href:route("sales.index")}];return e.jsxs(y,{title:"Sales Management",children:[e.jsx(N,{title:"Sales Management"}),e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Sales Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and track POS sales"})]})}),e.jsx(I,{breadcrumbs:f})]}),e.jsxs("div",{className:"bg-white rounded-md border mb-6 p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(c,{placeholder:"Invoice, Customer...",value:r.customer_search||"",onChange:s=>i("customer_search",s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),e.jsxs(w,{value:r.status||"all",onValueChange:s=>i("status",s),children:[e.jsx(C,{children:e.jsx(k,{placeholder:"All Statuses"})}),e.jsxs(T,{className:"bg-white",children:[e.jsx(h,{value:"all",children:"All Statuses"}),p.map(s=>e.jsx(h,{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Date From"}),e.jsx(c,{type:"date",value:r.date_from||"",onChange:s=>i("date_from",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Date To"}),e.jsx(c,{type:"date",value:r.date_to||"",onChange:s=>i("date_to",s.target.value)})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(B,{children:[e.jsx(F,{children:e.jsxs(n,{children:[e.jsx(a,{children:"Invoice #"}),e.jsx(a,{children:"Customer"}),e.jsx(a,{children:"Items"}),e.jsx(a,{children:"Subtotal"}),e.jsx(a,{children:"Total"}),e.jsx(a,{children:"Paid"}),e.jsx(a,{children:"Status"}),e.jsx(a,{children:"Date"}),e.jsx(a,{className:"text-right",children:"Actions"})]})}),e.jsx(D,{children:l.data.length===0?e.jsx(n,{children:e.jsx(t,{colSpan:9,className:"text-center py-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx(u,{className:"h-12 w-12 text-muted-foreground mb-2"}),e.jsx("h3",{className:"text-lg font-medium",children:"No sales found"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"No sales match your current filters."})]})})}):l.data.map(s=>e.jsxs(n,{children:[e.jsx(t,{className:"font-medium",children:e.jsx(S,{href:route("sales.show",s.id),className:"text-blue-600 hover:underline",children:s.invoice_number})}),e.jsx(t,{children:s.customer?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.customer.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.customer.email})]}):e.jsx("span",{className:"text-gray-400",children:"Walk-in Customer"})}),e.jsx(t,{children:s.items_count}),e.jsxs(t,{children:["₹",s.subtotal.toLocaleString()]}),e.jsxs(t,{children:["₹",s.total.toLocaleString()]}),e.jsxs(t,{children:["₹",s.paid_total.toLocaleString()]}),e.jsx(t,{children:e.jsx(_,{variant:E(s.status),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})}),e.jsx(t,{children:A(new Date(s.created_at),"MMM dd, yyyy")}),e.jsx(t,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>m.visit(route("sales.show",s.id)),children:e.jsx(M,{className:"h-4 w-4"})}),e.jsx(x,{variant:"outline",size:"sm",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>window.open(`/pos/sales/${s.id}/invoice`,"_blank"),children:e.jsx(u,{className:"h-4 w-4"})})]})})]},s.id))})]})})]})}export{ce as default};
