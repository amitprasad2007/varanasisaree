import{j as e,$ as y,S as C}from"./app-DfN1q9g5.js";import{D as V}from"./DashboardLayout-BjjJLokQ.js";import{B as f}from"./button-797cin1z.js";import{C as N,a as D,b as F,d as T,c as P,e as U}from"./card-Ch0V37sH.js";import{u as k,F as A,a as o,b as a,c as n,d as l,e as c,f as m,o as B,i as E,g as I,m as q,s as h}from"./index-B3pz6q4o.js";import{I as x}from"./input-CNOd0Qzo.js";import{T as L}from"./textarea-CVu0WCzx.js";import{S as b}from"./switch-CCgyp0wz.js";import{S as R,a as $,b as Q,c as z,d as H}from"./select-D2BcCiWu.js";import{B as M}from"./breadcrumbs-B0z_mlxU.js";import{S as W}from"./sweetalert2.esm.all-1yHLk2J-.js";import{A as X}from"./arrow-left-7tLpWuC4.js";import"./tooltip-CS8iEUbb.js";import"./utils-SUP4tnaS.js";import"./index-Bhqmt9n5.js";import"./index-B-RVbn78.js";import"./index-DwN4oAW_.js";import"./index-DAKmUasb.js";import"./shopping-cart-spSLeQu0.js";import"./star-DzbdgbRd.js";import"./label-DM07JXTD.js";import"./index-lIcSEBLL.js";import"./index-CrsYxolJ.js";import"./Combination-D3l462l3.js";import"./check-Bp0KSp3H.js";B({video_provider_id:h().min(1,"Video provider is required"),title:h().min(1,"Title is required"),video_id:h().min(1,"Video ID is required"),description:h().optional(),thumbnail:q().optional(),is_featured:I().default(!1),status:E(["active","inactive"])});function ge({product:t,video:r,providers:v}){const p=k({defaultValues:{video_provider_id:r.video_provider_id.toString(),title:r.title,video_id:r.video_id,description:r.description||"",thumbnail:null,is_featured:r.is_featured??!1,status:r.status}}),{control:d,handleSubmit:g,formState:u}=p,{errors:G}=u,S=i=>{const s=new FormData;s.append("video_provider_id",i.video_provider_id),s.append("title",i.title),s.append("video_id",i.video_id),i.description&&s.append("description",i.description),s.append("is_featured",i.is_featured?"1":"0"),s.append("status",i.status),s.append("_method","PUT"),i.thumbnail&&s.append("thumbnail",i.thumbnail),C.post(route("product-videos.update",[t.id,r.id]),s,{forceFormData:!0,onSuccess:()=>{W.fire({title:"Success!",text:"Video  Updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})},_=i=>{if(i.target.files&&i.target.files.length>0){const s=i.target.files[0];p.setValue("thumbnail",s);const j=new FileReader;j.onload=()=>{},j.readAsDataURL(s)}},w=[{title:"Dashboard",href:route("dashboard")},{title:"Product",href:route("products.index")},{title:"Show Product",href:route("products.show",t.id)},{title:"Product Video",href:route("product-videos.index",t.id)},{title:"Edit Product Video",href:route("product-videos.edit",[t.id,r.id])}];return e.jsx(V,{title:`Edit Video for ${t.name}`,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Video"}),e.jsxs("p",{className:"text-muted-foreground",children:["Update video details for ",t.name]})]}),e.jsx(f,{variant:"outline",asChild:!0,children:e.jsxs(y,{href:route("product-videos.index",t.id),children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Back to Videos"]})})]}),e.jsx(M,{breadcrumbs:w})]}),e.jsxs(N,{children:[e.jsxs(D,{children:[e.jsx(F,{children:"Video Details"}),e.jsx(T,{children:"Edit the details for this product video"})]}),e.jsx(P,{children:e.jsx(A,{...p,children:e.jsxs("form",{onSubmit:g(S),className:"space-y-6",children:[e.jsx(o,{control:d,name:"video_provider_id",render:({field:i})=>e.jsxs(a,{children:[e.jsx(n,{children:"Video Provider"}),e.jsxs(R,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(l,{children:e.jsx($,{className:"bg-white border border-gray-300 rounded-md shadow-sm",children:e.jsx(Q,{placeholder:"Select a provider"})})}),e.jsx(z,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:v.map(s=>e.jsx(H,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx(c,{children:"Choose the platform where the video is hosted"}),e.jsx(m,{})]})}),e.jsx(o,{control:d,name:"title",render:({field:i})=>e.jsxs(a,{children:[e.jsx(n,{children:"Video Title"}),e.jsx(l,{children:e.jsx(x,{placeholder:"Product Demo Video",...i})}),e.jsx(c,{children:"A descriptive title for the video"}),e.jsx(m,{})]})}),e.jsx(o,{control:d,name:"video_id",render:({field:i})=>e.jsxs(a,{children:[e.jsx(n,{children:"Video ID"}),e.jsx(l,{children:e.jsx(x,{placeholder:"dQw4w9WgXcQ",...i})}),e.jsx(c,{children:"The unique identifier for the video on the provider's platform"}),e.jsx(m,{})]})}),e.jsx(o,{control:d,name:"description",render:({field:i})=>e.jsxs(a,{children:[e.jsx(n,{children:"Description"}),e.jsx(l,{children:e.jsx(L,{placeholder:"Describe what this video shows...",className:"resize-none",...i})}),e.jsx(c,{children:"A brief description of the video content (optional)"}),e.jsx(m,{})]})}),e.jsx(o,{control:d,name:"thumbnail",render:()=>e.jsxs(a,{children:[e.jsx(n,{children:"Video Thumbnail"}),e.jsx(l,{children:e.jsx(x,{type:"file",accept:"image/*",onChange:_})}),e.jsx(c,{children:"Upload a custom thumbnail image (optional)"}),e.jsx(m,{})]})}),e.jsx(o,{control:d,name:"is_featured",render:({field:i})=>e.jsxs(a,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Featured Video"}),e.jsx(c,{children:"Set as the primary video for this product"})]}),e.jsx(l,{children:e.jsx(b,{checked:i.value,onCheckedChange:i.onChange})})]})}),e.jsx(o,{control:d,name:"status",render:({field:i})=>e.jsxs(a,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Active Status"}),e.jsx(c,{children:"Set if this video is currently active"})]}),e.jsx(l,{children:e.jsx(b,{checked:i.value==="active",onCheckedChange:s=>i.onChange(s?"active":"inactive")})})]})}),e.jsx(U,{className:"flex justify-end px-0 pb-0",children:e.jsx(f,{type:"submit",disabled:u.isSubmitting,children:u.isSubmitting?"Updating...":"Update Video"})})]})})})]})]})})}export{ge as default};
