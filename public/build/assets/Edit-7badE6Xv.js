import{m as y,U as S,j as e}from"./app-CIhFobhL.js";import{D as N}from"./DashboardLayout-BRTFsDbd.js";import{B as p}from"./button-DzkUq3Lw.js";import{I as u}from"./input-CxgECS2K.js";import{L as o}from"./label-B-bzBIpf.js";import{T as w}from"./textarea-B3JyqpJ3.js";import{C}from"./checkbox-FRg5wQaj.js";import{B as _}from"./breadcrumbs-Ch0HZFsI.js";import{S as k}from"./sweetalert2.esm.all-1yHLk2J-.js";import{S as D,a as F,b as B,c as E,d as L}from"./select-DgwsXylN.js";import"./tooltip-CyAk2kzz.js";import"./utils-BqJV7cK7.js";import"./index-Chdu0Ess.js";import"./index-DaPY9Q7-.js";import"./index-D00STa22.js";import"./index-U3iOLidj.js";import"./card-D1NucbTc.js";import"./shopping-cart-D86C_673.js";import"./star-VEZdHhqn.js";import"./index-hdkFur2X.js";import"./check-DkOKG1UJ.js";import"./index-jBnsv0yG.js";import"./Combination-3hGu3fAm.js";const se=({subcategory:s,categories:x})=>{var n;const{data:i,setData:a,post:g,processing:j,errors:r}=y({category_id:s.category_id||"",title:s.title||"",slug:s.slug||"",summary:s.summary||"",status:s.status==="active"||!1,photo:null,parent_id:((n=s.parent)==null?void 0:n.id.toString())||""}),v=[{title:"Dashboard",href:route("dashboard")},{title:"Categories",href:route("categories.index")},{title:"SubCategories",href:route("subcatindex")},{title:"Edit Subcategory",href:route("subcategories.edit",s.id)}],b=t=>{t.preventDefault(),g(route("subcategories.update",s.id),{onSuccess:()=>{k.fire({title:"Success!",text:"SubCategory updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})},[c,m]=S.useState(s.photo?`/storage/${s.photo}`:null),f=t=>{var h;const l=((h=t.target.files)==null?void 0:h[0])||null;if(a("photo",l),l){const d=new FileReader;d.onloadend=()=>{m(d.result)},d.readAsDataURL(l)}else m(null)};return e.jsxs(N,{title:"Edit Subcategory",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Subcategory"}),e.jsx(p,{className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"})]}),e.jsx(_,{breadcrumbs:v})]}),e.jsx("div",{className:"bg-white rounded-md shadow p-6",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"parent_id",children:"Category"}),e.jsxs(D,{value:i.parent_id,onValueChange:t=>a("parent_id",t),children:[e.jsx(F,{className:"bg-white border border-gray-300 rounded-md shadow-sm",children:e.jsx(B,{placeholder:"Select a category"})}),e.jsx(E,{className:"bg-white border border-gray-300 rounded-md shadow-lg",children:x.map(t=>e.jsx(L,{value:t.id.toString(),children:t.title},t.id))})]}),r.category_id&&e.jsx("p",{className:"text-sm text-red-600",children:r.category_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"title",children:"Title"}),e.jsx(u,{id:"title",value:i.title,onChange:t=>a("title",t.target.value)}),r.title&&e.jsx("p",{className:"text-sm text-red-600",children:r.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"summary",children:"Description"}),e.jsx(w,{id:"summary",value:i.summary,onChange:t=>a("summary",t.target.value)}),r.summary&&e.jsx("p",{className:"text-sm text-red-600",children:r.summary})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"photo",children:"Photo"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(u,{id:"photo",type:"file",accept:"image/*",onChange:f}),c&&e.jsx("div",{className:"relative group",children:e.jsx("img",{src:c,alt:"Preview",className:"w-32 h-32 object-cover rounded-md transition-all duration-300 group-hover:w-40 group-hover:h-40 group-hover:shadow-lg group-hover:z-20 group-hover:relative"})})]}),r.photo&&e.jsx("p",{className:"text-sm text-red-600",children:r.photo})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{id:"status",checked:i.status,onCheckedChange:t=>a("status",t)}),e.jsx("label",{htmlFor:"status",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Active"})]}),e.jsx(p,{variant:"outline",type:"submit",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",disabled:j,children:"Update Subcategory"})]})})]})};export{se as default};
