import{m as D,U as j,j as e}from"./app-DfN1q9g5.js";import{D as E}from"./DashboardLayout-BjjJLokQ.js";import{L as l}from"./label-DM07JXTD.js";import{B as f}from"./button-797cin1z.js";import{I as n}from"./input-CNOd0Qzo.js";import{T as v}from"./textarea-CVu0WCzx.js";import{C as I}from"./checkbox-Df3tIBtX.js";import{S as b,a as _,b as N,c as y,d as m}from"./select-D2BcCiWu.js";import{B as L}from"./breadcrumbs-B0z_mlxU.js";import{S as R}from"./sweetalert2.esm.all-1yHLk2J-.js";import"./tooltip-CS8iEUbb.js";import"./utils-SUP4tnaS.js";import"./index-Bhqmt9n5.js";import"./index-B-RVbn78.js";import"./index-DwN4oAW_.js";import"./index-DAKmUasb.js";import"./card-Ch0V37sH.js";import"./shopping-cart-spSLeQu0.js";import"./star-DzbdgbRd.js";import"./index-lIcSEBLL.js";import"./check-Bp0KSp3H.js";import"./index-CrsYxolJ.js";import"./Combination-D3l462l3.js";function le({post:t,categories:w}){var p;const{data:i,setData:r,post:k,processing:C,errors:s}=D({title:t.title||"",slug:t.slug||"",content:t.content||"",excerpt:t.excerpt||"",author_name:t.author_name||"",category_id:((p=t.category_id)==null?void 0:p.toString())||"",status:t.status||"draft",featured_image:null,fallback_image:null,is_featured:t.is_featured||!1}),F=[{title:"Dashboard",href:route("dashboard")},{title:"Blog Posts",href:route("blogposts.index")},{title:"Edit Post",href:route("blogposts.edit",t.id)}],[u,h]=j.useState(t.featured_image?`/storage/${t.featured_image}`:null),[g,x]=j.useState(t.fallback_image?`/storage/${t.fallback_image}`:null),S=a=>{var o;const d=((o=a.target.files)==null?void 0:o[0])||null;if(r("featured_image",d),d){const c=new FileReader;c.onloadend=()=>{h(c.result)},c.readAsDataURL(d)}else h(t.featured_image?`/storage/${t.featured_image}`:null)},P=a=>{var o;const d=((o=a.target.files)==null?void 0:o[0])||null;if(r("fallback_image",d),d){const c=new FileReader;c.onloadend=()=>{x(c.result)},c.readAsDataURL(d)}else x(t.fallback_image?`/storage/${t.fallback_image}`:null)},B=a=>{a.preventDefault(),k(route("posts.update",t.id),{onSuccess:()=>{R.fire({title:"Success!",text:"Blog post updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}})};return e.jsxs(E,{title:"Edit Blog Post",children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Blog Post"}),e.jsx(f,{className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"})]}),e.jsx(L,{breadcrumbs:F})]}),e.jsx("div",{className:"bg-white rounded-md shadow-lg border border-gray-100 p-6",children:e.jsxs("form",{onSubmit:B,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"title",children:"Title *"}),e.jsx(n,{id:"title",value:i.title,onChange:a=>r("title",a.target.value),placeholder:"Enter post title"}),s.title&&e.jsx("p",{className:"text-sm text-red-600",children:s.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"slug",children:"Slug"}),e.jsx(n,{id:"slug",value:i.slug,onChange:a=>r("slug",a.target.value),placeholder:"Auto-generated from title"}),s.slug&&e.jsx("p",{className:"text-sm text-red-600",children:s.slug})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"excerpt",children:"Excerpt"}),e.jsx(v,{id:"excerpt",value:i.excerpt,onChange:a=>r("excerpt",a.target.value),placeholder:"Brief description of the post",rows:3}),s.excerpt&&e.jsx("p",{className:"text-sm text-red-600",children:s.excerpt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"content",children:"Content *"}),e.jsx(v,{id:"content",value:i.content,onChange:a=>r("content",a.target.value),placeholder:"Write your blog post content here...",rows:10}),s.content&&e.jsx("p",{className:"text-sm text-red-600",children:s.content})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"author_name",children:"Author Name"}),e.jsx(n,{id:"author_name",value:i.author_name,onChange:a=>r("author_name",a.target.value),placeholder:"Enter author name"}),s.author_name&&e.jsx("p",{className:"text-sm text-red-600",children:s.author_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"category_id",children:"Category"}),e.jsxs(b,{value:i.category_id,onValueChange:a=>r("category_id",a),children:[e.jsx(_,{children:e.jsx(N,{placeholder:"Select a category"})}),e.jsx(y,{children:w.map(a=>e.jsx(m,{value:a.id.toString(),children:a.name},a.id))})]}),s.category_id&&e.jsx("p",{className:"text-sm text-red-600",children:s.category_id})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"status",children:"Status"}),e.jsxs(b,{value:i.status,onValueChange:a=>r("status",a),children:[e.jsx(_,{children:e.jsx(N,{})}),e.jsxs(y,{children:[e.jsx(m,{value:"draft",children:"Draft"}),e.jsx(m,{value:"published",children:"Published"}),e.jsx(m,{value:"pending",children:"Pending"})]})]}),s.status&&e.jsx("p",{className:"text-sm text-red-600",children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"featured_image",children:"Featured Image"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{id:"featured_image",type:"file",accept:"image/*",onChange:S}),u&&e.jsx("div",{className:"relative group",children:e.jsx("img",{src:u,alt:"Featured Preview",className:"w-32 h-32 object-cover rounded-md transition-all duration-300 group-hover:w-40 group-hover:h-40 group-hover:shadow-lg group-hover:z-20 group-hover:relative"})})]}),s.featured_image&&e.jsx("p",{className:"text-sm text-red-600",children:s.featured_image})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"fallback_image",children:"Fallback Image"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{id:"fallback_image",type:"file",accept:"image/*",onChange:P}),g&&e.jsx("div",{className:"relative group",children:e.jsx("img",{src:g,alt:"Fallback Preview",className:"w-32 h-32 object-cover rounded-md transition-all duration-300 group-hover:w-40 group-hover:h-40 group-hover:shadow-lg group-hover:z-20 group-hover:relative"})})]}),s.fallback_image&&e.jsx("p",{className:"text-sm text-red-600",children:s.fallback_image})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"is_featured",checked:i.is_featured,onCheckedChange:a=>r("is_featured",a)}),e.jsx("label",{htmlFor:"is_featured",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Featured Post"})]}),e.jsx(f,{variant:"outline",type:"submit",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",disabled:C,children:"Update Blog Post"})]})})]})}export{le as default};
