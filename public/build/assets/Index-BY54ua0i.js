import{r as B,m as v,j as e,L as k,$ as m,a as x}from"./index.esm-Bc_4NMHb.js";import{D as C,I as D}from"./DashboardLayout-BDCGVe1w.js";import{B as l}from"./button-BGQ3eGlv.js";import{T as S,a as T,b as u,c as n,d as E,e as o}from"./table-OCULlmjH.js";import{D as I,C as P,P as A}from"./dnd.esm-Cz-XgOiS.js";import{B as L}from"./breadcrumbs-fQMyfklW.js";import{S as i}from"./sweetalert2.esm.all-DGhwgajj.js";import{P as p}from"./plus-Bzvahth9.js";import{G as F}from"./grip-vertical-DRUZfZfg.js";import{E as R}from"./eye-kHt3Y4q1.js";import{c as z}from"./createLucideIcon-C4cwkqtv.js";import{S as G}from"./square-pen-D7ZHqxHC.js";import{T as H}from"./trash-2-PUX_MnWe.js";import"./dashboard-DiRicu7v.js";import"./utils-D0xr-SEQ.js";import"./index-wy8baEd3.js";import"./index-BWaccMhK.js";import"./index-BW5lKf9d.js";import"./tiny-invariant-BaFNuDhB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_=z("EyeOff",M),ie=({banners:f})=>{const[c,h]=B.useState(f),{delete:j}=v(),g=s=>{i.fire({title:"Are you sure?",text:"Are you sure you want to delete this banner?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&j(route("banners.destroy",s),{onSuccess:()=>{i.fire({title:"Deleted!",text:"Your Banner has been deleted.",icon:"success",timer:3e3,showConfirmButton:!1})}})})},b=s=>{x.post(route("banners.update-status",s)).then(()=>{h(c.map(r=>r.id===s?{...r,status:r.status==="active"?"inactive":"active"}:r)),i.fire({title:"Success!",text:"Banner status updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}).catch(r=>{i.fire({title:"Error!",text:"Failed to update banner status",icon:"error",timer:4e3,showConfirmButton:!1})})},y=s=>{if(!s.destination)return;const r=Array.from(c),[d]=r.splice(s.source.index,1);r.splice(s.destination.index,0,d);const t=r.map((a,N)=>({...a,order:N+1}));h(t),x.post(route("banners.update-order"),{banners:t.map(a=>({id:a.id,order:a.order}))}).then(()=>{i.fire({title:"Success!",text:"Banner order updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})}).catch(a=>{console.error("Error updating order:",a),i.fire({title:"Error!",text:"Failed to update banner order",icon:"error",timer:4e3,showConfirmButton:!1})})},w=[{title:"Dashboard",href:route("dashboard")},{title:"Banner",href:route("banners.index")}];return e.jsxs(C,{title:"Banners",children:[e.jsx(k,{title:"Banners"}),e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Banners"}),e.jsx(m,{href:route("banners.create"),children:e.jsxs(l,{className:"flex items-center gap-2 bg-primary cursor-pointer hover:bg-gray-100 text-black shadow-sm",variant:"outline",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Add New Banner"]})})]}),e.jsx(L,{breadcrumbs:w})]}),c.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 text-center border border-gray-100",children:[e.jsx(D,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No banners found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating a new banner."}),e.jsx(m,{href:route("banners.create"),children:e.jsxs(l,{variant:"outline",className:"items-center gap-2 bg-primary cursor-pointer hover:bg-gray-100 text-black shadow-sm",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Add New Banner"]})})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsx(I,{onDragEnd:y,children:e.jsxs(S,{children:[e.jsx(T,{children:e.jsxs(u,{children:[e.jsx(n,{style:{width:"50px"}}),e.jsx(n,{children:"Image"}),e.jsx(n,{children:"Title"}),e.jsx(n,{children:"Link"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Actions"})]})}),e.jsx(P,{droppableId:"banners",children:s=>e.jsxs(E,{...s.droppableProps,ref:s.innerRef,children:[c.map((r,d)=>e.jsx(A,{draggableId:r.id.toString(),index:d,children:t=>e.jsxs(u,{ref:t.innerRef,...t.draggableProps,children:[e.jsx(o,{children:e.jsx("div",{...t.dragHandleProps,className:"cursor-move flex justify-center",children:e.jsx(F,{className:"h-5 w-5 text-gray-400"})})}),e.jsx(o,{children:e.jsx("img",{src:`/storage/${r.image}`,alt:r.title||"Banner",className:"h-12 w-20 object-cover rounded-md"})}),e.jsx(o,{children:r.title||"Untitled"}),e.jsx(o,{children:r.link?e.jsx("a",{href:void 0+r.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate block max-w-xs",children:r.link}):e.jsx("span",{className:"text-gray-400 italic",children:"No link"})}),e.jsx(o,{children:e.jsx(l,{variant:r.status==="active"?"default":"outline",size:"sm",onClick:()=>b(r.id),children:r.status==="active"?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4 mr-1 cursor-pointer"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-4 w-4 mr-1 cursor-pointer"}),"Inactive"]})})}),e.jsx(o,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(m,{href:route("banners.edit",r.id),children:e.jsxs(l,{variant:"outline",className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",size:"sm",children:[e.jsx(G,{className:"h-4 w-4 cursor-pointer"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>g(r.id),className:"text-red-600 hover:bg-red-50",children:[e.jsx(H,{className:"h-4 w-4 cursor-pointer"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]})},r.id)),s.placeholder]})})]})})})]})};export{ie as default};
