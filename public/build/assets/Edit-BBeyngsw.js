import{m as E,j as e,$ as P}from"./app-D7-1ebmt.js";import{D as B}from"./DashboardLayout-fOS_2bg6.js";import{B as q}from"./button-DWVGmOTx.js";import{I as x}from"./input-BtS1u5IQ.js";import{B as D}from"./breadcrumbs-NQydwA2d.js";import{S as _}from"./sweetalert2.all-BtRqQ04W.js";import{b as a,c as d,d as l,f as c}from"./form-3kBJRc9J.js";import{S as h,a as u,b as j,c as p,d as m}from"./select-BRg6RUNw.js";import{A as I}from"./arrow-left-DlNLEku8.js";import"./index-CKAdTIHf.js";import"./utils-B4oaFPBB.js";import"./index-BUhvCdw_.js";import"./tooltip-Cm9TE5Xq.js";import"./label-CoDA9lWC.js";import"./index-493IWVPe.js";import"./index-CD7Mla1U.js";import"./Combination-DMdNX4qb.js";import"./check-DeEZbx2Z.js";function Z({product:n,variant:i,colors:N,sizes:k}){var f,v,b,S;const{data:o,setData:r,post:C,processing:g,errors:t}=E({color_id:((v=(f=i.color)==null?void 0:f.id)==null?void 0:v.toString())||"",size_id:((S=(b=i.size)==null?void 0:b.id)==null?void 0:S.toString())||"",sku:i.sku,price:i.price.toString(),discount:i.discount.toString(),stock_quantity:i.stock_quantity.toString(),image:null,status:i.status,_method:"PUT"}),V=[{title:"Dashboard",href:route("dashboard")},{title:"Product Variants",href:route("product-variants.index",n.id)},{title:"Edit Product Variant",href:route("product-variants.edit",[n.id,i.id])}],w=s=>{s.preventDefault(),C(route("product-variants.update",[n.id,i.id]),{onSuccess:()=>{_.fire({title:"Success!",text:"Variant updated successfully",icon:"success",timer:4e3,showConfirmButton:!1})},onError:()=>{_.fire({title:"Error!",text:"Failed to update variant",icon:"error",timer:4e3,showConfirmButton:!1})}})};return e.jsxs(B,{title:`Edit Product Variant - ${n.name}`,children:[e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h1",{className:"text-2xl font-bold",children:["Edit Product Variant - ",n.name]})}),e.jsx(D,{breadcrumbs:V})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(P,{href:route("product-variants.index",n.id),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[e.jsx(I,{className:"w-4 h-4 mr-1"}),"Back to Variants"]}),e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Edit Product Variant - ",n.name]}),e.jsx("div",{className:"bg-white rounded-md shadow p-6",children:e.jsx("form",{onSubmit:w,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsx(d,{children:"Color"}),e.jsx(l,{children:e.jsxs(h,{value:o.color_id,onValueChange:s=>r("color_id",s),children:[e.jsx(u,{children:e.jsx(j,{placeholder:"Select a color"})}),e.jsx(p,{children:N.map(s=>e.jsx(m,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.hex_code&&e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:s.hex_code}}),s.name]})},s.id))})]})}),t.color_id&&e.jsx(c,{children:t.color_id})]}),e.jsxs(a,{children:[e.jsx(d,{children:"Size"}),e.jsx(l,{children:e.jsxs(h,{value:o.size_id,onValueChange:s=>r("size_id",s),children:[e.jsx(u,{children:e.jsx(j,{placeholder:"Select a size"})}),e.jsx(p,{children:k.map(s=>e.jsxs(m,{value:s.id.toString(),children:[s.name," ",s.code&&`(${s.code})`]},s.id))})]})}),t.size_id&&e.jsx(c,{children:t.size_id})]})]}),e.jsxs(a,{children:[e.jsxs(d,{children:["SKU ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(l,{children:e.jsx(x,{value:o.sku,onChange:s=>r("sku",s.target.value),placeholder:"Product variant SKU"})}),t.sku&&e.jsx(c,{children:t.sku})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(a,{children:[e.jsxs(d,{children:["Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(l,{children:e.jsx(x,{type:"number",value:o.price,onChange:s=>r("price",s.target.value),placeholder:"0.00",step:"0.01",min:"0"})}),t.price&&e.jsx(c,{children:t.price})]}),e.jsxs(a,{children:[e.jsx(d,{children:"Discount (%)"}),e.jsx(l,{children:e.jsx(x,{type:"number",value:o.discount,onChange:s=>r("discount",s.target.value),placeholder:"0",min:"0",max:"100"})}),t.discount&&e.jsx(c,{children:t.discount})]}),e.jsxs(a,{children:[e.jsxs(d,{children:["Stock Quantity ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(l,{children:e.jsx(x,{type:"number",value:o.stock_quantity,onChange:s=>r("stock_quantity",s.target.value),placeholder:"0",min:"0"})}),t.stock_quantity&&e.jsx(c,{children:t.stock_quantity})]})]}),e.jsxs(a,{children:[e.jsx(d,{children:"Variant Image"}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-2",children:[i.image_path&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Current image: ",i.image_path]}),e.jsx(x,{type:"file",accept:"image/*",onChange:s=>{var y;return r("image",((y=s.target.files)==null?void 0:y[0])||null)}})]})}),t.image&&e.jsx(c,{children:t.image})]}),e.jsxs(a,{children:[e.jsxs(d,{children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(l,{children:e.jsxs(h,{value:o.status,onValueChange:s=>r("status",s),children:[e.jsx(u,{children:e.jsx(j,{placeholder:"Select status"})}),e.jsxs(p,{children:[e.jsx(m,{value:"active",children:"Active"}),e.jsx(m,{value:"inactive",children:"Inactive"})]})]})}),t.status&&e.jsx(c,{children:t.status})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(q,{type:"submit",disabled:g,children:g?"Updating...":"Update Variant"})})]})})})]})]})}export{Z as default};
